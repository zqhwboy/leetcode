/*! For license information please see main-question-detail.14408bbc.js.LICENSE.txt */
(window.nojMonomainwebpackJsonpproduction=window.nojMonomainwebpackJsonpproduction||[]).push([[85],{"/w/G":function(e,t,n){e.exports={"mobile-panel":"mobile-panel__K_na",mobilePanel:"mobile-panel__K_na","mobile-header":"mobile-header__3CbH",mobileHeader:"mobile-header__3CbH",header:"header___3eQ",question:"question__3cwj",difficulty:"difficulty__1lqy",easy:"easy__-Aw9",medium:"medium__36nf",hard:"hard__3Pim",title:"title__2Eh1"}},"13pT":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("D57K"),a=n("K/af"),r=n("ERkP"),o=n.n(r),s=n("fgzu"),l=n("2lH5"),u=n("Zz61"),c=n("34li"),d=n("luml"),p=n("W4kd"),m=n("z2yo"),f=[{label:"\u96be\u4ee5\u7406\u89e3",value:c.S.HardToUnderstand},{label:"\u66b4\u529b\u6216\u975e\u6b63\u5f53\u89e3\u6cd5",value:c.S.ImproperSolution},{label:"\u975e\u9898\u89e3\u5185\u5bb9",value:c.S.NonSolution},{label:"\u5176\u4ed6",value:c.S.Other}],b=o.a.memo((function(e){var t=e.articleTitle,n=e.articleSlug,b=e.isActive,g=e.onClose,v=Object(i.__read)(Object(a.a)(d.a),2)[1].sendSolutionFeedback,h=Object(i.__read)(Object(r.useState)(""),2),y=h[0],k=h[1],O=Object(i.__read)(Object(r.useState)(c.S.HardToUnderstand),2),_=O[0],S=O[1],j=Object(i.__read)(Object(r.useState)(""),2),N=j[0],E=j[1],C=_===c.S.Other,x=Object(r.useCallback)((function(){k(""),S(c.S.HardToUnderstand)}),[]),q=Object(r.useCallback)((function(){C&&!y?s.a.error("\u8bf7\u586b\u5199\u53cd\u9988\u5185\u5bb9"):(v({data:{solutionSlug:n,reason:_,detail:y}}),g(),x())}),[n,y,g,C,_,v,x]);return o.a.useEffect((function(){b?N!==n&&x():E(n)}),[b,n,N,x]),o.a.createElement(l.a,{type:"default",title:"\u8bf7\u586b\u5199\u53cd\u9988\u5185\u5bb9",isActive:b,onClose:g,onConfirm:q},o.a.createElement(p.a,null,o.a.createElement(p.e,null,o.a.createElement(p.c,null,"\u9898\u89e3\u6807\u9898\uff1a"),o.a.createElement(p.g,null,t)),o.a.createElement(p.e,null,o.a.createElement(p.d,null,"\u53cd\u9988\u539f\u56e0\uff1a"),o.a.createElement(u.a,{className:p.h,options:f,checkedValue:_,onValueChange:S})),o.a.createElement(p.e,null,o.a.createElement(p.c,{required:C},"\u53cd\u9988\u5185\u5bb9\uff1a"),o.a.createElement(m.a,{value:y,onValueChange:k}))))}))},"2ESd":function(e,t,n){e.exports={header:"header__1OHv"}},"4j/N":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("ERkP"),a=n.n(i),r=n("TMWK"),o=n("fgAA"),s=Object(r.a)("span",{target:"e1vj4u520"})((function(e){var t=e.disabled;return{display:"inline-flex",verticalAlign:"bottom",alignItems:"center",justifyContent:"center",height:"100%",boxSizing:"border-box",color:o.a.grey(8),cursor:t?"not-allowed":"pointer",userSelect:"none",transition:"all 0.3s","::before":{transition:"all 0.3s",cursor:t?"not-allowed":"pointer"}}}),"label:Radio;");function l(e){var t=e.value,n=e.checked,r=e.disabled,o=e.onValueChange,l=e.className,u=e.children,c=Object(i.useCallback)((function(){r||o(t)}),[r,t,o]);return a.a.createElement(s,{value:t,checked:n,disabled:r,className:l,onClick:c,role:"radio","aria-checked":n},u)}},"5CXp":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("34li"),a=n("zRE0");function r(e){return e.articleData.slug?{closeActionName:e.articleData.status===i.m.Draft?"\u5173\u95ed\u5e76\u4fdd\u5b58":"\u53d6\u6d88\u7f16\u8f91",canCloseEditorDirectly:!1}:{closeActionName:"\u5173\u95ed",canCloseEditorDirectly:!0}}function o(e){var t=e.solutionAreaShownPart;return t===a.a.EDITOR||t===a.a.WILL_CLOSE_EDITOR}},"5fV+":function(e,t,n){e.exports={"question-picker-detail-menu":"question-picker-detail-menu__3NQq",questionPickerDetailMenu:"question-picker-detail-menu__3NQq",show:"show__3hiR",hide:"hide__w7-X","question-picker-toolbar-wrapper":"question-picker-toolbar-wrapper__1TAh",questionPickerToolbarWrapper:"question-picker-toolbar-wrapper__1TAh","question-picker-questions-wrapper":"question-picker-questions-wrapper__13qM",questionPickerQuestionsWrapper:"question-picker-questions-wrapper__13qM"}},"6jnZ":function(e,t,n){e.exports={wrapper:"wrapper__3mF4","bottom-container":"bottom-container__3F9M",bottomContainer:"bottom-container__3F9M","side-tools":"side-tools__3mLh",sideTools:"side-tools__3mLh","error-wrap":"error-wrap__3C8H",errorWrap:"error-wrap__3C8H"}},"6vca":function(e,t,n){e.exports={"picker-toolbar":"picker-toolbar__vOYx",pickerToolbar:"picker-toolbar__vOYx","list-filter":"list-filter__HhlZ",listFilter:"list-filter__HhlZ","list-filter-selector":"list-filter-selector__1EgW",listFilterSelector:"list-filter-selector__1EgW","filter-toggle-highlighted":"filter-toggle-highlighted__1XF5",filterToggleHighlighted:"filter-toggle-highlighted__1XF5","list-filter-icon":"list-filter-icon__36-o",listFilterIcon:"list-filter-icon__36-o",handlers:"handlers__312N",space:"space__2d2f","picker-toolbar-search":"picker-toolbar-search__ekud",pickerToolbarSearch:"picker-toolbar-search__ekud","picker-toolbar-select":"picker-toolbar-select__1GFb",pickerToolbarSelect:"picker-toolbar-select__1GFb","applied-filters":"applied-filters__3v0X",appliedFilters:"applied-filters__3v0X","applied-filters-item":"applied-filters-item__23K0",appliedFiltersItem:"applied-filters-item__23K0","filter-close-icon-wrapper":"filter-close-icon-wrapper__20HK",filterCloseIconWrapper:"filter-close-icon-wrapper__20HK","filter-close-icon":"filter-close-icon__30y_",filterCloseIcon:"filter-close-icon__30y_","applied-filters-clear-icon":"applied-filters-clear-icon__1IWv",appliedFiltersClearIcon:"applied-filters-clear-icon__1IWv","problem-filter":"problem-filter__1mCo",problemFilter:"problem-filter__1mCo","problem-filter-category":"problem-filter-category__5uMV",problemFilterCategory:"problem-filter-category__5uMV","problem-filter-companies":"problem-filter-companies__2QL1",problemFilterCompanies:"problem-filter-companies__2QL1","problem-filter-difficulty":"problem-filter-difficulty__DGKA",problemFilterDifficulty:"problem-filter-difficulty__DGKA","problem-filter-status":"problem-filter-status__2I1V",problemFilterStatus:"problem-filter-status__2I1V","problem-filter-topics":"problem-filter-topics__2vTh",problemFilterTopics:"problem-filter-topics__2vTh","clear-all-icon":"clear-all-icon__jOnq",clearAllIcon:"clear-all-icon__jOnq","problem-filter-select-wrapper":"problem-filter-select-wrapper__3l5f",problemFilterSelectWrapper:"problem-filter-select-wrapper__3l5f","problem-filter-select-wrapper-selected":"problem-filter-select-wrapper-selected__1Slj",problemFilterSelectWrapperSelected:"problem-filter-select-wrapper-selected__1Slj","problem-filter-select":"problem-filter-select__30HP",problemFilterSelect:"problem-filter-select__30HP","problem-filter-select-icon":"problem-filter-select-icon__BTkp",problemFilterSelectIcon:"problem-filter-select-icon__BTkp","problem-filter-leetcode-logo":"problem-filter-leetcode-logo__1o8C",problemFilterLeetcodeLogo:"problem-filter-leetcode-logo__1o8C","problem-filter-button-wrapper":"problem-filter-button-wrapper__F6tT",problemFilterButtonWrapper:"problem-filter-button-wrapper__F6tT","problem-filter-label":"problem-filter-label__39vQ",problemFilterLabel:"problem-filter-label__39vQ","problem-filter-buttons":"problem-filter-buttons__MYgC",problemFilterButtons:"problem-filter-buttons__MYgC","problem-filter-button":"problem-filter-button__MFUh",problemFilterButton:"problem-filter-button__MFUh","problem-filter-button-selected":"problem-filter-button-selected__Wyv8",problemFilterButtonSelected:"problem-filter-button-selected__Wyv8","problem-filter-select-container":"problem-filter-select-container__3hO2",problemFilterSelectContainer:"problem-filter-select-container__3hO2"}},"88eL":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("D57K"),a=n("ERkP"),r=n.n(a),o=n("GG6d"),s=r.a.forwardRef((function(e,t){return r.a.createElement(o.a,Object(i.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),r.a.createElement("path",{fillRule:"evenodd",d:"M12 3a1 1 0 110 2H5.778A.778.778 0 005 5.778v12.444c0 .43.348.778.778.778h12.444c.43 0 .778-.348.778-.778V12a1 1 0 112 0v6.222A2.778 2.778 0 0118.222 21H5.778A2.778 2.778 0 013 18.222V5.778A2.778 2.778 0 015.778 3H12zm9.608-.608a2.803 2.803 0 010 3.964l-8.073 8.073a1 1 0 01-.465.263l-3.399.85a1 1 0 01-1.213-1.213l.85-3.4a1 1 0 01.263-.464l8.073-8.073a2.803 2.803 0 013.964 0zm-1.415 2.55a.803.803 0 00-1.135-1.135l-7.877 7.877-.378 1.513 1.513-.378 7.877-7.877z",clipRule:"evenodd"}))}))},"9+4l":function(e,t,n){e.exports={"question-picker-mask":"question-picker-mask__2FlK",questionPickerMask:"question-picker-mask__2FlK",show:"show__-2Qb",hide:"hide__TBpZ"}},CXWL:function(e,t,n){},DRjC:function(e,t,n){e.exports={header:"header__1If0","time-period-button-group":"time-period-button-group__2vI1",timePeriodButtonGroup:"time-period-button-group__2vI1","time-period-button":"time-period-button__Mh4H",timePeriodButton:"time-period-button__Mh4H",selected:"selected__2MdW",disabled:"disabled__2Cf_","subscribe-modal-body":"subscribe-modal-body__12Mq",subscribeModalBody:"subscribe-modal-body__12Mq","subscribe-modal-button":"subscribe-modal-button__2eD1",subscribeModalButton:"subscribe-modal-button__2eD1","info-icon":"info-icon__3L3i",infoIcon:"info-icon__3L3i","lock-icon":"lock-icon__26Ue",lockIcon:"lock-icon__26Ue","company-tag-wrapper":"company-tag-wrapper__1DTg",companyTagWrapper:"company-tag-wrapper__1DTg","company-tag":"company-tag__2trG",companyTag:"company-tag__2trG",separator:"separator__36RU","auth-logo":"auth-logo__1Ny6",authLogo:"auth-logo__1Ny6","load-more":"load-more__2Cip",loadMore:"load-more__2Cip"}},E3UG:function(e,t,n){var i=n("4ygQ")((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}));e.exports=i},FaEs:function(e,t){e.exports="https://static.leetcode-cn.com/cn-mono-assets/production/assets/recheck_in_rule_02.a17dda61.png"},FieA:function(e,t,n){e.exports={"empty-list":"empty-list__kWOi",emptyList:"empty-list__kWOi","empty-list-label":"empty-list-label__3ajP",emptyListLabel:"empty-list-label__3ajP"}},"G6+5":function(e,t,n){"use strict";n.r(t);var i=n("D57K"),a=n("f7k3"),r=n("K/af"),o=n("ERkP"),s=n.n(o),l=n("zCf4"),u=n("sypB");var c=n("8JP3"),d=n("l1SX"),p=n("2lH5"),m=n("dTXi"),f=n("nnm9"),b=n.n(f),g=n("xdqw"),v=n("AnWY"),h=Object(g.a)(v.n),y=s.a.createContext({isSourceQuestion:!1,toggleShowSourceQuestion:b.a}),k=y.Provider,O=y.Consumer,_=function(e){return function(t){return s.a.createElement(O,null,(function(n){return s.a.createElement(e,Object(i.__assign)({},n,t))}))}},S=n("T+5a"),j=n("/NrN"),N=n("34li"),E=n("aH7E"),C=n("TMWK"),x=n("fgAA"),q=(n("GccU"),n("brrL")),F=Object(C.a)("span",{target:"e1z0dvl1"})({color:x.a.primary(5)},"label:GreenText;"),T=(x.a.primary(5),x.a.grey(0),x.a.grey(9,.1),Object(C.a)("div",{target:"e1z0dvl7"})({position:"fixed",top:0,left:0,height:"100vh",width:"100vw",backgroundColor:x.a.fix.grey(9,.5),display:"flex",alignItems:"center",justifyContent:"center",color:x.a.fix.grey(0),flexDirection:"column"},"label:MedalsModalBackground;")),w=Object(C.a)("p",{target:"e1z0dvl8"})({fontSize:"18px",margin:0},"label:MedalsModalTitle;"),I=Object(C.a)("p",{target:"e1z0dvl9"})({fontSize:"16px",marginBottom:"26px"},"label:MedalsModalSubTitle;"),P=Object(C.a)("div",{target:"e1z0dvl10"})({display:"inline-block",textAlign:"center"," + &":{marginLeft:"32px"}},"label:Medal;"),R=Object(C.a)("div",{target:"e1z0dvl11"})((function(e){var t=e.img;return{width:"156px",height:"156px",padding:"13px 13px",backgroundImage:t?"url("+t+")":void 0,backgroundSize:"cover"}}),"label:MedalBackground;"),D=Object(C.a)("img",{target:"e1z0dvl12"})({width:"120px",height:"120px"},"label:MedalImg;"),A=Object(C.a)("div",{target:"e1z0dvl14"})({padding:"30px",textAlign:"center"},"label:CompleteModalContent;"),Q=Object(C.a)("div",{target:"e1z0dvl15"})({fontSize:"18px",fontWeight:500,marginBottom:"8px"},"label:ComboText;"),L=Object(C.a)("div",{target:"e1z0dvl16"})({border:"4px solid "+x.a.primary(5),width:80,height:80,margin:"24px auto 12px auto"},"label:QRCodeWrapper;"),M=Object(C.a)(j.a,{target:"e1z0dvl17"})((function(e){var t=e.marginTop;return{marginTop:(void 0===t?24:t)+"px"}}),"label:ConfirmButton;"),V=Object(C.a)("div",{target:"e1z0dvl18"})({paddingBottom:"8px",fontSize:"16px",lineHeight:"24px"},"label:RemarkTextWrapper;"),z=Object(C.a)("div",{target:"e1z0dvl19"})((function(){return{paddingBottom:"12px",textAlign:"right","& button":{marginRight:"16px"}}}),"label:FooterWrapper;"),W=Object(C.a)("span",{target:"e1z0dvl20"})({color:x.a.red(5)},"label:SpecialText;"),B=Object(C.a)("div",{target:"e1z0dvl21"})({color:x.a.grey(9,.45),width:586,padding:"16px 0"},"label:GreyText;"),H=Object(C.a)("div",{target:"e1z0dvl22"})({backgroundColor:x.a.primary(0),padding:"15px 30px 0",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"-16px"},"label:Wrapper;"),$=Object(C.a)("img",{target:"e1z0dvl23"})({width:"56px",height:"36px",position:"absolute"},"label:Dot;"),U=Object(C.a)($,{target:"e1z0dvl24"})({top:"0px",left:"0px"},"label:TopLeftDot;"),K=Object(C.a)($,{target:"e1z0dvl25"})({top:"0px",right:"0px"},"label:TopRightDot;"),G=Object(C.a)("img",{target:"e1z0dvl26"})({width:"116px",height:"76px",bottom:"12px",position:"absolute"},"label:BottomDot;"),Y=Object(C.a)(G,{target:"e1z0dvl27"})({right:"8px"},"label:BottomRightDot;"),J=Object(C.a)(G,{target:"e1z0dvl28"})({left:"8px"},"label:BottomLeftDot;"),X=Object(C.a)("h1",{target:"e1z0dvl29"})({height:"42px",display:"flex",alignItems:"center",fontSize:"30px"},"label:Title;"),Z=Object(C.a)(q.a,{target:"e1z0dvl30"})({width:"26px",height:"26px",color:x.a.fix.primary(5)},"label:StyledIconCheckTask;"),ee=x.a.fix.grey(7),te=x.a.fix.grey(9),ne=x.a.fix.primary(5),ie=x.a.fix.grey(0),ae=Object(C.a)("ul",{target:"e1z0dvl31"})({paddingLeft:0,listStyle:"none",display:"flex",margin:0},"label:TabNavWrapper;"),re=Object(C.a)("li",{target:"e1z0dvl32"})((function(e){var t=e.active,n=void 0!==t&&t;return{backgroundColor:n?ie:ne,cursor:"pointer",width:284,borderTopLeftRadius:8,borderTopRightRadius:8,lineHeight:"56px",fontWeight:500,textAlign:"center",boxShadow:"0 2px 3px "+x.a.fix.grey(6,.27),marginRight:20,color:n?ne:x.a.fix.grey(0,.5),backgroundImage:n?"none":"linear-gradient(180deg,"+x.a.fix.primary(4)+" 0% ,"+x.a.fix.primary(5)+" 0%, "+x.a.fix.primary(6)+" 100%)","&:last-of-type":{marginRight:0}}}),"label:TabItem;"),oe=Object(C.a)("div",{target:"e1z0dvl33"})((function(e){var t=e.active;return{display:void 0!==t&&t?"block":"none",paddingTop:26}}),"label:ContentItem;"),se=Object(C.a)("div",{target:"e1z0dvl34"})({backgroundColor:ie,position:"relative",boxShadow:"0 2px 3px "+x.a.fix.grey(6,.27),height:489,borderBottomLeftRadius:4,borderBottomRightRadius:4},"label:ContentWrapper;"),le=Object(C.a)("div",{target:"e1z0dvl35"})({display:"inline-block",width:22,height:22,lineHeight:"22px",marginRight:8,color:ie,backgroundColor:ne,textAlign:"center",borderRadius:"50%"},"label:NumberWrapper;"),ue=Object(C.a)("div",{target:"e1z0dvl36"})({paddingLeft:36,color:ne,paddingBottom:4,fontSize:16,fontWeight:500,lineHeight:"24px"},"label:PrimaryHeader;"),ce=Object(C.a)("div",{target:"e1z0dvl37"})({paddingLeft:66,fontSize:14,lineHeight:"24px"},"label:TextWrapper;"),de=Object(C.a)("span",{target:"e1z0dvl38"})({color:te,fontWeight:500},"label:EmphsisText;"),pe=Object(C.a)("span",{target:"e1z0dvl39"})({color:ee},"label:NormalText;"),me=Object(C.a)("div",{target:"e1z0dvl40"})({display:"flex",justifyContent:"space-around",padding:"15px 50px 30px"},"label:MarkImgWapper;"),fe=Object(C.a)("div",{target:"e1z0dvl41"})((function(e){var t=e.marginTop;return{display:"flex",marginTop:void 0===t?0:t,paddingRight:40}}),"label:RemarkStepWrapper;"),be=Object(C.a)("div",{target:"e1z0dvl42"})({width:360},"label:RemarkStepTextWrapper;"),ge=Object(C.a)("div",{target:"e1z0dvl43"})({flex:1,textAlign:"center"},"label:RemarkStepImgWrapper;"),ve=Object(C.a)("div",{target:"e1z0dvl44"})({margin:"20px 30px 0 30px",borderTop:"1px solid #e5e5e5"},"label:Note;"),he=Object(C.a)("div",{target:"e1z0dvl45"})({width:80,margin:"-10px auto",textAlign:"center",lineHeight:"20px",fontSize:12,backgroundColor:ie,color:x.a.fix.grey(6)},"label:NoteText;"),ye=Object(C.a)("div",{target:"e1z0dvl46"})({marginTop:24,lineHeight:"24px",paddingLeft:30,fontSize:12,color:x.a.fix.grey(6),".em":{color:ee,fontWeight:500}},"label:RemarkNote;"),ke=Object(C.a)("div",{target:"e1z0dvl47"})({color:x.a.fix.primary(7,.7),fontSize:12,lineHeight:"20px",textAlign:"center",padding:"12px 0"},"label:AcitveRight;"),Oe=Object(C.a)("div",{target:"e1z0dvl48"})({textAlign:"right",padding:"12px 16px"},"label:Footer;"),_e=function(e){var t=e.children,n=e.defaultActiveKey,a=void 0===n?null:n,r=e.onChange,l=Object(i.__read)(Object(o.useState)(a),2),u=l[0],c=l[1],d=Object(o.useCallback)((function(e){return function(){c(e),r&&r(e)}}),[c,r]);return s.a.createElement("div",null,s.a.createElement(ae,null,s.a.Children.map(t,(function(e){return s.a.isValidElement(e)?s.a.createElement(re,{active:u===e.key,key:e.key,onClick:d(e.key)},e.props.title):null}))),s.a.createElement(se,null,s.a.Children.map(t,(function(e){return s.a.isValidElement(e)?s.a.createElement(oe,{active:u===e.key,key:e.key},e.props.children):null}))))},Se=function(e){return null},je=n("Nrjr"),Ne=n.n(je),Ee=n("TZ8k"),Ce=n.n(Ee),xe=n("L+TT"),qe=n.n(xe),Fe=n("rP/O"),Te=n.n(Fe),we=n("mWj+"),Ie=n.n(we),Pe=n("PQvM"),Re=n.n(Pe),De=n("RpkY"),Ae=n.n(De),Qe=n("FaEs"),Le=n.n(Qe),Me=n("N49g"),Ve=n("hIJ3"),ze=s.a.memo((function(e){var t=e.isActive,n=e.title,a=e.children,r=(e.cancelText,e.confirmText,e.onClose),o=(e.onConfirm,Object(i.__rest)(e,["isActive","title","children","cancelText","confirmText","onClose","onConfirm"]));return s.a.createElement(Me.a,Object(i.__assign)({isActive:t,onClickOutside:r,header:s.a.createElement(Ve.a,{type:"default",title:n,onClickCloseButton:r}),footer:null},o),a)})),We="guide-modal-shown";function Be(){var e=Object(i.__read)(Object(r.a)(E.a),1)[0].question,t=e.isDailyQuestion,n=e.dailyRecordStatus,a=Object(i.__read)(Object(o.useState)((function(){if(t&&(!n||n===N.tc.NotStart)){var e=Object(g.a)("daily-question"),i=e.get(We,!1);return i||e.set(We,!0),!i}return!1})),2),l=a[0],u=a[1],c=Object(o.useCallback)((function(){u(!1)}),[]);return s.a.createElement(ze,{title:s.a.createElement("span",null,"\ud83d\uddd3\ufe0f \xa0 \u6253\u5361\u6d3b\u52a8\u89c4\u5219\u8bf4\u660e"),minHeight:"670px",width:"746px",isActive:l,onClose:c,onConfirm:c,footer:s.a.createElement(Oe,null,s.a.createElement(j.a,{kind:"primary",onClick:c},"\u786e\u5b9a"))},s.a.createElement(H,null,s.a.createElement(U,{src:Ne.a}),s.a.createElement(K,{src:Ne.a}),s.a.createElement(Y,{src:Ce.a}),s.a.createElement(J,{src:qe.a}),s.a.createElement(X,null,"\u6bcf\u65e5 1 \u9898\u6311\u6218 \xa0",s.a.createElement(Z,null)),s.a.createElement(B,null,"\u529b\u6263\u541b\u7cbe\u9009\u4f17\u591a\u9ad8\u9891\u9762\u8bd5\u9898\uff0c\u966a\u4f34\u5927\u5bb6\u6bcf\u5929\u5b8c\u6210 1 \u9898\uff0c\u4e0d\u65ad\u63d0\u5347\u81ea\u8eab\u6280\u672f\u5b9e\u529b\uff0c\u66f4\u52a0\u4ece\u5bb9\u5e94\u5bf9\u5404\u79cd\u672a\u77e5\u53d8\u5316\u3002\u575a\u6301\u5237\u9898\uff0c\u6301\u7eed\u4f18\u79c0\u3002\u270a"),s.a.createElement(_e,{defaultActiveKey:"mark_rule"},s.a.createElement(Se,{title:"\u6253\u5361\u89c4\u5219",key:"mark_rule"},s.a.createElement(ue,null,s.a.createElement(le,null,"1"),s.a.createElement("span",null,"\u627e\u5230\u300c\u6bcf\u65e5 1 \u9898\u300d")),s.a.createElement(ce,null,s.a.createElement(pe,null,"\u6bcf\u5929 0 \u70b9\uff0c\u9898\u5e93\u9875\u5217\u8868 ",s.a.createElement(de,null,"\u7b2c 1 \u9875")," \u7f6e\u9876\u66f4\u65b0\u5f53\u5929\u6253\u5361\u9898\u76ee\uff1b",s.a.createElement("br",null),"\u9898\u76ee\u5217\u8868\u7b2c 1 \u9875\uff01\u7b2c 1 \u9875\uff01\u7b2c 1 \u9875\uff01\uff08\u627e\u4e0d\u5230\u7684\u8bdd\uff0c\u770b\u4e0b\u662f\u5426\u7ffb\u9875\u4e86\u54e6\uff5e\uff09")),s.a.createElement(me,null,s.a.createElement("div",null,s.a.createElement("img",{src:Te.a,width:"161",height:"146",alt:""})),s.a.createElement("div",null,s.a.createElement("img",{src:Ie.a,width:"161",height:"146",alt:""}))),s.a.createElement(ue,null,s.a.createElement(le,null,"2"),s.a.createElement("span",null,"\u6210\u529f\u63d0\u4ea4\u5f53\u5929\u6253\u5361\u9898\u76ee\uff0c\u5b8c\u6210\u6253\u5361")),s.a.createElement(ce,null,s.a.createElement(pe,null,"\u82e5\u8be5\u9898\u76ee\u4e4b\u524d\u505a\u8fc7\uff0c\u9700\u5728\u5f53\u5929\u91cd\u65b0\u6210\u529f\u63d0\u4ea4\u624d\u53ef\u8bb0\u4e3a\u5b8c\u6210\u6253\u5361\uff1b",s.a.createElement("br",null),"\u300c\u6bcf\u65e5 1 \u9898\u300d\u6253\u5361\u6d3b\u52a8\u76ee\u524d\u4ec5\u5728 Web \u7aef\u8fdb\u884c\u3002"))),s.a.createElement(Se,{title:"\u8865\u5361\u89c4\u5219",key:"remark_rule"},s.a.createElement(fe,null,s.a.createElement(be,null,s.a.createElement(ue,null,s.a.createElement(le,null,"1"),s.a.createElement("span",null,"\u79ef\u5206\u5151\u6362\u8865\u5361\u5238\uff0c\u6bcf\u6708\u53ef\u5151 3 \u5f20")),s.a.createElement(ce,null,s.a.createElement(pe,null,"\u65e5\u5386\u70b9\u51fb\u300c\u5151\u6362\u300d\u6216\u76f4\u63a5\u524d\u5f80\u529b\u6263\u5546\u5e97\u5151\u6362\u8865\u5361\u5238\u3002"))),s.a.createElement(ge,null,s.a.createElement("img",{src:Re.a,width:"110",height:"90",alt:""}))),s.a.createElement(fe,{marginTop:15},s.a.createElement(be,null,s.a.createElement(ue,null,s.a.createElement(le,null,"2"),s.a.createElement("span",null,"\u627e\u5230\u8865\u5361\u9898\u76ee\uff0c\u70b9\u51fb\u524d\u5f80\u8865\u5361")),s.a.createElement(ce,null,s.a.createElement(pe,null,"\u8865\u5361\u5238\u4f7f\u7528\u8303\u56f4\uff1a\u672c\u5e74\u5ea6\u4efb\u610f\u6708\u4efd\u7684\u7f3a\u5361\u9898\u76ee\u3002"))),s.a.createElement(ge,null,s.a.createElement("img",{src:Ae.a,width:"110",height:"90",alt:""}))),s.a.createElement(fe,{marginTop:15},s.a.createElement(be,null,s.a.createElement(ue,null,s.a.createElement(le,null,"3"),s.a.createElement("span",null,"\u5b8c\u6210\u8865\u5361\uff0c\u8fbe\u6210\u5168\u52e4\u6210\u5c31")),s.a.createElement(ce,null,s.a.createElement(pe,null,"\u6210\u529f\u63d0\u4ea4\u7f3a\u5361\u9898\u76ee\uff0c\u5e76\u786e\u8ba4\u4f7f\u7528\u8865\u5361\u5238\u3002"))),s.a.createElement(ge,null,s.a.createElement("img",{src:Le.a,width:"110",height:"90",alt:""}))),s.a.createElement(ve,null),s.a.createElement(he,null,"\u6ce8\u610f\u4e8b\u9879"),s.a.createElement(ye,null,"\u2022 \u5f53\u6708\u5151\u6362\u7684\u8865\u5361\u5238\u4ec5\u9650\u5f53\u6708\u4f7f\u7528\uff0c\u6b21\u6708\u5931\u6548\uff1b",s.a.createElement("br",null),"\u2022 \u8865\u5361\u5238\u5151\u6362\u65f6\u95f4\uff1a\u6bcf\u6708",s.a.createElement("span",{className:"em"}," \u7b2c 1 \u5929 0:00 \u81f3 \u6700\u540e\u4e00\u5929 23:00\uff1b"),s.a.createElement("br",null),"\u2022 \u8865\u5361\u540e\u8fbe\u6210\u5168\u52e4\u6210\u5c31\uff0c\u53ef\u83b7\u5f97\u6708\u5ea6\u6253\u5361\u52cb\u7ae0\uff0c\u4f46\u65e0\u5168\u52e4 100 \u79ef\u5206\u5956\u52b1\u3002"))),s.a.createElement(ke,null,"\u672c\u6b21\u6d3b\u52a8\u6700\u7ec8\u89e3\u91ca\u6743\u5f52\u9886\u6263\u7f51\u7edc\u6240\u6709")))}var He=n("+1CV"),$e=n("xqpu"),Ue=n("1QlS"),Ke=n("fgzu"),Ge=n("7J95"),Ye=n("5Nzd"),Je=n("u3dr"),Xe=n("2wT7"),Ze=n("9EWH"),et=n("HnWI"),tt=n("AouM"),nt=n("Jg5f"),it=n("wUZp"),at=n("B07F"),rt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"latestUserQuestionRecordsAndRemarks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"questionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"latestUserRecords"},name:{kind:"Name",value:"latestUserRecordByQuestionId"},arguments:[{kind:"Argument",name:{kind:"Name",value:"questionId"},value:{kind:"Variable",name:{kind:"Name",value:"questionId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dailyQuestion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastSubmission"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lang"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statusDisplay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"titleSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userStatus"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isDailyQuestion"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"remarks"},name:{kind:"Name",value:"userDailyQuestionRemarkCards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"usedCount"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query latestUserQuestionRecordsAndRemarks ($questionId: ID!){\n  latestUserRecords: latestUserRecordByQuestionId(questionId: $questionId) {\n    dailyQuestion {\n      date\n      id\n      lastSubmission {\n        code\n        lang\n        statusDisplay\n        id\n      }\n      question {\n        titleSlug\n        title\n      }\n      userStatus\n    }\n    isDailyQuestion\n  }\n  remarks: userDailyQuestionRemarkCards {\n    cardCount\n    usedCount\n  }\n}"}},operationName:"latestUserQuestionRecordsAndRemarks",defName:"latestUserRecordByQuestionId,userDailyQuestionRemarkCards"},ot={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"dailyQuestionRecords"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"year"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"month"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dailyQuestionRecords"},arguments:[{kind:"Argument",name:{kind:"Name",value:"year"},value:{kind:"Variable",name:{kind:"Name",value:"year"}}},{kind:"Argument",name:{kind:"Name",value:"month"},value:{kind:"Variable",name:{kind:"Name",value:"month"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionFrontendId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionTitleSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userStatus"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query dailyQuestionRecords($year: Int!, $month: Int!) {\n  dailyQuestionRecords(year: $year, month: $month) {\n    date\n    question {\n      questionId\n      questionFrontendId\n      questionTitle\n      questionTitleSlug\n      translatedTitle\n    }\n    userStatus\n  }\n}\n"}},operationName:"dailyQuestionRecords",defName:"dailyQuestionRecords"},st={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"remarkDailyQuestion"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"submissionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"date"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Date"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"remarkDailyQuestion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"submissionId"},value:{kind:"Variable",name:{kind:"Name",value:"submissionId"}}},{kind:"ObjectField",name:{kind:"Name",value:"date"},value:{kind:"Variable",name:{kind:"Name",value:"date"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation remarkDailyQuestion($submissionId: ID!, $date: Date!) {\n  remarkDailyQuestion(data: {submissionId: $submissionId, date: $date}) {\n    ok\n  }\n}"}},operationName:"remarkDailyQuestion",defName:"remarkDailyQuestion"},lt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"todayRecord"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"todayRecord"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comboTimes"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query todayRecord {\n  todayRecord {\n    userStatus\n    comboTimes\n  }\n}"}},operationName:"todayRecord",defName:"todayRecord"},ut=n("UMhZ"),ct=n("L6nh"),dt={comboTimes:0,finished:!1,medals:[],records:[],latestUserRecords:null,remarks:null,remarkStatus:null,medalByRemark:{isShow:!1,date:""}},pt=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=dt,n}var n,a,r,o,s,l,u,c,d,p,m,f,b,g,v,h,y,k,O,_,S;return Object(i.__extends)(t,e),t.prototype.setShowMedalByRemark=function(e,t){e.medalByRemark=t},t.prototype.reset=function(e){e.remarkStatus=null,e.records=[],e.remarks=null,e.latestUserRecords=null},t.prototype.setTodayRecord=function(e,t){var n,a=Object(i.__read)(t,1)[0];a&&(e.comboTimes=null!==(n=a.comboTimes)&&void 0!==n?n:0,e.finished=a.userStatus===N.tc.Finish)},t.prototype.setFinishedToday=function(e){e.comboTimes++,e.finished=!0},t.prototype.setLatestUserRecords=function(e,t){e.latestUserRecords=t.latestUserRecords,e.remarks=t.remarks},t.prototype.setRecords=function(e,t){e.records=t.dailyQuestionRecords},t.prototype.setRemarkStatus=function(e,t){e.remarkStatus=t},t.prototype.fetchLatestUserRecords=function(e){var t=this;return e.pipe(Object(tt.a)((function(e){return t.client.query({query:rt,fetchPolicy:"network-only",variables:e}).pipe(Object(it.a)("\u83b7\u53d6\u9898\u76ee\u6bcf\u65e5\u4e00\u9898\u4fe1\u606f\u5931\u8d25"),Object(nt.a)((function(e){var n=e.data;return t.getActions().setLatestUserRecords(n)})))})))},t.prototype.fetchDailyRecords=function(e){var t=this;return e.pipe(Object(tt.a)((function(e){return t.client.query({query:ot,variables:e,fetchPolicy:"network-only"}).pipe(Object(it.a)("\u83b7\u53d6\u9898\u76ee\u6bcf\u65e5\u4e00\u9898\u4fe1\u606f\u5931\u8d25"),Object(nt.a)((function(e){var n=e.data;return t.getActions().setRecords(n)})))})))},t.prototype.remarkDailyQuestion=function(e){var t=this;return e.pipe(Object(tt.a)((function(e){return t.client.mutate({mutation:st,variables:e}).pipe(Object(it.a)("\u8865\u5361\u5931\u8d25"),Object(nt.a)((function(e){var n,i=e.data;return t.getActions().setRemarkStatus(null===(n=null===i||void 0===i?void 0:i.remarkDailyQuestion)||void 0===n?void 0:n.ok)})))})))},t.prototype.getTodayRecord=function(e){var t=this;return e.pipe(Object(tt.a)((function(){return t.client.query({query:lt,fetchPolicy:"network-only"}).pipe(Object(it.a)("\u83b7\u53d6\u6253\u5361\u5237\u9898\u8bb0\u5f55\u5931\u8d25"),Object(nt.a)((function(e){var n=e.data;return t.getActions().setTodayRecord(n.todayRecord)})))})))},t.prototype.setMedals=function(e,t){e.medals=t},t.prototype.getMedals=function(e){var t=this;return e.pipe(Object(tt.a)((function(e){return t.client.query({query:ut.a,variables:{userSlug:e},fetchPolicy:"network-only"}).pipe(Object(it.a)("\u83b7\u53d6\u52cb\u7ae0\u4fe1\u606f\u5931\u8d25"),Object(nt.a)((function(e){var n,i=e.data;return t.getActions().setMedals(null!==(n=i.userProfileUserMedals)&&void 0!==n?n:[])})))})))},Object(i.__decorate)([Object(Je.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof Ze.Draft&&Ze.Draft)?n:Object,Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setShowMedalByRemark",null),Object(i.__decorate)([Object(Je.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof Ze.Draft&&Ze.Draft)?a:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"reset",null),Object(i.__decorate)([Object(Je.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof Ze.Draft&&Ze.Draft)?r:Object,Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setTodayRecord",null),Object(i.__decorate)([Object(Je.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(o="undefined"!==typeof Ze.Draft&&Ze.Draft)?o:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setFinishedToday",null),Object(i.__decorate)([Object(Je.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof Ze.Draft&&Ze.Draft)?s:Object,"function"===typeof(l="undefined"!==typeof ct.LatestUserQuestionRecordsAndRemarksQuery&&ct.LatestUserQuestionRecordsAndRemarksQuery)?l:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setLatestUserRecords",null),Object(i.__decorate)([Object(Je.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(u="undefined"!==typeof Ze.Draft&&Ze.Draft)?u:Object,"function"===typeof(c="undefined"!==typeof ct.DailyQuestionRecordsQuery&&ct.DailyQuestionRecordsQuery)?c:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setRecords",null),Object(i.__decorate)([Object(Je.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(d="undefined"!==typeof Ze.Draft&&Ze.Draft)?d:Object,Boolean]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setRemarkStatus",null),Object(i.__decorate)([Object(Je.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(p="undefined"!==typeof et.a&&et.a)?p:Object]),Object(i.__metadata)("design:returntype","function"===typeof(m="undefined"!==typeof et.a&&et.a)?m:Object)],t.prototype,"fetchLatestUserRecords",null),Object(i.__decorate)([Object(Je.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(f="undefined"!==typeof et.a&&et.a)?f:Object]),Object(i.__metadata)("design:returntype","function"===typeof(b="undefined"!==typeof et.a&&et.a)?b:Object)],t.prototype,"fetchDailyRecords",null),Object(i.__decorate)([Object(Je.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(g="undefined"!==typeof et.a&&et.a)?g:Object]),Object(i.__metadata)("design:returntype","function"===typeof(v="undefined"!==typeof et.a&&et.a)?v:Object)],t.prototype,"remarkDailyQuestion",null),Object(i.__decorate)([Object(Je.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(h="undefined"!==typeof et.a&&et.a)?h:Object]),Object(i.__metadata)("design:returntype","function"===typeof(y="undefined"!==typeof et.a&&et.a)?y:Object)],t.prototype,"getTodayRecord",null),Object(i.__decorate)([Object(Je.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(k="undefined"!==typeof Ze.Draft&&Ze.Draft)?k:Object,Array]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setMedals",null),Object(i.__decorate)([Object(Je.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(O="undefined"!==typeof et.a&&et.a)?O:Object]),Object(i.__metadata)("design:returntype","function"===typeof(_="undefined"!==typeof et.a&&et.a)?_:Object)],t.prototype,"getMedals",null),t=Object(i.__decorate)([Object(Ye.a)(),Object(i.__metadata)("design:paramtypes",["function"===typeof(S="undefined"!==typeof at.a&&at.a)?S:Object])],t)}(Xe.a);function mt(){return(new Date).getDate()}function ft(){var e=Object(i.__read)(Object(r.a)(E.a),1)[0],t=e.submitResult,n=e.question,a=Object(i.__read)(Object(r.a)(pt),2),l=a[0],u=l.comboTimes,c=l.finished,d=a[1],p=d.getTodayRecord,m=d.setFinishedToday,f=d.getMedals,b=Object(o.useContext)($e.c),g=b.isSignedIn,v=b.userSlug,h=Object(o.useMemo)((function(){return mt()}),[]),y=Object(i.__read)(Object(Ue.a)(!1),3),k=y[0],O=y[1],_=y[2];Object(o.useEffect)((function(){g&&p()}),[g]),Object(o.useEffect)((function(){t.status!==Ge.a.AC||c||h!==mt()||(m(),O(),S.a.dailyQuestionCompleteModalExposure())}),[t,c]);var j=Object(o.useCallback)((function(){S.a.dailyQuestionReceiveScoreClick(),Ke.a.success("\u9886\u53d6\u6210\u529f\uff0c\u79ef\u5206 +10"),_(),f(v)}),[v,_,f]),N=Object(o.useCallback)((function(){S.a.dailyQuestionCloseModalClick(),_()}),[]);return g&&t.questionId===n.questionId?s.a.createElement(ze,{title:"\u2705 \u606d\u559c\u5b8c\u6210\u4eca\u65e5\u6253\u5361\u4efb\u52a1",isActive:k,onClose:N},s.a.createElement(A,null,s.a.createElement(Q,null,"\u5df2\u8fde\u7eed\u6253\u5361",s.a.createElement(F,null," "+u+" "),"\u5929"),s.a.createElement(B,null,"\u6bd4\u6628\u5929\u53c8\u8fdb\u6b65\u4e86\u4e0d\u5c11\uff0c\u660e\u5929\u7b49\u4f60\u7ee7\u7eed\u6765\u6253\u5361\u54e6\uff01"),s.a.createElement(L,null,s.a.createElement(He.QRCode,{value:"https://leetcode-cn.com/share/daily-question/"+v+"/"+t.submissionId+"/",level:"Q"})),s.a.createElement(B,null,"\u626b\u7801\u83b7\u53d6\u6bcf\u65e5\u6253\u5361\u6210\u7ee9\u5355"),s.a.createElement(M,{kind:"primary",onClick:j},"\u9886\u53d6 10 \u79ef\u5206"))):null}var bt=n("BQ33"),gt=n.n(bt);var vt=function(){return gt()()},ht=function(e,t){var n=e.reduce((function(e,t){return t.userStatus===N.tc.NotStart?e+1:e}),0);return t?n-1:n};function yt(){var e=Object(i.__read)(Object(r.a)(E.a),1)[0],t=e.submitResult,n=e.question,a=Object(i.__read)(Object(r.a)(pt),2),l=a[0],u=l.remarks,c=l.latestUserRecords,d=l.records,p=l.remarkStatus,m=a[1],f=m.fetchLatestUserRecords,b=m.fetchDailyRecords,g=m.remarkDailyQuestion,v=m.setShowMedalByRemark,h=m.getMedals,y=Object(o.useContext)($e.c),k=y.isSignedIn,O=y.userSlug,_=Object(i.__read)(Object(o.useState)(""),2),j=_[0],C=_[1],x=Object(i.__read)(Object(Ue.a)(!1),3),q=x[0],F=x[1],T=x[2];Object(o.useEffect)((function(){k&&t.questionId&&f({questionId:t.questionId})}),[k,t,f]),Object(o.useEffect)((function(){if(t.status===Ge.a.AC&&u&&u.cardCount-u.usedCount>0&&function(e){if(e){var t=e.isDailyQuestion,n=e.dailyQuestion;return!(!t||!n.some((function(e){return e.userStatus===N.tc.NotStart})))}return!1}(c)){var e=c.dailyQuestion.find((function(e){return e.userStatus===N.tc.NotStart})).date;C(e)}}),[t,F,c,u]),Object(o.useEffect)((function(){if(j){var e=gt()(j).year(),t=gt()(j).month()+1;b({year:e,month:t})}}),[j,b]),Object(o.useEffect)((function(){j&&d.length&&u&&F()}),[d,j,F,u]);var w=Object(o.useMemo)((function(){if(j&&d.length&&u)return p?s.a.createElement("span",null,"\u2705 \xa0 \u8865\u5361\u6210\u529f"):s.a.createElement("span",null,"\ud83d\uddd3\ufe0f \xa0 \u8865\u5361\u63d0\u793a")}),[d,j,u,p]),I=Object(o.useCallback)((function(){t.submissionId&&j&&(S.a.dailyQuestionUseRemarkCardClick(),g({submissionId:t.submissionId,date:j}))}),[t,j,g]),P=Object(o.useCallback)((function(){T()}),[T]),R=Object(o.useCallback)((function(){S.a.dailyQuestionAbandonRemarkClick(),P()}),[P]),D=Object(o.useCallback)((function(){S.a.dailyQuestionCloseRemarkModalClick(),P()}),[P]),A=Object(o.useCallback)((function(){S.a.dailyQuestionCheckMedalClick(),O&&h(O),v({isShow:!0,date:j}),P()}),[O,h,P,v,j]),Q=Object(o.useMemo)((function(){if(p){var e=ht(d,p),t=gt()(j);return e>0||vt().isSame(t,"month")&&vt().date()<vt().daysInMonth()?s.a.createElement(z,null,s.a.createElement(M,{marginTop:12,kind:"primary",onClick:P},"\u6211\u77e5\u9053\u4e86")):s.a.createElement(z,null,s.a.createElement(M,{marginTop:12,onClick:P},"\u6211\u77e5\u9053\u4e86"),s.a.createElement(M,{marginTop:12,kind:"primary",onClick:A},"\u67e5\u770b\u52cb\u7ae0"))}return s.a.createElement(z,null,s.a.createElement(M,{marginTop:12,onClick:R},"\u653e\u5f03\u8865\u5361"),s.a.createElement(M,{marginTop:12,kind:"primary",onClick:I},"\u4f7f\u7528\u8865\u5361\u5238"))}),[I,d,P,p,A,R,j]),L=Object(o.useCallback)((function(){if(j&&d.length&&u){var e=gt()(j),t=ht(d,p);return p?vt().isSame(e,"month")&&(t>0||vt().date()<vt().daysInMonth())?(S.a.dailyQuestionRemarkCurrentMonthExposure(),s.a.createElement(V,null,"\u606d\u559c\u5b8c\u6210 ",e.format("YYYY \u5e74 M \u6708 D \u65e5")," \u8865\u5361\uff01",s.a.createElement("br",null),"\u672c\u6708\u5b8c\u6210\u6253\u5361\u4efb\u52a1\uff0c\u53ef\u83b7\u5f97\u6708\u5ea6\u6253\u5361\u52cb\u7ae0\uff0c\u518d\u63a5\u518d\u5389\u54e6\uff01")):t>0?(S.a.dailyQuestionRemarkMonthNotCompleteExposure(),s.a.createElement(V,null,"\u606d\u559c\u5b8c\u6210 ",e.format("YYYY \u5e74 M \u6708 D \u65e5")," \u8865\u5361\uff01",s.a.createElement("br",null)," \u8be5\u6708\u8fd8\u6709 ",s.a.createElement(W,null,t)," \u5929\u672a\u6253\u5361\u3002\u518d\u63a5\u518d\u5389\u54e6\uff01")):(S.a.dailyQuestionRemarkMonthCompleteExposure(),s.a.createElement(V,null,"\u606d\u559c\u5b8c\u6210 ",e.format("YYYY \u5e74 M \u6708")," \u7684\u300c\u6bcf\u65e5 1 \u9898\u300d\u6253\u5361\u5237\u9898\uff01",s.a.createElement("br",null),"\u6253\u5361\u52cb\u7ae0\u5df2\u53d1\u653e\uff0c\u53ef\u524d\u5f80\u4e2a\u4eba\u4e2d\u5fc3\u67e5\u770b\u54e6\uff01")):(S.a.dailyQuestionRemarkModalExposure(),s.a.createElement(V,null,"\u672c\u9898\u4e3a ",e.format("YYYY \u5e74 M \u6708 D \u65e5")," \u6253\u5361\u9898\uff0c\u8be5\u6708\u8fd8\u6709 ",s.a.createElement(W,null,t)," ","\u5929\u672a\u6253\u5361\uff0c\u672c\u6708\u5269\u4f59\u8865\u5361\u5238 ",s.a.createElement(W,null,u.cardCount-u.usedCount)," ","\u5f20\uff0c\u662f\u5426\u4f7f\u7528\u8865\u5361\u5238\u5b8c\u6210\u8865\u5361\uff1f"))}}),[j,d,u,p]);return k&&t.questionId&&t.questionId===n.questionId?s.a.createElement(ze,{title:w,isActive:q,onClose:D,width:"460px",footer:Q},L()):null}var kt=n("uhc8");var Ot=Object(o.memo)((function(){var e,t=new Date,n=Object(i.__read)(Object(r.a)(pt),2),a=n[0],l=a.medals,u=a.medalByRemark,c=n[1].setShowMedalByRemark,d=Object(o.useRef)(null),p=Object(o.useRef)(null),m=Object(i.__read)(Object(o.useState)(!1),2),f=m[0],b=m[1],g=u.isShow,v=Object(i.__read)(g?u.date.split("-").map((function(e){return Number(e)})):[t.getFullYear(),t.getMonth()+1],2),h=v[0],y=v[1],k=l.find((function(e){return(null===e||void 0===e?void 0:e.month)===y&&e.year===h})),O=Object(o.useCallback)((function(e){e.currentTarget!==p.current&&e.target!==d.current||(b(!0),c({isShow:!1,date:""}))}),[b,c]);return!g&&!function(e){var t=new Date,n=new Date;return n.setMonth(e),n.setDate(0),n.getDate()===t.getDate()}(t.getMonth()+1)||!(null===k||void 0===k?void 0:k.config.iconGif)||f?null:s.a.createElement(T,{ref:d,onClick:O},s.a.createElement(w,null,"\ud83c\udf89 \u606d\u559c\u5b8c\u6210 "+h+" \u5e74 "+y+" \u6708\u6253\u5361\u5237\u9898\uff01"),s.a.createElement(I,null,"\uff08\u53ef\u5728\u4e2a\u4eba\u4e2d\u5fc3\u518d\u6b21\u67e5\u770b\u52cb\u7ae0\u54e6\uff09"),s.a.createElement("div",null,s.a.createElement(P,null,s.a.createElement(R,{img:null!==(e=k.config.iconGifBackground)&&void 0!==e?e:void 0},s.a.createElement(D,{src:k.config.iconGif})),s.a.createElement("p",null,y," \u6708\u6253\u5361\u52cb\u7ae0"))),s.a.createElement(kt.a,{ref:p,onClick:O,size:32,color:x.a.grey(4),style:{cursor:"pointer"}}))})),_t=n("1l9P"),St=n("mQQu"),jt=n("ildc"),Nt=n("OESz"),Et=n("zRE0"),Ct=n("9KnD"),xt=n("2F/d"),qt=n("x+QU"),Ft=n.n(qt),Tt=n("5CXp"),wt=n("3hpK"),It=Object(C.a)("div",{target:"e1wapfl0"})({position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none"},"label:Container;"),Pt=Ft()({loader:function(){return Promise.all([n.e(0),n.e(4),n.e(7),n.e(5),n.e(6),n.e(15),n.e(22),n.e(1),n.e(16),n.e(89)]).then(n.bind(null,"6Gwn"))},loading:function(){return s.a.createElement(d.a,null)},webpack:function(){return["6Gwn"]},modules:["main-solution-editor"]}),Rt=Ft()({loader:function(){return n.e(88).then(n.bind(null,"GlMa"))},loading:function(){return s.a.createElement(d.a,null)},webpack:function(){return["GlMa"]},modules:["main-solution-detail"]}),Dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderSolutionDetail=function(e){return s.a.createElement(wt.a,null,(function(n){var a=n.isBarActive;return s.a.createElement(Rt,Object(i.__assign)({solutionAreaShownPart:t.props.solutionAreaShownPart,hideSolutionEditor:t.props.hideSolutionEditor,isCloseButtonSticky:a,showSolutionDetail:t.props.showSolutionDetail,isQuestionLocked:t.props.isQuestionLocked},e))}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return s.a.createElement(It,null,s.a.createElement(l.b,{exact:!0,path:"/problems/:questionSlug/solution/:articleSlug/:commentId?",component:this.renderSolutionDetail}),s.a.createElement(l.b,{exact:!0,path:"/problems/:questionSlug/my-solution/:articleSlug",component:this.renderSolutionDetail}),this.renderSolutionEditor())},t.prototype.renderSolutionEditor=function(){return Object(Tt.b)(this.props)?s.a.createElement(wt.a,null,(function(e){var t=e.isBarActive;return s.a.createElement(Pt,{isResizerBarActive:t})})):null},t}(s.a.Component),At=Object(_t.a)(Et.c)((function(e){return{solutionAreaShownPart:e.solution.solutionAreaShownPart}}))(Dt),Qt=n("g1oq"),Lt=n("Wfj/"),Mt=Object(C.a)("pre",{target:"e19sp3ea0"})({margin:"40px 0 0",padding:"20px",background:x.a.grey(0)},"label:Pre;");function Vt(){var e,t,n=Object(i.__read)(Object(r.a)(E.a),1)[0].question;return s.a.createElement(Mt,null,null===(t=null===(e=n.codeSnippets)||void 0===e?void 0:e[0])||void 0===t?void 0:t.code)}var zt=Ft()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(21),n.e(32),n.e(4),n.e(18),n.e(35),n.e(33),n.e(37),n.e(38),n.e(34),n.e(36),n.e(1),n.e(30),n.e(44),n.e(41),n.e(67)]).then(n.bind(null,"J/g+"))},loading:function(){return s.a.createElement(d.a,null)},webpack:function(){return["J/g+"]},modules:["main-code-area"]}),Wt=n("qYhz"),Bt=n.n(Wt),Ht=n("1szP"),$t="DESKTOP",Ut=n("nnRT"),Kt=n.n(Ut),Gt=n("2z5K"),Yt=n.n(Gt),Jt=n("ehGJ"),Xt=n.n(Jt),Zt=n("gcuk"),en=n.n(Zt),tn=n("aWzz"),nn=n.n(tn),an=n("LiEJ"),rn=n("fQLH"),on=n("iJR/"),sn=n("lqvn"),ln=n("U3QC"),un=n("mhnT"),cn=n("R+ki"),dn=n("b63a"),pn={Easy:{value:"EASY",description:"Easy"},Medium:{value:"MEDIUM",description:"Medium"},Hard:{value:"HARD",description:"Hard"}},mn={Todo:{value:"TODO",description:"Todo"},Solved:{value:"SOLVED",description:"Solved"},Attempted:{value:"ATTEMPTED",description:"Attempted"}},fn=Object(i.__assign)({All:{value:"ALL",description:"All"}},mn),bn=Object(i.__assign)({All:{value:"ALL",description:"All"}},pn),gn=n("23zs");function vn(e){return/^[\d.]+$/.test(e.toString())}var hn=n("gd5h"),yn="All Problems",kn=50,On="Question Picker Bug Detection Reward",_n=n("3dHC"),Sn=n.n(_n),jn=n("gwLK"),Nn=function(e,t){return(Nn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function En(e,t){function n(){this.constructor=e}Nn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Cn=function(){return(Cn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function xn(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n}var qn=n("oXkQ"),Fn=n.n(qn);var Tn=function(e,t){return(Tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function wn(e,t){function n(){this.constructor=e}Tn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var In=function(){return(In=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var Pn=n("qrFu"),Rn=n("hhN/"),Dn=n("Vvrm"),An=function(){function e(e,t){this.isMounted=!1,this.previousOptions={},this.context={},this.options={},this.options=e||{},this.context=t||{}}return e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e,t){void 0===t&&(t=!1),t&&!Object(Rn.a)(this.options,e)&&(this.previousOptions=this.options),this.options=e},e.prototype.unmount=function(){this.isMounted=!1},e.prototype.refreshClient=function(){var e=this.options&&this.options.client||this.context&&this.context.client;Object(Dn.b)(!!e,2);var t=!1;return e!==this.client&&(t=!0,this.client=e,this.cleanup()),{client:this.client,isNew:t}},e.prototype.verifyDocumentType=function(e,t){var n=Object(jn.f)(e);Object(jn.e)(t),Object(jn.e)(n.type);Object(Dn.b)(n.type===t,3)},e}(),Qn=function(e){function t(t){var n=t.options,i=t.context,a=t.onNewData,r=e.call(this,n,i)||this;return r.previousData={},r.currentObservable={},r.runLazy=!1,r.runLazyQuery=function(e){r.cleanup(),r.runLazy=!0,r.lazyOptions=e,r.onNewData()},r.getExecuteResult=function(){var e=r.getQueryResult();return r.startQuerySubscription(),e},r.obsRefetch=function(e){return r.currentObservable.query.refetch(e)},r.obsFetchMore=function(e){return r.currentObservable.query.fetchMore(e)},r.obsUpdateQuery=function(e){return r.currentObservable.query.updateQuery(e)},r.obsStartPolling=function(e){r.currentObservable&&r.currentObservable.query&&r.currentObservable.query.startPolling(e)},r.obsStopPolling=function(){r.currentObservable&&r.currentObservable.query&&r.currentObservable.query.stopPolling()},r.obsSubscribeToMore=function(e){return r.currentObservable.query.subscribeToMore(e)},r.onNewData=a,r}return wn(t,e),t.prototype.execute=function(){this.refreshClient();var e=this.getOptions(),t=e.skip,n=e.query;return(t||n!==this.previousData.query)&&(this.removeQuerySubscription(),this.previousData.query=n),this.updateObservableQuery(),this.isMounted&&this.startQuerySubscription(),this.getExecuteSsrResult()||this.getExecuteResult()},t.prototype.executeLazy=function(){return this.runLazy?[this.runLazyQuery,this.execute()]:[this.runLazyQuery,{loading:!1,networkStatus:Pn.c.ready,called:!1,data:void 0}]},t.prototype.fetchData=function(){var e=this.getOptions();if(e.skip||!1===e.ssr)return!1;var t=this.currentObservable.query;return!!t.getCurrentResult().loading&&t.result()},t.prototype.afterExecute=function(e){var t=(void 0===e?{}:e).lazy,n=void 0!==t&&t;return this.isMounted=!0,n&&!this.runLazy||this.handleErrorOrCompleted(),this.previousOptions=this.getOptions(),this.unmount.bind(this)},t.prototype.cleanup=function(){this.removeQuerySubscription(),delete this.currentObservable.query,delete this.previousData.result},t.prototype.getOptions=function(){var t=e.prototype.getOptions.call(this);return this.lazyOptions&&(t.variables=In(In({},t.variables),this.lazyOptions.variables),t.context=In(In({},t.context),this.lazyOptions.context)),this.runLazy&&delete t.skip,t},t.prototype.ssrInitiated=function(){return this.context&&this.context.renderPromises},t.prototype.getExecuteSsrResult=function(){var e,t=!1===this.getOptions().ssr,n=this.refreshClient().client.disableNetworkFetches,i=In({loading:!0,networkStatus:Pn.c.loading,called:!0,data:void 0,stale:!1,client:this.client},this.observableQueryFields());return t&&(this.ssrInitiated()||n)?(this.previousData.result=i,i):(this.ssrInitiated()&&(e=this.context.renderPromises.addQueryPromise(this,this.getExecuteResult)||i),e)},t.prototype.prepareObservableQueryOptions=function(){var e=this.getOptions();this.verifyDocumentType(e.query,jn.c.Query);var t=e.displayName||"Query";return!this.ssrInitiated()||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e.fetchPolicy="cache-first"),In(In({},e),{displayName:t,context:e.context,metadata:{reactComponent:{displayName:t}}})},t.prototype.initializeObservableQuery=function(){var e,t;if(this.ssrInitiated()&&(this.currentObservable.query=this.context.renderPromises.getSSRObservable(this.getOptions())),!this.currentObservable.query){var n=this.prepareObservableQueryOptions();this.previousData.observableQueryOptions=In(In({},n),{children:null}),this.currentObservable.query=this.refreshClient().client.watchQuery(In({},n)),this.ssrInitiated()&&(null===(t=null===(e=this.context)||void 0===e?void 0:e.renderPromises)||void 0===t||t.registerSSRObservable(this.currentObservable.query,n))}},t.prototype.updateObservableQuery=function(){if(this.currentObservable.query){var e=In(In({},this.prepareObservableQueryOptions()),{children:null});Object(Rn.a)(e,this.previousData.observableQueryOptions)||(this.previousData.observableQueryOptions=e,this.currentObservable.query.setOptions(e).catch((function(){})))}else this.initializeObservableQuery()},t.prototype.startQuerySubscription=function(){var e=this;if(!this.currentObservable.subscription&&!this.getOptions().skip){var t=this.currentObservable.query;this.currentObservable.subscription=t.subscribe({next:function(t){var n=t.loading,i=t.networkStatus,a=t.data,r=e.previousData.result;r&&r.loading===n&&r.networkStatus===i&&Object(Rn.a)(r.data,a)||e.onNewData()},error:function(t){if(e.resubscribeToQuery(),!t.hasOwnProperty("graphQLErrors"))throw t;var n=e.previousData.result;(n&&n.loading||!Object(Rn.a)(t,e.previousData.error))&&(e.previousData.error=t,e.onNewData())}})}},t.prototype.resubscribeToQuery=function(){this.removeQuerySubscription();var e=this.currentObservable.query.getLastError(),t=this.currentObservable.query.getLastResult();this.currentObservable.query.resetLastResults(),this.startQuerySubscription(),Object.assign(this.currentObservable.query,{lastError:e,lastResult:t})},t.prototype.getQueryResult=function(){var e=this.observableQueryFields(),t=this.getOptions();if(t.skip)e=In(In({},e),{data:void 0,error:void 0,loading:!1,called:!0});else{var n=this.currentObservable.query.getCurrentResult(),i=n.loading,a=n.partial,r=n.networkStatus,o=n.errors,s=n.error,l=n.data;if(o&&o.length>0&&(s=new Pn.b({graphQLErrors:o})),e=In(In({},e),{loading:i,networkStatus:r,error:s,called:!0}),i){var u=this.previousData.result&&this.previousData.result.data;e.data=u&&l?In(In({},u),l):u||l}else if(s)Object.assign(e,{data:(this.currentObservable.query.getLastResult()||{}).data});else{var c=this.currentObservable.query.options.fetchPolicy;if(t.partialRefetch&&!l&&a&&"cache-only"!==c)return Object.assign(e,{loading:!0,networkStatus:Pn.c.loading}),e.refetch(),e;e.data=l}}return e.client=this.client,this.previousData.loading=this.previousData.result&&this.previousData.result.loading||!1,this.previousData.result=e,this.currentObservable.query&&this.currentObservable.query.resetQueryStoreErrors(),e},t.prototype.handleErrorOrCompleted=function(){if(this.currentObservable.query&&this.previousData.result){var e=this.previousData.result,t=e.data,n=e.loading,i=e.error;if(!n){var a=this.getOptions(),r=a.query,o=a.variables,s=a.onCompleted,l=a.onError;if(this.previousOptions&&!this.previousData.loading&&Object(Rn.a)(this.previousOptions.query,r)&&Object(Rn.a)(this.previousOptions.variables,o))return;s&&!i?s(t):l&&i&&l(i)}}},t.prototype.removeQuerySubscription=function(){this.currentObservable.subscription&&(this.currentObservable.subscription.unsubscribe(),delete this.currentObservable.subscription)},t.prototype.observableQueryFields=function(){return{variables:this.currentObservable.query.variables,refetch:this.obsRefetch,fetchMore:this.obsFetchMore,updateQuery:this.obsUpdateQuery,startPolling:this.obsStartPolling,stopPolling:this.obsStopPolling,subscribeToMore:this.obsSubscribeToMore}},t}(An);function Ln(e,t,n){void 0===n&&(n=!1);var i=Object(o.useContext)(Object(jn.d)()),a=Object(o.useReducer)((function(e){return e+1}),0),r=a[0],s=a[1],l=t?In(In({},t),{query:e}):{query:e},u=Object(o.useRef)(),c=u.current||new Qn({options:l,context:i,onNewData:function(){c.ssrInitiated()?s():Promise.resolve().then(s)}});c.setOptions(l),c.context=i,c.ssrInitiated()&&!u.current&&(u.current=c);var d,p,m,f={options:In(In({},l),{onError:void 0,onCompleted:void 0}),context:i,tick:r},b=(d=function(){return n?c.executeLazy():c.execute()},p=f,(m=Object(o.useRef)()).current&&Object(Rn.a)(p,m.current.key)||(m.current={key:p,value:d()}),m.current.value),g=n?b[1]:b;return Object(o.useEffect)((function(){return u.current||(u.current=c),function(){return c.cleanup()}}),[]),Object(o.useEffect)((function(){return c.afterExecute({lazy:n})}),[g.loading,g.networkStatus,g.error,g.data]),b}var Mn=function(e){function t(t){var n=t.options,i=t.context,a=t.result,r=t.setResult,o=e.call(this,n,i)||this;return o.runMutation=function(e){void 0===e&&(e={}),o.onMutationStart();var t=o.generateNewMutationId();return o.mutate(e).then((function(e){return o.onMutationCompleted(e,t),e})).catch((function(e){if(o.onMutationError(e,t),!o.getOptions().onError)throw e}))},o.verifyDocumentType(n.mutation,jn.c.Mutation),o.result=a,o.setResult=r,o.mostRecentMutationId=0,o}return wn(t,e),t.prototype.execute=function(e){return this.isMounted=!0,this.verifyDocumentType(this.getOptions().mutation,jn.c.Mutation),e.client=this.refreshClient().client,[this.runMutation,e]},t.prototype.afterExecute=function(){return this.isMounted=!0,this.unmount.bind(this)},t.prototype.cleanup=function(){},t.prototype.mutate=function(e){var t=this.getOptions(),n=t.mutation,i=t.variables,a=t.optimisticResponse,r=t.update,o=t.context,s=void 0===o?{}:o,l=t.awaitRefetchQueries,u=void 0!==l&&l,c=t.fetchPolicy,d=In({},e),p=Object.assign({},i,d.variables);return delete d.variables,this.refreshClient().client.mutate(In({mutation:n,optimisticResponse:a,refetchQueries:d.refetchQueries||this.getOptions().refetchQueries,awaitRefetchQueries:u,update:r,context:s,fetchPolicy:c,variables:p},d))},t.prototype.onMutationStart=function(){this.result.loading||this.getOptions().ignoreResults||this.updateResult({loading:!0,error:void 0,data:void 0,called:!0})},t.prototype.onMutationCompleted=function(e,t){var n=this.getOptions(),i=n.onCompleted,a=n.ignoreResults,r=e.data,o=e.errors,s=o&&o.length>0?new Pn.b({graphQLErrors:o}):void 0;this.isMostRecentMutation(t)&&!a&&this.updateResult({called:!0,loading:!1,data:r,error:s}),i&&i(r)},t.prototype.onMutationError=function(e,t){var n=this.getOptions().onError;this.isMostRecentMutation(t)&&this.updateResult({loading:!1,error:e,data:void 0,called:!0}),n&&n(e)},t.prototype.generateNewMutationId=function(){return++this.mostRecentMutationId},t.prototype.isMostRecentMutation=function(e){return this.mostRecentMutationId===e},t.prototype.updateResult=function(e){!this.isMounted||this.previousResult&&Object(Rn.a)(this.previousResult,e)||(this.setResult(e),this.previousResult=e)},t}(An);var Vn=function(e){function t(t){var n=t.options,i=t.context,a=t.setResult,r=e.call(this,n,i)||this;return r.currentObservable={},r.setResult=a,r.initialize(n),r}return wn(t,e),t.prototype.execute=function(e){if(!0===this.getOptions().skip)return this.cleanup(),{loading:!1,error:void 0,data:void 0,variables:this.getOptions().variables};var t=e;this.refreshClient().isNew&&(t=this.getLoadingResult());var n=this.getOptions().shouldResubscribe;return"function"===typeof n&&(n=!!n(this.getOptions())),!1!==n&&this.previousOptions&&Object.keys(this.previousOptions).length>0&&(this.previousOptions.subscription!==this.getOptions().subscription||!Object(Rn.a)(this.previousOptions.variables,this.getOptions().variables)||this.previousOptions.skip!==this.getOptions().skip)&&(this.cleanup(),t=this.getLoadingResult()),this.initialize(this.getOptions()),this.startSubscription(),this.previousOptions=this.getOptions(),In(In({},t),{variables:this.getOptions().variables})},t.prototype.afterExecute=function(){this.isMounted=!0},t.prototype.cleanup=function(){this.endSubscription(),delete this.currentObservable.query},t.prototype.initialize=function(e){this.currentObservable.query||!0===this.getOptions().skip||(this.currentObservable.query=this.refreshClient().client.subscribe({query:e.subscription,variables:e.variables,fetchPolicy:e.fetchPolicy}))},t.prototype.startSubscription=function(){this.currentObservable.subscription||(this.currentObservable.subscription=this.currentObservable.query.subscribe({next:this.updateCurrentData.bind(this),error:this.updateError.bind(this),complete:this.completeSubscription.bind(this)}))},t.prototype.getLoadingResult=function(){return{loading:!0,error:void 0,data:void 0}},t.prototype.updateResult=function(e){this.isMounted&&this.setResult(e)},t.prototype.updateCurrentData=function(e){var t=this.getOptions().onSubscriptionData;this.updateResult({data:e.data,loading:!1,error:void 0}),t&&t({client:this.refreshClient().client,subscriptionData:e})},t.prototype.updateError=function(e){this.updateResult({error:e,loading:!1})},t.prototype.completeSubscription=function(){var e=this.getOptions().onSubscriptionComplete;e&&e(),this.endSubscription()},t.prototype.endSubscription=function(){this.currentObservable.subscription&&(this.currentObservable.subscription.unsubscribe(),delete this.currentObservable.subscription)},t}(An);!function(){function e(){this.queryPromises=new Map,this.queryInfoTrie=new Map}e.prototype.registerSSRObservable=function(e,t){this.lookupQueryInfo(t).observable=e},e.prototype.getSSRObservable=function(e){return this.lookupQueryInfo(e).observable},e.prototype.addQueryPromise=function(e,t){return this.lookupQueryInfo(e.getOptions()).seen?t():(this.queryPromises.set(e.getOptions(),new Promise((function(t){t(e.fetchData())}))),null)},e.prototype.hasPromises=function(){return this.queryPromises.size>0},e.prototype.consumeAndAwaitPromises=function(){var e=this,t=[];return this.queryPromises.forEach((function(n,i){e.lookupQueryInfo(i).seen=!0,t.push(n)})),this.queryPromises.clear(),Promise.all(t)},e.prototype.lookupQueryInfo=function(e){var t=this.queryInfoTrie,n=e.query,i=e.variables,a=t.get(n)||new Map;t.has(n)||t.set(n,a);var r=JSON.stringify(i),o=a.get(r)||{seen:!1,observable:null};return a.has(r)||a.set(r,o),o}}();function zn(e){var t=e.children,n=function(e,t){return Ln(e,t,!1)}(e.query,function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n}(e,["children","query"]));return t&&n?t(n):null}function Wn(e){var t=function(e,t){var n=Object(o.useContext)(Object(jn.d)()),i=Object(o.useState)({called:!1,loading:!1}),a=i[0],r=i[1],s=t?In(In({},t),{mutation:e}):{mutation:e},l=Object(o.useRef)(),u=(l.current||(l.current=new Mn({options:s,context:n,result:a,setResult:r})),l.current);return u.setOptions(s),u.context=n,Object(o.useEffect)((function(){return u.afterExecute()})),u.execute(a)}(e.mutation,e),n=t[0],i=t[1];return e.children?e.children(n,i):null}function Bn(e){var t=function(e,t){var n=Object(o.useContext)(Object(jn.d)()),i=t?In(In({},t),{subscription:e}):{subscription:e},a=Object(o.useState)({loading:!i.skip,error:void 0,data:void 0}),r=a[0],s=a[1],l=Object(o.useRef)(),u=(l.current||(l.current=new Vn({options:i,context:n,setResult:s})),l.current);return u.setOptions(i,!0),u.context=n,Object(o.useEffect)((function(){return u.afterExecute()})),Object(o.useEffect)((function(){return u.cleanup.bind(u)}),[]),u.execute(r)}(e.subscription,e);return e.children&&t?e.children(t):null}(zn||(zn={})).propTypes={client:nn.a.object,children:nn.a.func.isRequired,fetchPolicy:nn.a.string,notifyOnNetworkStatusChange:nn.a.bool,onCompleted:nn.a.func,onError:nn.a.func,pollInterval:nn.a.number,query:nn.a.object.isRequired,variables:nn.a.object,ssr:nn.a.bool,partialRefetch:nn.a.bool,returnPartialData:nn.a.bool},(Wn||(Wn={})).propTypes={mutation:nn.a.object.isRequired,variables:nn.a.object,optimisticResponse:nn.a.oneOfType([nn.a.object,nn.a.func]),refetchQueries:nn.a.oneOfType([nn.a.arrayOf(nn.a.oneOfType([nn.a.string,nn.a.object])),nn.a.func]),awaitRefetchQueries:nn.a.bool,update:nn.a.func,children:nn.a.func.isRequired,onCompleted:nn.a.func,onError:nn.a.func,fetchPolicy:nn.a.string},(Bn||(Bn={})).propTypes={subscription:nn.a.object.isRequired,variables:nn.a.object,children:nn.a.func,onSubscriptionData:nn.a.func,onSubscriptionComplete:nn.a.func,shouldResubscribe:nn.a.oneOfType([nn.a.func,nn.a.bool])};var Hn=function(){return{}},$n=function(){return!1};function Un(e){return e.displayName||e.name||"Component"}function Kn(e,t){for(var n={},i=0,a=e.variables;i<a.length;i++){var r=a[i],o=r.variable,s=r.type;if(o.name&&o.name.value){var l=o.name.value,u=t[l];"undefined"===typeof u?"NonNullType"!==s.kind&&(n[l]=void 0):n[l]=u}}return n}var Gn=function(e){function t(t){var n=e.call(this,t)||this;return n.withRef=!1,n.setWrappedInstance=n.setWrappedInstance.bind(n),n}return En(t,e),t.prototype.getWrappedInstance=function(){return Object(Dn.b)(this.withRef,2),this.wrappedInstance},t.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},t}(s.a.Component);function Yn(e,t){switch(void 0===t&&(t={}),Object(jn.f)(e).type){case jn.c.Mutation:return function(e,t){void 0===t&&(t={});var n=Object(jn.f)(e),i=t.options,a=void 0===i?Hn:i,r=t.alias,o=void 0===r?"Apollo":r,l=a;return"function"!==typeof l&&(l=function(){return a}),function(i){var a=o+"("+Un(i)+")",r=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return En(o,r),o.prototype.render=function(){var a=this.props,r=l(a);return t.withRef&&(this.withRef=!0,a=Object.assign({},a,{ref:this.setWrappedInstance})),!r.variables&&n.variables.length>0&&(r.variables=Kn(n,a)),s.a.createElement(Wn,Cn({ignoreResults:!0},r,{mutation:e}),(function(e,n){var r,o,l=n.data,u=xn(n,["data"]),c=Object.assign(u,l||{}),d=t.name||"mutate",p=t.name?d+"Result":"result",m=((r={})[d]=e,r[p]=c,r);if(t.props){var f=((o={})[d]=e,o[p]=c,o.ownProps=a,o);m=t.props(f)}return s.a.createElement(i,Cn({},a,m))}))},o.displayName=a,o.WrappedComponent=i,o}(Gn);return Fn()(r,i,{})}}(e,t);case jn.c.Subscription:return function(e,t){void 0===t&&(t={});var n=Object(jn.f)(e),i=t.options,a=void 0===i?Hn:i,r=t.skip,o=void 0===r?$n:r,l=t.alias,u=void 0===l?"Apollo":l,c=t.shouldResubscribe,d=a;"function"!==typeof d&&(d=function(){return a});var p,m=o;return"function"!==typeof m&&(m=function(){return o}),function(i){var a=u+"("+Un(i)+")",r=function(r){function o(e){var t=r.call(this,e)||this;return t.state={resubscribe:!1},t}return En(o,r),o.prototype.componentDidUpate=function(e){c&&this.setState({resubscribe:c(e,this.props)})},o.prototype.render=function(){var r=this,o=this.props,l=m(o),u=l?Object.create(null):d(o);return!l&&!u.variables&&n.variables.length>0&&(u.variables=Kn(n,o)),s.a.createElement(Bn,Cn({},u,{displayName:a,skip:l,subscription:e,shouldResubscribe:this.state.resubscribe}),(function(e){var n,a,u=e.data,c=xn(e,["data"]);if(t.withRef&&(r.withRef=!0,o=Object.assign({},o,{ref:r.setWrappedInstance})),l)return s.a.createElement(i,Cn({},o,{}));var d=Object.assign(c,u||{}),m=t.name||"data",f=((n={})[m]=d,n);if(t.props){var b=((a={})[m]=d,a.ownProps=o,a);f=p=t.props(b,p)}return s.a.createElement(i,Cn({},o,f))}))},o.displayName=a,o.WrappedComponent=i,o}(Gn);return Fn()(r,i,{})}}(e,t);case jn.c.Query:default:return function(e,t){void 0===t&&(t={});var n=Object(jn.f)(e),i=t.options,a=void 0===i?Hn:i,r=t.skip,o=void 0===r?$n:r,l=t.alias,u=void 0===l?"Apollo":l,c=a;"function"!==typeof c&&(c=function(){return a});var d,p=o;return"function"!==typeof p&&(p=function(){return o}),function(i){var a=u+"("+Un(i)+")",r=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return En(o,r),o.prototype.render=function(){var r=this,o=this.props,l=p(o),u=l?Object.create(null):Cn({},c(o));return!l&&!u.variables&&n.variables.length>0&&(u.variables=Kn(n,o)),s.a.createElement(zn,Cn({},u,{displayName:a,skip:l,query:e}),(function(e){e.client;var n,a,u=e.data,c=xn(e,["client","data"]);if(t.withRef&&(r.withRef=!0,o=Object.assign({},o,{ref:r.setWrappedInstance})),l)return s.a.createElement(i,Cn({},o,{}));var p=Object.assign(c,u||{}),m=t.name||"data",f=((n={})[m]=p,n);if(t.props){var b=((a={})[m]=p,a.ownProps=o,a);f=d=t.props(b,d)}return s.a.createElement(i,Cn({},o,f))}))},o.displayName=a,o.WrappedComponent=i,o}(Gn);return Fn()(r,i,{})}}(e,t)}}function Jn(e,t){void 0===t&&(t={});var n="withApollo("+function(e){return e.displayName||e.name||"Component"}(e)+")",i=function(i){function a(e){var t=i.call(this,e)||this;return t.setWrappedInstance=t.setWrappedInstance.bind(t),t}return En(a,i),a.prototype.getWrappedInstance=function(){return Object(Dn.b)(t.withRef,1),this.wrappedInstance},a.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},a.prototype.render=function(){var n=this;return s.a.createElement(jn.a,null,(function(i){var a=Object.assign({},n.props,{client:i,ref:t.withRef?n.setWrappedInstance:void 0});return s.a.createElement(e,Cn({},a))}))},a.displayName=n,a.WrappedComponent=e,a}(s.a.Component);return Fn()(i,e,{})}var Xn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"allFavorites"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"favoritesLists"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allFavorites"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idHash"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPublicFavorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionId"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"officialFavorites"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idHash"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionId"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{source:{body:"query allFavorites {\n  favoritesLists {\n    allFavorites {\n      idHash\n      name\n      isPublicFavorite\n      questions {\n        questionId\n      }\n    }\n    officialFavorites {\n      idHash\n      name\n      questions {\n        questionId\n      }\n    }\n  }\n}\n"}},operationName:"allFavorites",defName:"favoritesLists"},Zn=Yn(Xn,{options:function(){return{fetchPolicy:"cache-first"}},props:function(e){var t,n,i=e.data;return{favorites:Sn()(null===(t=null===i||void 0===i?void 0:i.favoritesLists)||void 0===t?void 0:t.allFavorites),officialFavorites:Sn()(null===(n=null===i||void 0===i?void 0:i.favoritesLists)||void 0===n?void 0:n.officialFavorites)}}}),ei=Yn({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"achievement"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"achievementName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"achievement"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"achievementName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isRewardAccepted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idHash"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"achievementName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"achievementDescription"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query achievement($achievementName: String!) {\n  achievement(name: $achievementName) {\n    isRewardAccepted\n    idHash\n    achievementName\n    achievementDescription\n  }\n}\n"}},operationName:"achievement",defName:"achievement"},{skip:function(e){return!(e.user||e.user.isSignedIn)},options:function(){return{variables:{achievementName:On},fetchPolicy:"network-only"}},props:function(e){var t=e.data;return t.achievement?{isRewardAccepted:t.achievement.isRewardAccepted}:{isRewardAccepted:!1,refetchAchievementStatus:t.refetch}}}),ti=n("pxZ7"),ni={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAllQuestionTags"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionTopicTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionIds"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{source:{body:"query getAllQuestionTags {\n  questionTopicTags {\n    edges {\n      node {\n        name\n        translatedName\n        questionIds\n      }\n    }\n  }\n}\n"}},operationName:"getAllQuestionTags",defName:"questionTopicTags"},ii={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"problemSetCategory"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"problemsetCategories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleSlug"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query problemSetCategory {\n  problemsetCategories {\n    title\n    titleSlug\n  }\n}"}},operationName:"problemSetCategory",defName:"problemsetCategories"},ai={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"acceptAchievementReward"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"achievementName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"acceptAchievementReward"},arguments:[{kind:"Argument",name:{kind:"Name",value:"achievementName"},value:{kind:"Variable",name:{kind:"Name",value:"achievementName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation acceptAchievementReward($achievementName: String!) {\n  acceptAchievementReward(achievementName: $achievementName) {\n    ok\n  }\n}\n"}},operationName:"acceptAchievementReward",defName:"acceptAchievementReward"},ri={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"allQuestionsStatuses"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allQuestionsBeta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"questionStatusFields"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"questionStatusFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"QuestionNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}],loc:{source:{body:"#import '../fragments/question-status.graphql'\n\nquery allQuestionsStatuses {\n  allQuestionsBeta {\n    ...questionStatusFields\n  }\n}\n"}},operationName:"allQuestionsStatuses",defName:"allQuestionsBeta"},oi=n("VxrX"),si=n("CXWL"),li=n("ccKo"),ui=n("wgQk"),ci=n("lJpC"),di=n("+qzo"),pi=n("nXSc"),mi=n("N+KC");var fi=Object(_t.a)(Et.c)((function(e){return{solution:e.solution}}))((function(e){var t=e.solution,n=e.showCloseEditorModal,i=e.hideSolutionEditorDirectly,a=e.children,r=Object(o.useMemo)((function(){return Object(Tt.a)(t.solutionEditor)}),[t.solutionEditor]).canCloseEditorDirectly,s=Object(Tt.b)(t),l=Object(o.useCallback)((function(e){return function(t){s?r?(i(),e(t)):n():e(t)}}),[s,r,i,i]);return Object(o.useMemo)((function(){return a({makeSureEditorClosed:l})}),[l])})),bi=n("R6Jx"),gi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"questionPicker"},variableDefinitions:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionPicker"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isOpen"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query questionPicker @client {\n  questionPicker {\n    isOpen\n  }\n}\n"}},operationName:"questionPicker",defName:"questionPicker"},vi=n("o44P"),hi=n.n(vi),yi=n("7nmT"),ki=n("9+4l"),Oi=n.n(ki),_i=hi.a.bind(Oi.a),Si=Object(o.memo)((function(e){var t=e.onClick,n=e.visible,i=_i("question-picker-mask",{show:n,hide:!n});return s.a.createElement("div",{className:i,onClick:t})})),ji=n("ZB2O"),Ni=n.n(ji),Ei=n("CZCR"),Ci=n("JFCy"),xi=n("5ZzG"),qi=n("005E"),Fi=n("XKjd"),Ti=n("pqRN"),wi=n("IDXw"),Ii=Object(Fi.a)({position:"absolute",right:0,top:0,margin:0,padding:0,"& > svg":Object(i.__assign)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},Object(Ti.b)("0.4s"))}),Pi={xs:Object(a.b)({width:wi.j,height:wi.j,"& > svg":{width:"18px",height:"18px"}},"label:xs;"),sm:Object(a.b)({width:wi.i,height:wi.i,"& > svg":{width:"20px",height:"20px"}},"label:sm;"),md:Object(a.b)({width:wi.h,height:wi.h,"& > svg":{width:"24px",height:"24px"}},"label:md;"),lg:Object(a.b)({width:wi.g,height:wi.g,"& > svg":{width:"24px",height:"24px"}},"label:lg;")},Ri=function(e,t,n,a,r){var o,s;return(o={})["."+Ii]=Object(i.__assign)(Object(i.__assign)({},Pi[t]),{color:"dark"===e?x.a.fix.grey(6):x.a.grey(1),cursor:r?"default":"pointer"}),o["input:focus + ."+Ii]={color:n},o["&:hover"]=a||r?{}:((s={})["."+Ii]={color:n},s.input={borderColor:n},s),o},Di=Object(Fi.a)({width:"100%"}),Ai={xs:{paddingRight:wi.j},sm:{paddingRight:wi.i},md:{paddingRight:wi.h},lg:{paddingRight:wi.g}},Qi=Object(C.a)("span",{target:"ejwugq10"})(Object(i.__assign)({display:"inline-block",position:"relative"},Object(Ti.b)("0.3s")),(function(e){var t=e.disabled,n=e.error,a=e.size,r=e.wrapperTheme;return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},Ri(r,a,x.a.grey(9),n,t)),{input:Ai[a]}),"dark"===r?Object(i.__assign)({color:t?x.a.fix.grey(3):x.a.fix.grey(6)},Ri(r,a,x.a.fix.grey(0),n,t)):{})}),"label:Wrapper;"),Li=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.input=null,t.inputRef=function(e){t.input=e,t.props.inputRef(e)},t.onKeyDown=function(e){13!==e.keyCode&&13!==e.which||t.handleSearchClick(e)},t.onKeyUp=function(e){t.props.shouldSearchOnInput&&t.handleSearchClick(e)},t.getInputProps=function(){var e=t.props;e.onSearch,e.shouldSearchOnInput,e.inputRef;return Object(i.__rest)(e,["onSearch","shouldSearchOnInput","inputRef"])},t.handleSearchClick=function(e){!t.props.disabled&&t.input&&t.props.onSearch(t.input.value,e)},t}return Object(i.__extends)(t,e),t.prototype.renderSearchIcon=function(){return this.props.disabled||this.props.error?null:s.a.createElement("span",{className:Ii,onClick:this.handleSearchClick},s.a.createElement(xi.a,{type:"search"}))},t.prototype.render=function(){var e=this.props,t=e.size,n=e.theme,a=e.disabled,r=e.error;return s.a.createElement(Qi,{disabled:a,error:r,size:t,wrapperTheme:n},s.a.createElement(qi.a,Object(i.__assign)({className:Di},this.getInputProps(),{innerRef:this.inputRef,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp})),this.renderSearchIcon())},t.defaultProps={size:"md",theme:"light",disabled:!1,error:!1,onSearch:b.a,inputRef:b.a,shouldSearchOnInput:!1},t}(s.a.PureComponent),Mi=n("v31z"),Vi=n("x2dm"),zi=(n("ljfu"),n("veEq")),Wi=Object(C.a)("div",{target:"e1k3a6f0"})((function(e){var t=e.width;return{width:null!==t&&void 0!==t?t:"100%",maxWidth:"200px"}}),"label:SelectWrap;"),Bi=Object(C.a)(Vi.a,{target:"e1k3a6f1"})({width:"100%",color:x.a.fix.grey(6),"&.ant-select-single .ant-select-selector":{border:"1px solid "+x.a.fix.grey(6),backgroundColor:x.a.fix.grey(8)},".ant-select-arrow":{color:x.a.fix.grey(6),width:"16px",height:"16px",right:"10px",top:"8px",margin:0,svg:{width:"100%",height:"100%"}}},"label:StyledSelect;"),Hi=Vi.a.Option,$i=Object(o.memo)((function(e){var t=e.width;return s.a.createElement(Wi,{width:t},s.a.createElement(Bi,Object(i.__assign)({suffixIcon:s.a.createElement(zi.a,null)},e)))})),Ui=n("6vca"),Ki=n.n(Ui),Gi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){return function(){return t.props.onClearFilter({name:e})}},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.filter,i=t.onClearFilter;return n instanceof Array?n.map((function(t){return s.a.createElement("div",{key:t,className:Ki.a.appliedFiltersItem},Object(Ei.a)(t),s.a.createElement(xi.a,{type:"close",onClick:e.onClick(t),className:Ki.a.appliedFiltersClearIcon}))})):s.a.createElement("div",{className:Ki.a.appliedFiltersItem},Object(Ei.a)(n),s.a.createElement(xi.a,{type:"close",onClick:i,className:Ki.a.appliedFiltersClearIcon}))},t}(o.PureComponent),Yi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.statusFilter,n=e.difficultyFilter,i=e.onClearFilters,a=e.clearStatus,r=e.clearDifficulty,o=e.topicFilter,l=e.clearTopic,u=e.companyFilter,c=e.clearCompany,d=Object.values(mn).find((function(e){return e.value===t})),p=Object.values(pn).find((function(e){return e.value===n}));return d||p||o||u?s.a.createElement("div",{className:Ki.a.appliedFilters},d&&s.a.createElement(Gi,{filter:d.description,onClearFilter:a}),p&&s.a.createElement(Gi,{filter:p.description,onClearFilter:r}),o&&s.a.createElement(Gi,{filter:o,onClearFilter:l}),u&&s.a.createElement(Gi,{filter:u,onClearFilter:c}),s.a.createElement(pi.a,{placement:"top",content:"\u6e05\u9664"},s.a.createElement("div",{className:Ki.a.clearAllIcon,onClick:i},s.a.createElement(xi.a,{type:"bin"})))):null},t}(o.PureComponent),Ji=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.placeholder,i=e.onSelect,a=e.filterOptions,r=e.currentFilter;return s.a.createElement("div",{className:Ki.a.problemFilterSelectContainer},t&&s.a.createElement("div",{className:Ki.a.problemFilterLabel},t),s.a.createElement($i,{onSelect:i,value:r,placeholder:n||"\u9009\u62e9\u8fc7\u6ee4"},s.a.createElement(Hi,{value:"all",key:"all"},"\u5168\u90e8"),a.map((function(e){return s.a.createElement(Hi,{value:e.titleSlug,key:e.titleSlug},Object(Ei.a)(e.titleSlug))}))))},t}(o.PureComponent),Xi=n("d9YI"),Zi=n("z5yO"),ea=n("IMYO"),ta=n("Y7lc"),na={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getCompanyOptions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"companyTags"},name:{kind:"Name",value:"interviewCompanyOptions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionIds"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query getCompanyOptions ($input: String!) {\n  companyTags: interviewCompanyOptions(query: $input) {\n    id\n    name\n    questionIds\n  }\n}\n"}},operationName:"getCompanyOptions",defName:"interviewCompanyOptions"},ia=function(e){function t(t){var n=e.call(this,t)||this;return n.state={searchInput:void 0,searching:!1,companyOptions:[]},n.searchInput$=new rn.a,n.query=Ye.b.getInstanceByToken(ta.e.provide),n.clearSearch=function(){n.searchInput$.next()},n.onSearch=function(e){n.searchInput$.next(e)},n.onSelect=function(e){for(var t=n.state.companyOptions,i=0;i<t.length;i++){var a=t[i];if(a.name===e){n.props.onSelect(a),n.setState({searchInput:a.name});break}}},n.onFilterOption=function(){return!0},t.getClearHandler(n.clearSearch),n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.searchInput$.pipe(Object(ln.a)((function(t){return e.setState({searchInput:t,searching:!0})})),Object(cn.a)(500),Object(ln.a)((function(t){t||e.setState({companyOptions:[]})})),Object(Zi.a)((function(e){return!!e})),Object(tt.a)((function(t){return e.query({query:na,variables:{input:t}})})),Object(ea.a)((function(e){return console.warn(e),Xi.a})),Object(ln.a)((function(t){var n=t.data;n.companyTags&&e.setState({companyOptions:Object(i.__spread)(n.companyTags),searching:!1})}))).subscribe()},t.prototype.componentWillUnmount=function(){this.searchInput$.complete()},t.prototype.render=function(){var e=this.state.searchInput;return this.context.isPremium?s.a.createElement("div",{className:Ki.a.problemFilterSelectContainer},s.a.createElement("div",{className:Ki.a.problemFilterLabel},"\u516c\u53f8"),s.a.createElement($i,{showSearch:!0,value:e,onSelect:this.onSelect,onSearch:this.onSearch,placeholder:"\u4f8b\u5982\uff1a\b\bGoogle, Facebook",filterOption:this.onFilterOption,notFoundContent:this.state.searching?"\u641c\u7d22\u4e2d...":"\u6ca1\u6709\u641c\u7d22\u5230\u5408\u9002\u7684\u7ed3\u679c"},this.state.companyOptions.map((function(e){return s.a.createElement(Hi,{value:e.name,key:e.name},e.name)})))):null},t.contextType=$e.c,t}(o.PureComponent),aa=hi.a.bind(Ki.a),ra=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){if(e&&e.currentTarget){var n=e.currentTarget.dataset.value;n===t.props.currentFilter?t.props.onSelectedClick&&t.props.onSelectedClick():t.props.onChange&&t.props.onChange(n)}},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.currentFilter,i=t.filters,a=t.label,r=function(e){return aa("problem-filter-button",{"problem-filter-button-selected":e.value===n})};return s.a.createElement("div",{className:Ki.a.problemFilterButtonWrapper},s.a.createElement("div",{className:Ki.a.problemFilterLabel},a),s.a.createElement("div",{className:Ki.a.problemFilterButtons},i.map((function(t,n){return s.a.createElement("div",{key:n,value:t.value,"data-value":t.value,onClick:e.onClick,className:r(t)},"string"===typeof t.description?Object(Ei.a)(t.description):t.description)}))))},t}(o.PureComponent),oa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.filterOption=function(e,t){var n=e.toLowerCase(),i="string"===typeof(null===t||void 0===t?void 0:t.children)?t.children:"";return!!(null===t||void 0===t?void 0:t.value)&&(null===t||void 0===t?void 0:t.value).toLowerCase().includes(n)||!!i&&i.toLowerCase().includes(n)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.currentFilter,n=e.filterOptions,i=e.onSelect,a=e.label,r=e.placeholder,o=e.premiumRequired,l=this.context.isPremium;return o&&!l?null:s.a.createElement("div",{className:Ki.a.problemFilterSelectContainer},a&&s.a.createElement("div",{className:Ki.a.problemFilterLabel},a),s.a.createElement($i,{showSearch:!0,value:t,onSelect:i,theme:"dark",placeholder:r||"\u9009\u62e9\u8fc7\u6ee4",filterOption:this.filterOption},n.map((function(e){return s.a.createElement(Hi,{value:e.name,key:e.name},Object(Ei.a)(e.name))}))))},t.contextType=$e.c,t}(o.PureComponent),sa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showFilters:!1},t.isFilterCanceled=!1,t.toggleShowFilters=function(){var e=t.state.showFilters;t.setState({showFilters:!e}),e&&document.activeElement.blur(),t.props.fetchQuestionTags(),t.props.fetchProblemSetCategories()},t.onChangeStatusFilter=function(e){t.props.onSubmitFilter({statusFilter:e})},t.onSelectCategory=function(e){t.props.onSubmitFilter({category:e})},t.onChangeDifficultyFilter=function(e){t.props.onSubmitFilter({difficultyFilter:e})},t.clearCategory=function(){t.onSelectCategory("all")},t.clearDifficulty=function(){t.onChangeDifficultyFilter("")},t.clearStatus=function(){t.onChangeStatusFilter("")},t.onSelectListName=function(e){var n=t.props.listNames.find((function(t){return t.name===e})),a=n&&n.name!==yn&&n.questions?n.questions:[],r=new Set(Object(i.__spread)(a.map((function(e){return parseInt(e.questionId,10)}))));t.props.onSubmitFilter({listName:e,listFilter:r})},t.onSelectTopic=function(e){var n=t.props.selectedTopic,a=t.props.topicFilter,r=(n=n||[])instanceof Array?Object(i.__spread)(n):[n],o=r.findIndex((function(t){return t.name===e}));if(-1===o){var s=t.props.topicTags.find((function(t){return t.name===e})),l=(s&&s.questions?s.questions:[]).reduce((function(e,t){return e.add(t)}),new Set(a));r.push(s),t.props.onSubmitFilter({selectedTopic:r,topicFilter:l})}else t.onRemoveTopic({idx:o})},t.onRemoveTopic=function(e){var n=e.idx,a=e.name,r=t.props.selectedTopic,o=(r=r||[])instanceof Array?Object(i.__spread)(r):[r];a&&(n=o.findIndex((function(e){return e.name===a}))),o.splice(n,1);var s=o.reduce((function(e,t){var n,a;try{for(var r=Object(i.__values)(t.questions),o=r.next();!o.done;o=r.next()){var s=o.value;e.add(s)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(a=r.return)&&a.call(r)}finally{if(n)throw n.error}}return e}),new Set);0===o.length&&(o=null),t.props.onSubmitFilter({selectedTopic:o,topicFilter:s})},t.onSelectCompany=function(e){var n=t.props.selectedCompany;if(n&&n.name===e.name)t.onRemoveCompany();else{var i=new Set(e.questionIds);t.props.onSubmitFilter({selectedCompany:e,companyFilter:i})}},t.onRemoveCompany=function(){t.props.onSubmitFilter({selectedCompany:null,companyFilter:new Set}),t.clearCompanyFilter&&t.clearCompanyFilter()},t.onClearFilters=function(){t.props.onSubmitFilter({statusFilter:"",difficultyFilter:"",selectedTopic:null,selectedCompany:null,topicFilter:new Set,companyFilter:new Set}),t.clearCompanyFilter&&t.clearCompanyFilter()},t.getCompanyFilterClearHandler=function(e){t.clearCompanyFilter=e},t.renderOfficialListFilter=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:Ki.a.problemFilterLeetcodeLogo},s.a.createElement(xi.a,{type:"leetcoin"})),e)},t.getTopicFilterLabel=function(e){return e instanceof Array?e.map((function(e){return e&&e.name})):e&&(e.translatedName||e.name)},t}return Object(i.__extends)(t,e),t.prototype.renderProblemsFilterContent=function(){var e=this.state.showFilters,t=this.props,n=t.selectedTopic,i=t.difficultyFilter,a=t.statusFilter,r=t.topicTags,o=t.categories,l=t.category;return e?s.a.createElement("div",{className:Ki.a.problemFilter},s.a.createElement("div",{className:Ki.a.problemFilterDifficulty},s.a.createElement(ra,{label:"\u96be\u5ea6",filters:Object.values(pn),onChange:this.onChangeDifficultyFilter,onSelectedClick:this.clearDifficulty,currentFilter:i})),s.a.createElement("div",{className:Ki.a.problemFilterStatus},s.a.createElement(ra,{label:"\u72b6\u6001",filters:Object.values(mn),onChange:this.onChangeStatusFilter,onSelectedClick:this.clearStatus,currentFilter:a})),s.a.createElement("div",{className:Ki.a.problemFilterCategory},s.a.createElement(Ji,{label:"\u5206\u7c7b",placeholder:"\u5206\u7c7b",currentFilter:l,filterOptions:o,onSelect:this.onSelectCategory})),s.a.createElement("div",{className:Ki.a.problemFilterTopics},s.a.createElement(oa,{currentFilter:n?n.name:void 0,filterOptions:r,onSelect:this.onSelectTopic,label:"\u6807\u7b7e",placeholder:"\u6807\u7b7e"})),s.a.createElement("div",{className:Ki.a.problemFilterCompanies},s.a.createElement(ia,{getClearHandler:this.getCompanyFilterClearHandler,onSelect:this.onSelectCompany})),s.a.createElement("div",{className:Ki.a.filterCloseIconWrapper},s.a.createElement(xi.a,{type:"angle-up",onClick:this.toggleShowFilters,className:Ki.a.filterCloseIcon}))):null},t.prototype.renderListFilterOptions=function(){var e=this;return this.props.listNames.map((function(t){var n=t.name===yn||"Favorite"===t.name?Object(Ei.a)(t.name):t.name;return s.a.createElement(Hi,{value:t.name,key:t.name},t.isOfficial?e.renderOfficialListFilter(n):n)}))},t.prototype.render=function(){var e=this.state.showFilters,t=this.props,n=t.selectedTopic,i=t.selectedCompany,a=t.placeholder,r=t.onSearch,o=t.currentPage,l=t.onSelectPage,u=t.searchString,c=t.pageNum,d=t.goPrevPage,p=t.goNextPage,m=t.category,f=t.statusFilter,b=t.difficultyFilter,g=this.getTopicFilterLabel(n);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:Ki.a.pickerToolbar,"data-tour-index":"3"},s.a.createElement("div",{className:Ki.a.listFilter},s.a.createElement($i,{showSearch:!0,value:this.props.listName,onChange:this.onSelectListName,dropdownMatchSelectWidth:!1,style:{maxWidth:"150px",minWidth:"90px"}},this.renderListFilterOptions())),s.a.createElement("div",{className:Ki.a.handlers},s.a.createElement(Li,{size:Ci.c,placeholder:a,onSearch:r,shouldSearchOnInput:!0,className:Ki.a.pickerToolbarSearch,theme:"dark"}),s.a.createElement("div",{className:Ki.a.space}),s.a.createElement(Mi.a,{size:Ci.c,type:"night",onClick:this.toggleShowFilters,className:""+(e&&Ki.a.filterToggleHighlighted)},s.a.createElement(xi.a,{type:"filter"})),s.a.createElement("div",{className:Ki.a.space}),s.a.createElement($i,{defaultValue:o,value:o,size:Ci.c,onSelect:l,disabled:!!u,width:"55px",style:{width:"55px"}},new Array(c).fill(0).map((function(e,t){return s.a.createElement(Hi,{value:1+t,key:t},1+t)}))),s.a.createElement("div",{className:Ki.a.space}),s.a.createElement(Mi.a,{size:Ci.c,type:"night",onClick:d,disabled:!!u},s.a.createElement(xi.a,{type:"angle-left"})),s.a.createElement("div",{className:Ki.a.space}),s.a.createElement(Mi.a,{size:Ci.c,type:"night",onClick:p,disabled:!!u},s.a.createElement(xi.a,{type:"angle-right"})))),s.a.createElement(Yi,{statusFilter:f,category:m,difficultyFilter:b,topicFilter:g||"",companyFilter:i?i.name:"",onClearFilters:this.onClearFilters,clearStatus:this.clearStatus,clearDifficulty:this.clearDifficulty,clearCompany:this.onRemoveCompany,clearTopic:this.onRemoveTopic}),this.renderProblemsFilterContent())},t.propTypes={placeholder:nn.a.string,onSearch:nn.a.func.isRequired,listName:nn.a.string.isRequired,listNames:nn.a.array.isRequired,goPrevPage:nn.a.func.isRequired,goNextPage:nn.a.func.isRequired,pageNum:nn.a.number,currentPage:nn.a.number,onSelectPage:nn.a.func.isRequired,onSubmitFilter:nn.a.func.isRequired,statusFilter:nn.a.string,difficultyFilter:nn.a.string,category:nn.a.string,selectedTopic:nn.a.oneOf([nn.a.object,nn.a.array]),topicFilter:nn.a.object,selectedCompany:nn.a.object,companyFilter:nn.a.object,searchString:nn.a.string},t.defaultProps={placeholder:"\u641c\u7d22\u9898\u76ee",pageNum:0,currentPage:0,searchString:"",statusFilter:void 0,difficultyFilter:void 0,category:"all"},t}(o.PureComponent),la=n("5fV+"),ua=n.n(la),ca=n("FieA"),da=n.n(ca),pa=Object(o.memo)((function(){return s.a.createElement("div",{className:da.a.emptyList},s.a.createElement("div",{className:da.a.emptyListLabel},"\u8be5\u5217\u8868\u4e3a\u7a7a"))})),ma=n("jYA5"),fa=n.n(ma),ba={easy:x.a.green(5),medium:x.a.yellow(5),hard:x.a.red(5)},ga=Object(C.a)("span",{target:"eaz8kc70"})((function(e){var t=e.difficulty;return{color:ba[t]}}),"label:Difficulty;"),va=hi.a.bind(fa.a),ha=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSelectOneQuestion=function(e){var n=e.currentTarget.dataset,i=n.titleSlug,a=n.questionId,r=n.paidOnly;t.props.onClickMask(),t.props.onSelectOneQuestion({titleSlug:i,questionId:a,isPaidOnly:"true"===r})},t}return Object(i.__extends)(t,e),t.prototype.renderQuestionRow=function(e,t){var n=this,i=this.props,a=!!i.titleSlug&&i.titleSlug===e.titleSlug,r=this.context.useTranslation&&e.translatedTitle?e.translatedTitle:e.title,o=t+i.numPerPage*(i.currentPage-1)+1;a&&(this.currentQuestionIndex=o);var l=va("question",{active:a}),u=null;a?u="angle-right":e.status===gn.a.Attempt?u="exclamation":e.status===gn.a.Accept&&(u="check");var c=!!u&&s.a.createElement(xi.a,{type:u,className:fa.a.questionRowIcon}),d=e.isPaidOnly&&s.a.createElement(xi.a,{type:"lock",className:fa.a.paidOnlyIcon});return s.a.createElement(fi,{key:t},(function(t){var i=t.makeSureEditorClosed;return s.a.createElement("div",{className:l,onClick:i(n.onSelectOneQuestion),"data-title-slug":e.titleSlug,"data-question-id":e.questionId,"data-paid-only":e.isPaidOnly,title:e.titleSlug},s.a.createElement("div",{className:fa.a.questionRowLeft},s.a.createElement("span",{className:fa.a.questionStatus},c),s.a.createElement("span",null,"#"+e.questionFrontendId+" "+r)),s.a.createElement("div",{className:fa.a.questionRowRight},s.a.createElement(ga,{difficulty:e.difficulty.toLowerCase()},Object(Ei.a)(e.difficulty)),s.a.createElement("span",{className:fa.a.paidOnlyStatus},d)))}))},t.prototype.renderQuestions=function(){var e=this;if(this.props.loading)return s.a.createElement(d.a,null);var t=this.props.searchString?this.props.searchedQuestions:this.props.questions;return t.length?t.map((function(t,n){return e.renderQuestionRow(t,n)})):s.a.createElement(pa,null)},t.prototype.render=function(){return s.a.createElement("div",{className:fa.a.questionList},this.renderQuestions())},t.contextType=$e.c,t.propTypes={questions:nn.a.array,searchedQuestions:nn.a.array,searchString:nn.a.string,onSelectOneQuestion:nn.a.func.isRequired,titleSlug:nn.a.string.isRequired,numPerPage:nn.a.number,currentPage:nn.a.number,loading:nn.a.bool.isRequired,onClickMask:nn.a.func.isRequired},t.defaultProps={questions:[],searchedQuestions:[],searchString:"",numPerPage:0,currentPage:0},t}(o.PureComponent),ya=hi.a.bind(ua.a);function ka(e){var t=ya("question-picker-detail-menu",{show:e.visible,hide:!e.visible});return s.a.createElement("div",{className:t},s.a.createElement("div",{className:ua.a.questionPickerToolbarWrapper},s.a.createElement(sa,Object(i.__assign)({},e))),s.a.createElement("div",{className:"lc-theme-dark "+ua.a.questionPickerQuestionsWrapper},s.a.createElement(ha,Object(i.__assign)({},e))))}var Oa=hi.a.bind(Ni.a);function _a(e){var t=Oa("question-picker-detail",{show:e.visible}),n=s.a.createElement("div",{className:t},s.a.createElement(Si,{visible:e.visible,onClick:e.onClickMask}),s.a.createElement(ka,Object(i.__assign)({},e)));return Object(yi.createPortal)(n,document.body)}var Sa,ja=n("Pggp"),Na=n.n(ja),Ea=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={bugSurpriseVisible:!1},t.client=Ye.b.getInstanceByToken(hn.a.provide),t.onComplete=function(){return t.setState({bugSurpriseVisible:!1})},t.updateWrapperDataset=function(e){return{isOverEdged:e.width<=468}},t.toggleOpen=function(e){return t.client.mutate({mutation:bi.a,variables:{isOpen:e}})},t.handleClickMenu=function(){t.toggleOpen(!0),t.props.onShowQuestionPicker()},t.handleClickMask=function(){t.toggleOpen(!1)},t.handleFindingTheBug=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return this.props.isRewardAccepted?[3,2]:[4,this.props.onClickBug()];case 1:e.sent()&&this.setState({bugSurpriseVisible:!0}),e.label=2;case 2:return[2]}}))}))},t.preventDefault=function(e){e.preventDefault()},t}return Object(i.__extends)(t,e),t.prototype.renderQuestionIndex=function(){var e=this.props;return-1===e.totalNum?"-":e.totalNum>=0&&e.displayedQuestionIndex<0?s.a.createElement(li.a,{className:Na.a.iconBug,onClick:this.handleFindingTheBug}):e.displayedQuestionIndex},t.prototype.renderTotalNum=function(){return this.props.totalNum<0?"-":this.props.totalNum},t.prototype.render=function(){var e=this,t=this.props;return s.a.createElement(Ht.ResizeConsumer,{className:Na.a.questionFastPickerWrapper,updateDatasetBySize:this.updateWrapperDataset},s.a.createElement("div",{className:Na.a.questionFastPicker},s.a.createElement(j.a,{prefixIcon:s.a.createElement(ui.a,null),onClick:this.handleClickMenu,"data-tour-index":"2"},"\u9898\u76ee\u5217\u8868"),s.a.createElement(wt.a,null,(function(n){var i=n.isBarActive;return s.a.createElement("div",{className:Na.a.pickerHandlers,"data-is-resizer-bar-active":i},s.a.createElement("div",{className:Na.a.spaceFiller}),s.a.createElement(fi,null,(function(e){var n=e.makeSureEditorClosed;return s.a.createElement(j.a,{prefixIcon:s.a.createElement(ci.a,null),onClick:n(t.onClickShuffle),disabled:!t.isRandomable},"\u968f\u673a\u4e00\u9898")})),s.a.createElement("div",{className:Na.a.spaceFiller}),s.a.createElement("div",{className:Na.a.pickerPaginationHandlers},s.a.createElement(fi,null,(function(n){var i=n.makeSureEditorClosed;return s.a.createElement("a",{href:e.props.prevQuestionUrl,onClick:e.preventDefault},s.a.createElement(j.a,{id:"prev-question-btn",onClick:i(t.onClickPrev),disabled:!t.hasPrevQuestion,"data-tour-index":"4",prefixIcon:s.a.createElement(di.a,null)},"\u4e0a\u4e00\u9898"))})),s.a.createElement(pi.a,{content:"\u5f53\u524d\u9898\u76ee / \u6240\u6709\u9898\u76ee"},s.a.createElement("div",{className:Na.a.paginationScreen},e.renderQuestionIndex(),"/",e.renderTotalNum())),s.a.createElement(fi,null,(function(n){var i=n.makeSureEditorClosed;return s.a.createElement("a",{href:e.props.nextQuestionUrl,onClick:e.preventDefault},s.a.createElement(j.a,{id:"next-question-btn",onClick:i(t.onClickNext),disabled:!t.hasNextQuestion,"data-tour-index":"5",suffixIcon:s.a.createElement(mi.a,null)},"\u4e0b\u4e00\u9898"))}))))}))),!Object(jt.j)()&&s.a.createElement(zn,{query:gi},(function(n){var a=n.data.questionPicker;return s.a.createElement(_a,Object(i.__assign)({visible:a.isOpen,onClickMask:e.handleClickMask},t))})),this.state.bugSurpriseVisible&&s.a.createElement(si.BugSurprise,{device:$t,onComplete:this.onComplete}))},t.propTypes={onClickNext:nn.a.func.isRequired,onClickPrev:nn.a.func.isRequired,onClickShuffle:nn.a.func.isRequired,prevQuestionUrl:nn.a.string.isRequired,nextQuestionUrl:nn.a.string.isRequired,displayedQuestionIndex:nn.a.number.isRequired,hasPrevQuestion:nn.a.bool.isRequired,hasNextQuestion:nn.a.bool.isRequired,totalNum:nn.a.number,doesTheQuestionExist:nn.a.bool,onClickBug:nn.a.func.isRequired,isRewardAccepted:nn.a.bool.isRequired,loading:nn.a.bool.isRequired,isRandomable:nn.a.bool.isRequired,isResizerBarActive:nn.a.bool},t.defaultProps={totalNum:0,doesTheQuestionExist:void 0,isResizerBarActive:!1},t}(o.PureComponent),Ca=new rn.a,xa=n("RY/G"),qa=Object(g.a)(v.i,{expiredTime:36e5}),Fa=function(e,t){switch(t){case fn.Todo.value:return e!==gn.a.Accept&&e!==gn.a.Attempt;case fn.Solved.value:return e===gn.a.Accept;case fn.Attempted.value:return e===gn.a.Attempt;case fn.All.value:default:return!0}},Ta=function(e,t){switch(t){case bn.Easy.value:return e===bn.Easy.description;case bn.Medium.value:return e===bn.Medium.description;case bn.Hard.value:return e===bn.Hard.description;case bn.All.value:default:return!0}},wa=function(e,t){return e.has(parseInt(t.questionId,10))},Ia=function(e,t){return!t||"all"===t||e.toLowerCase()===t},Pa=function(e){return e.slice(0).sort((function(e,t){return n=e.questionFrontendId,i=t.questionFrontendId,vn(n)&&!vn(i)?-1:!vn(n)&&vn(i)?1:vn(n)&&vn(i)?parseInt(n,10)-parseInt(i,10):function(e,t){return e===t?0:e>t?1:-1}(n,i);var n,i}))},Ra=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.filteredQuestions=[],t.state={filterInfo:t.initialFilterInfo,topicTags:[],searchString:null,currentQuestionIndex:0,prevQuestionIndex:-1,nextQuestionIndex:-1,questions:[],searchedQuestions:[],loading:!0,pageNum:0,totalNum:-1,randomableQuestions:[],categories:[]},t.client=Ye.b.getInstanceByToken(hn.a.provide),t.filterInfo$=new an.a(Object(i.__assign)({},t.state.filterInfo)),t.searchString$=new rn.a,t.stop$=new rn.a,t.updateQuestionTags$=new rn.a,t.updateProblemSetCategories$=new rn.a,t.questionSlug$=new an.a(null),t.setQuestions$=t.filterInfo$.pipe(Object(nt.a)((function(e){return Object(i.__assign)(Object(i.__assign)({},t.state.filterInfo),e)})),Object(sn.a)((function(e,t){return Kt()(e,t)})),Object(ln.a)((function(e){t.state.searchString&&t.searchString$.next({searchString:t.state.searchString,filterInfo:e})})),Object(tt.a)((function(e){return t.setLoading(),Object(on.a)(t.fetchAllQuestions()).pipe(Object(un.a)(t.setSearchedQuestions$),Object(nt.a)((function(t){var n=t.data;return!qa.has(yn)&&qa.set(yn,n.allQuestionsBeta),{questions:n.allQuestionsBeta,filterInfo:e}})))})),Object(nt.a)((function(e){var t=e.questions,n=e.filterInfo;return{questions:Pa(t).filter((function(e){return Ia(e.categoryTitle,n.category)&&Fa(e.status,n.statusFilter)&&Ta(e.difficulty,n.difficultyFilter)&&(!n.selectedTopic||wa(n.topicFilter,e))&&(!n.selectedCompany||wa(n.companyFilter,e))&&(n.listName===yn||wa(n.listFilter,e))})),filterInfo:n}})),Object(ln.a)((function(e){var n=e.questions,i=e.filterInfo;t.setFilteredQuestions(n),t.setFilterInfo(i),t.setPagedQuestions({filteredQuestions:n,filterInfo:i},(function(){t.setLoaded(),t.saveCurrentListToLocal(i)}))})),Object(un.a)(t.stop$)),t.setSearchedQuestions$=t.searchString$.pipe(Object(cn.a)(500),Object(nt.a)((function(e){var n=e.searchString,i=e.filterInfo,a=t.filteredQuestions,r=parseInt(n,10),o=n.toLowerCase(),s=Number.isInteger(r)?a.filter((function(e){return e.questionFrontendId.includes(r)})):[],l=a.filter((function(e){return e.title.toLowerCase().includes(o)||e.translatedTitle&&e.translatedTitle.toLowerCase().includes(o)}));return{searchedQuestions:Yt()(s,l,"questionId"),searchString:n,filterInfo:i}})),Object(ln.a)((function(e){var n=e.searchString,i=e.searchedQuestions;return t.setState({searchString:n,searchedQuestions:i},(function(){return t.setLoaded}))})),Object(un.a)(t.stop$)),t.setQuestionInfo$=t.questionSlug$.pipe(Object(dn.a)((function(e){return!t.filteredQuestions.length||!e})),Object(sn.a)((function(e,t){return e===t})),Object(ln.a)((function(e){var n=t.getQuestionIndexInfo(t.filteredQuestions,e),a=n.questionIndexInfo,r=n.pageNo;t.filterInfo$.next({pageNo:r}),t.setQuestionIndexInfo(Object(i.__assign)({},a))})),Object(un.a)(t.stop$)),t.updateQuestions$=Ca.pipe(Object(ln.a)((function(e){var n=e.status,i=e.questionId;if(i&&n)for(var a=t.client.readQuery({query:ti.a}).allQuestionsBeta,r=0,o=a.length;r<o;r++)if(a[r].questionId===i){a[r].status=n,t.client.writeQuery({query:ti.a,data:{allQuestionsBeta:a}});break}})),Object(un.a)(t.stop$)),t.setLoading=function(){return t.setState({loading:!0})},t.setLoaded=function(){return t.setState({loading:!1})},t.setFilteredQuestions=function(e){t.filteredQuestions=e},t.setFilterInfo=function(e){return t.setState({filterInfo:e})},t.setQuestionIndexInfo=function(e){return t.setState(Object(i.__assign)({},e))},t.setPagedQuestions=function(e,n){var a=e.filteredQuestions,r=e.filterInfo.pageNo,o=Math.ceil(a.length/kn),s=(r-1)*kn,l=t.props.device===$t?a.slice(s,s+kn):a.slice(0,r*kn),u=a.filter((function(e){return e.status!==gn.a.Accept&&e.titleSlug!==t.props.question.titleSlug})),c=t.getQuestionIndexInfo(a,t.props.questionSlug).questionIndexInfo;t.setQuestionIndexInfo(Object(i.__assign)({},c)),t.setState({questions:l,pageNum:o,randomableQuestions:u,totalNum:a.length},(function(){n&&n()}))},t.setQuestionTags$=t.updateQuestionTags$.pipe(Object(sn.a)((function(e,t){return Kt()(e,t)})),Object(ln.a)((function(e){var n=e.data;if(n){var i=n.questionTopicTags;t.setState({topicTags:i&&i.edges?i.edges.map((function(e){return{name:e.node.name,questions:e.node.questionIds}})):[]})}}))),t.setProblemSetCategories$=t.updateProblemSetCategories$.pipe(Object(ln.a)((function(e){var n=e.data;if(n){var i=n.problemsetCategories;t.setState({categories:i})}}))),t.fetchQuestionTags=function(){t.client.watchQuery({query:ni,fetchPolicy:"cache-first"}).result().then((function(e){t.updateQuestionTags$.next(e)}))},t.fetchProblemSetCategories=function(){t.client.watchQuery({query:ii,fetchPolicy:"cache-first"}).result().then((function(e){t.updateProblemSetCategories$.next(e)}))},t.onSelectRandomQuestion=function(){var e=t.state.randomableQuestions;if(e.length){var n=e[en()(0,e.length-1)];t.setRoute(n.titleSlug),t.setQuestionSlug(n.titleSlug),oi.a.questionDetail.detail.random(n.titleSlug)}},t.onSelectPage=function(e){t.filterInfo$.next({pageNo:e})},t.onSelectOneQuestion=function(e){var n=e.titleSlug;t.setRoute(n),t.setQuestionSlug(n)},t.onClickNext=function(){var e=t.filteredQuestions[t.state.nextQuestionIndex].titleSlug;t.setRoute(e),t.setQuestionSlug(e),oi.a.questionDetail.detail.nextQuestion(e)},t.onClickPrev=function(){var e=t.filteredQuestions[t.state.prevQuestionIndex].titleSlug;t.setRoute(e),t.setQuestionSlug(e),oi.a.questionDetail.detail.prevQuestion(e)},t.onSearch=function(e){return void 0===e&&(e=""),t.searchString$.next({searchString:e})},t.onClickBug=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.client.mutate({mutation:ai,variables:{achievementName:On}})];case 1:return(e=t.sent().data.acceptAchievementReward.ok)&&this.props.refetchAchievementStatus({variables:{achievementName:On}}),[2,e]}}))}))},t.onSubmitFilter=function(e){t.filterInfo$.next(Object(i.__assign)(Object(i.__assign)({},e),{pageNo:1}))},t.onShowQuestionPicker=function(){oi.a.questionDetail.detail.questionList(t.props.questionSlug)},t.goPrevPage=function(){t.state.filterInfo.pageNo>1&&t.filterInfo$.next({pageNo:t.state.filterInfo.pageNo-1})},t.goNextPage=function(){t.state.filterInfo.pageNo<t.state.pageNum&&t.filterInfo$.next({pageNo:t.state.filterInfo.pageNo+1})},t.getQuestionStatuses=function(e){var t={};return e.forEach((function(e){t[e.questionId]=e.status})),t},t}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"filterStore",{get:function(){return this.props.user.isSignedIn?Object(g.a)(this.props.user.username+"_"+v.h):Object(g.a)("anonymous_"+v.h)},enumerable:!1,configurable:!0}),t.prototype.componentDidUpdate=function(e){e.questionSlug===this.props.questionSlug&&this.questionSlug$.next(this.props.questionSlug)},t.prototype.componentDidMount=function(){this.setQuestions$.subscribe(),this.setSearchedQuestions$.subscribe(),this.setQuestionInfo$.subscribe(),this.updateQuestions$.subscribe(),this.setQuestionTags$.subscribe(),this.setProblemSetCategories$.subscribe()},t.prototype.componentWillUnmount=function(){this.filterInfo$.complete(),this.searchString$.complete(),this.updateQuestionTags$.complete(),this.updateProblemSetCategories$.complete(),this.setQuestions$.unsubscribe(),this.setSearchedQuestions$.unsubscribe(),this.setQuestionInfo$.unsubscribe(),this.updateQuestions$.unsubscribe(),this.setQuestionTags$.unsubscribe(),this.setProblemSetCategories$.unsubscribe(),this.stop$.next(),this.stop$.complete()},Object.defineProperty(t.prototype,"initialFilterInfo",{get:function(){var e=this.filterStore.get(v.h,{}),t=e.statusFilter,n=e.difficultyFilter,i=e.listName,a=e.listFilter,r=e.selectedTopic,o=e.topicFilter,s=e.selectedCompany,l=e.companyFilter,u=e.category;return{statusFilter:t||fn.All.value,difficultyFilter:n||bn.All.value,listName:i||yn,listFilter:new Set(a),selectedTopic:r||null,selectedCompany:s||null,topicFilter:new Set(o),companyFilter:new Set(l),pageNo:1,category:u}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listNames",{get:function(){var e=this.props.officialFavorites||[];return Object(i.__spread)([{name:yn}],e.map((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{isOfficial:!0})})),this.props.favorites||[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){switch(this.props.device){case $t:return Ea;case"MOBILE":return;default:return null}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prevQuestionUrl",{get:function(){var e=this.filteredQuestions[this.state.prevQuestionIndex];return e?xa.a.question(e.titleSlug):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextQuestionUrl",{get:function(){var e=this.filteredQuestions[this.state.nextQuestionIndex];return e?xa.a.question(e.titleSlug):""},enumerable:!1,configurable:!0}),t.prototype.getQuestionIndexInfo=function(e,t){if(!e.length)return{questionIndexInfo:{currentQuestionIndex:-1,prevQuestionIndex:0,nextQuestionIndex:0},pageNo:0};var n=e.findIndex((function(e){return e.titleSlug===t})),i=(e[n]||this.props.question).questionId;return{questionIndexInfo:{currentQuestionIndex:n,prevQuestionIndex:n<0?Xt()(e,(function(e){return parseInt(e.questionId,10)<parseInt(i,10)})):n-1,nextQuestionIndex:n<0?e.findIndex((function(e){return parseInt(e.questionId,10)>parseInt(i,10)})):n+1},pageNo:Math.ceil((n+1)/kn)}},t.prototype.setRoute=function(e){this.props.history.push(xa.a.question(e))},t.prototype.setQuestionSlug=function(e){var t=this.props.onChangeQuestion;t&&t(e)},t.prototype.saveCurrentListToLocal=function(e){this.filterStore.set(v.h,e)},t.prototype.fetchAllQuestions=function(){var e=this;return qa.has(yn)&&(this.fetchAllQuestionStatuses().then((function(t){var n=t.data.allQuestionsBeta,i=e.getQuestionStatuses(n),a=qa.get(yn,[]).map((function(e){return e.status=i[e.questionId],e}));e.client.writeQuery({query:ti.a,data:{allQuestionsBeta:a}})})),this.client.writeQuery({query:ti.a,data:{allQuestionsBeta:qa.get(yn,[])}})),Object(on.a)(this.client.watchQuery({query:ti.a,fetchPolicy:"cache-first"})).pipe(Object(it.a)("\u83b7\u53d6\u9898\u76ee\u5217\u8868\u5931\u8d25"))},t.prototype.fetchAllQuestionStatuses=function(){return this.client.query({query:ri,fetchPolicy:"cache-first"})},t.prototype.render=function(){var e=this.state,t=e.currentQuestionIndex,n=e.prevQuestionIndex,i=e.nextQuestionIndex,a=e.questions,r=e.categories,o=e.topicTags,l=t<0?-1:t+1,u=-1!==n,c=!!a&&i<this.filteredQuestions.length&&-1!==i,d=this.component;return s.a.createElement(d,{loading:e.loading,listName:e.filterInfo.listName,listNames:this.listNames,questions:a,categories:r,searchedQuestions:e.searchedQuestions,searchString:e.searchString,totalNum:e.totalNum,pageNum:e.pageNum,titleSlug:this.props.questionSlug,currentPage:e.filterInfo.pageNo,statusFilter:e.filterInfo.statusFilter,difficultyFilter:e.filterInfo.difficultyFilter,category:e.filterInfo.category,selectedTopic:e.filterInfo.selectedTopic,topicFilter:e.filterInfo.topicFilter,selectedCompany:e.filterInfo.selectedCompany,companyFilter:e.filterInfo.companyFilter,onClickPrev:this.onClickPrev,onClickNext:this.onClickNext,nextQuestionUrl:this.nextQuestionUrl,prevQuestionUrl:this.prevQuestionUrl,displayedQuestionIndex:l,hasPrevQuestion:u,hasNextQuestion:c,onClickShuffle:this.onSelectRandomQuestion,isRandomable:!!e.randomableQuestions.length,onClickBug:this.onClickBug,isRewardAccepted:this.props.isRewardAccepted,onSelectPage:this.onSelectPage,onSelectOneQuestion:this.onSelectOneQuestion,onSearch:this.onSearch,goPrevPage:this.goPrevPage,goNextPage:this.goNextPage,onSubmitFilter:this.onSubmitFilter,fetchMore:this.goNextPage,fetchBefore:this.goPrevPage,fetchQuestionTags:this.fetchQuestionTags,fetchProblemSetCategories:this.fetchProblemSetCategories,topicTags:o,onShowQuestionPicker:this.onShowQuestionPicker})},t.propTypes={questionSlug:nn.a.string.isRequired,question:nn.a.object,favorites:nn.a.array.isRequired,isRewardAccepted:nn.a.bool,refetchAchievementStatus:nn.a.func,onChangeQuestion:nn.a.func},t.defaultProps={isRewardAccepted:!0,question:{}},t=Object(i.__decorate)([l.l,Zn,$e.d,ei],t)}(o.PureComponent),Da=n("6jnZ"),Aa=n.n(Da),Qa=n("0iyY"),La=n.n(Qa),Ma=n("u6DZ"),Va=n.n(Ma),za=n("fBwi"),Wa=n.n(za),Ba=n("z0YO"),Ha=n("Q0jv"),$a=n("daAW"),Ua=n("YnR9"),Ka=n("DPaw"),Ga=n("sqX5"),Ya=n("7kue"),Ja=n("7GYf"),Xa=n("Jjic"),Za=n("i5Nm"),er=n("tTYB"),tr=n("3Vkt"),nr=Object(C.a)("div",{target:"ez3zzvp0"})(((Sa={position:"absolute",right:"0px",bottom:"0px",height:"20px",display:"flex",alignItems:"center",background:x.a.grey(0)})[x.c]={background:x.a.grey(1)},Sa.color=x.a.brand("orange"),Sa),"label:Container;"),ir=function(e){var t=e.chargeType,n=e.articleSlug,i=e.questionSlug,a=Object(l.h)(),r=s.a.useCallback((function(){a.push(Ua.a.main.paths.premium.home())}),[a]),o=s.a.useCallback((function(e){e.preventDefault(),oi.a.questionDetail.solutionVideoListIconLock({questionSlug:i,solutionSlug:n}),r()}),[r,i,n]),u=s.a.useCallback((function(e){e.preventDefault(),oi.a.questionDetail.solutionVideoListIconVlock({questionSlug:i,solutionSlug:n}),r()}),[r,i,n]),c=s.a.useCallback((function(){oi.a.questionDetail.solutionVideoListIconLockExposure({questionSlug:i,solutionSlug:n})}),[i,n]),d=s.a.useCallback((function(){oi.a.questionDetail.solutionVideoListIconVlockExposure({questionSlug:i,solutionSlug:n})}),[i,n]),p=s.a.useRef(null),m=s.a.useRef(null);switch(Object(Za.a)(p,c),Object(Za.a)(m,d),t){case N.j.Free:return null;case N.j.Premium:return s.a.createElement(nr,{onClick:o,ref:p},s.a.createElement(er.a,{size:16}));case N.j.VideoPremium:return s.a.createElement(nr,{onClick:u,ref:m},s.a.createElement(tr.a,{size:20}))}},ar=n("apDY"),rr=n("kW4m"),or=function(e){var t,n=e.article,i=e.questionSlug,a=e.searchWords,r=e.index,o=null===(t=n.videosInfo)||void 0===t?void 0:t[0],l=s.a.useRef(null),u=s.a.useCallback((function(){oi.a.questionDetail.solutionVideoListIconItem({listIndex:r,questionSlug:i,solutionSlug:n.slug})}),[r,i,n]),c=s.a.useCallback((function(){oi.a.questionDetail.solutionVideoListIconItemExposure({listIndex:r,questionSlug:i,solutionSlug:n.slug})}),[r,i,n]);return Object(Za.a)(l,c),s.a.createElement(s.a.Fragment,null,o&&s.a.createElement(ar.a,{ref:l,onClick:u},s.a.createElement($a.a,{to:Ua.a.main.paths.questionDetail.solutionDetail({questionSlug:i,articleSlug:n.slug})},s.a.createElement(ar.f,{coverUrl:o.coverUrl},s.a.createElement(ar.c,{"data-hover-to-show":!0},s.a.createElement(Ka.a,{size:13})),s.a.createElement(ar.d,null,n.isEditorsPick&&s.a.createElement(Xa.b,null),n.byLeetcode&&s.a.createElement(Xa.a,null)),s.a.createElement(ar.g,null,s.a.createElement(ar.b,null,s.a.createElement(Ga.a,{size:16}),s.a.createElement("span",null,n.hitCount)),s.a.createElement(ar.b,null,s.a.createElement(Ya.a,{size:16}),s.a.createElement("span",null,Object(rr.a)(o.duration))))),s.a.createElement(ar.e,null,s.a.createElement(Ja.h,{searchWords:a,autoEscape:!0,textToHighlight:n.title})),s.a.createElement(ir,{chargeType:n.chargeType,articleSlug:n.slug,questionSlug:i}))))},sr=n("bfiJ"),lr=n("gKzB"),ur=n("MGxm"),cr=n("MUeP"),dr=Object(C.a)("div",{target:"e1o6mvk50"})({position:"relative",'> [data-type="action"]':{opacity:0,'&[data-is-disabled="true"]':{pointerEvents:"none"},'&[data-is-disabled="false"]':{pointerEvents:"auto"}},'&:hover > [data-type="action"]':{'&[data-is-disabled="false"]':{opacity:1}}},"label:RootContainer;"),pr=Object(C.a)("div",{target:"e1o6mvk51"})({overflowX:"auto",overflowY:"hidden",whiteSpace:"nowrap",padding:"0px 4px",display:"flex",alignItems:"flex-start"},{scrollbarWidth:"none",msOverflowStyle:"none","::-webkit-scrollbar":{display:"none"}},"label:ScrollContainer;"),mr=Object(C.a)("div",{target:"e1o6mvk52"})((function(e){var t;return(t={position:"absolute"})[e.position]="0px",t.top="50%",t.transform="translateY(-50%)",t.background=x.a.grey(9,.2),t.width="26px",t.height="50px",t.display="flex",t.alignItems="center",t.justifyContent="center",t.color=x.a.grey(0),t.cursor="pointer",t.zIndex=1,t.transition="background .3s, opacity .3s",t["&:hover"]={background:x.a.grey(9,.3)},t}),"label:ActionContainer;"),fr=Object(lr.a)((function(e){var t=e.questionSlug,n=Object(i.__rest)(e,["questionSlug"]),a=Object(sr.a)(),r=a.scrollContainerRef,o=a.scrollToNext,l=a.scrollToPrev,u=a.isHiddenLeftArrow,c=a.isHiddenRightArrow,d=s.a.useCallback((function(){oi.a.questionDetail.solutionVideoListFlip({flipType:"previous",questionSlug:t}),l()}),[l,t]),p=s.a.useCallback((function(){oi.a.questionDetail.solutionVideoListFlip({flipType:"next",questionSlug:t}),o()}),[o,t]),m=s.a.useCallback((function(){oi.a.questionDetail.solutionVideoListFlipExposure({flipType:"previous",questionSlug:t})}),[t]),f=s.a.useCallback((function(){oi.a.questionDetail.solutionVideoListFlipExposure({flipType:"next",questionSlug:t})}),[t]),b=s.a.useRef(null),g=s.a.useRef(null);return Object(Za.a)(b,m,{isActive:!u}),Object(Za.a)(g,f,{isActive:!c}),s.a.createElement(dr,null,s.a.createElement(mr,{position:"left","data-type":"action","data-is-disabled":u,onClick:d,ref:b},s.a.createElement(ur.a,{size:24})),s.a.createElement(mr,{position:"right","data-type":"action","data-is-disabled":c,onClick:p,ref:g},s.a.createElement(cr.a,{size:24})),s.a.createElement(pr,Object(i.__assign)({ref:r},n)))})),br=n("pN2L"),gr=n("eb+u"),vr=n("4HYP"),hr=n("W/Ou"),yr=n("y9rd"),kr={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"questionSolutionVideoArticles"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"questionSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"NamedType",name:{kind:"Name",value:"SolutionArticleOrderBy"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userInput"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"tagSlugs"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skip"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionSolutionVideoArticles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"questionSlug"},value:{kind:"Variable",name:{kind:"Name",value:"questionSlug"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}},{kind:"Argument",name:{kind:"Name",value:"userInput"},value:{kind:"Variable",name:{kind:"Name",value:"userInput"}}},{kind:"Argument",name:{kind:"Name",value:"tagSlugs"},value:{kind:"Variable",name:{kind:"Name",value:"tagSlugs"}}},{kind:"Argument",name:{kind:"Name",value:"skip"},value:{kind:"Variable",name:{kind:"Name",value:"skip"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalNum"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chargeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEditorsPick"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"byLeetcode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videosInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videoId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"coverUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"hitCount"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{source:{body:"query questionSolutionVideoArticles(\n  $questionSlug: String!,\n  $orderBy: SolutionArticleOrderBy,\n  $userInput: String,\n  $tagSlugs: [String!],\n  $skip: Int,\n  $first: Int\n) {\n  questionSolutionVideoArticles(\n    questionSlug: $questionSlug,\n    orderBy: $orderBy,\n    userInput: $userInput,\n    tagSlugs: $tagSlugs,\n    skip: $skip,\n    first: $first\n  ) {\n    totalNum\n    edges {\n      node {\n        title\n        slug\n        chargeType\n        isEditorsPick\n        byLeetcode\n        videosInfo {\n          videoId\n          coverUrl\n          duration\n        }\n        hitCount\n      }\n    }\n  }\n}\n"}},operationName:"questionSolutionVideoArticles",defName:"questionSolutionVideoArticles"},Or=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState={loading:!0,articles:[],skip:0,total:1},n}var n,a,r,o,s,l,u,c,d;return Object(i.__extends)(t,e),t.prototype.setSkip=function(e){e.skip+=10},t.prototype.setTotal=function(e,t){e.total=t},t.prototype.handleFetchArticlesResult=function(e,t){e.loading=!1,e.articles=e.articles.concat(Sn()(t.questionSolutionVideoArticles.edges.map((function(e){return null===e||void 0===e?void 0:e.node}))))},t.prototype.beforeFetchArticlesResult=function(e){e.loading=!0},t.prototype.fetchArticles=function(e,t){var n=this;return e.pipe(Object(cn.a)(1e3),Object(gr.a)(t),Object(Zi.a)((function(e){var t=Object(i.__read)(e,2)[1];return t.skip<t.total})),Object(tt.a)((function(e){var t=Object(i.__read)(e,1)[0];return n.client.query({query:kr,variables:t}).pipe(Object(it.a)("\u83b7\u53d6\u89c6\u9891\u9898\u89e3\u5931\u8d25"),Object(ln.a)((function(e){var t=e.errors;t&&yr.a.danger(t)})),Object(vr.b)((function(e){var t,i=e.data;return Object(br.a)(n.getActions().setSkip(),n.getActions().setTotal(null!==(t=i.questionSolutionVideoArticles.totalNum)&&void 0!==t?t:0),n.getActions().handleFetchArticlesResult(i))})),Object(hr.a)(n.getActions().beforeFetchArticlesResult()))})))},Object(i.__decorate)([Object(Je.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(n="undefined"!==typeof Ze.Draft&&Ze.Draft)?n:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setSkip",null),Object(i.__decorate)([Object(Je.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof Ze.Draft&&Ze.Draft)?a:Object,Number]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setTotal",null),Object(i.__decorate)([Object(Je.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(r="undefined"!==typeof Ze.Draft&&Ze.Draft)?r:Object,"function"===typeof(o="undefined"!==typeof ct.QuestionSolutionVideoArticles&&ct.QuestionSolutionVideoArticles.Query)?o:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"handleFetchArticlesResult",null),Object(i.__decorate)([Object(Je.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof Ze.Draft&&Ze.Draft)?s:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"beforeFetchArticlesResult",null),Object(i.__decorate)([Object(Je.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(l="undefined"!==typeof et.a&&et.a)?l:Object,"function"===typeof(u="undefined"!==typeof et.a&&et.a)?u:Object]),Object(i.__metadata)("design:returntype","function"===typeof(c="undefined"!==typeof et.a&&et.a)?c:Object)],t.prototype,"fetchArticles",null),t=Object(i.__decorate)([Object(Ye.a)(),Object(i.__metadata)("design:paramtypes",["function"===typeof(d="undefined"!==typeof at.a&&at.a)?d:Object])],t)}(Xe.a),_r=Object(C.a)("div",{target:"e9r5o510"})({borderBottom:"1px solid "+x.a.grey(3)},"label:RootContainer;"),Sr=Object(C.a)("div",{target:"e9r5o511"})({margin:"16px 0px",padding:"0px 12px"},"label:CardContainer;"),jr=function(e){var t=e.questionSlug,n=e.userInput,a=e.selectedTags,o=Object(i.__read)(Object(r.a)(Or,{scope:t}),2),l=o[0],u=o[1].fetchArticles,c=s.a.useMemo((function(){return a.map((function(e){return e.slug}))}),[a]),d=s.a.useMemo((function(){return Object(i.__spread)([n],a.map((function(e){var t=e.name;return e.nameTranslated||t})))}),[n,a]);return s.a.useEffect((function(){u({questionSlug:t,userInput:n,tagSlugs:c,skip:l.skip,first:10})}),[t,n,c,u,l.skip]),l.articles.length<2?null:s.a.createElement(_r,null,s.a.createElement(fr,{questionSlug:t},l.articles.map((function(e,n){return s.a.createElement(Sr,{key:e.slug,title:e.title},s.a.createElement(or,{index:n,article:Object(i.__assign)(Object(i.__assign)({},e),{title:e.title}),questionSlug:t,searchWords:d}))}))))},Nr=n("UqMZ"),Er=n("ehcH"),Cr=n("nPqx"),xr=n("TqBM"),qr=n("u+Aj"),Fr=n("87bA"),Tr=n("13pT"),wr=n("XExS"),Ir=n("cdBm"),Pr=n("3Xm+"),Rr=Object(C.a)("div",{target:"ebvfgex0"})({width:"100%",margin:"15px 0",display:"flex",justifyContent:"center"},"label:PaginationWrapper;"),Dr=Object(C.a)("div",{target:"ebvfgex1"})({minHeight:"36px",padding:"5px 16px",display:"flex",alignItems:"center",flexWrap:"nowrap",borderBottom:"1px solid "+x.a.grey(2)},"label:OperationsWrapper;"),Ar=Object(C.a)(Pr.a,{target:"ebvfgex2"})({color:x.a.grey(6),cursor:"pointer"},"label:SearchIcon;"),Qr=Object(C.a)("input",{target:"ebvfgex3"})({border:"none",outline:"none",fontSize:"12px",lineHeight:"14px",flex:"1 1 auto",padding:"4px",background:"transparent","&:placeholder":{color:x.a.gold(5)}},"label:Search;"),Lr=Object(C.a)("div",{target:"ebvfgex4"})({width:"1px",height:"16px",background:x.a.grey(3),margin:"0px 8px"},"label:SplitLine;"),Mr=Object(C.a)("div",{target:"ebvfgex5"})({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"200px"},"label:EmptyWrapper;"),Vr=Object(C.a)("h5",{target:"ebvfgex6"})({margin:"0 0 20px",padding:"0",fontSize:"14px",color:x.a.grey(4)},"label:EmptyTitle;"),zr=Object(C.a)("div",{target:"ebvfgex7"})({display:"flex",flexDirection:"column",padding:"5px"},"label:ExtraMenu;"),Wr={textColor:x.a.red(5),backgroundColor:"transparent",hoverTextColor:x.a.red(4),activeTextColor:x.a.red(5)},Br=Object(Ir.withDefaultProps)(j.a,{kind:Wr}),Hr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={report:{visible:!1,resourceId:null},deleteModalVisible:!1,deleteSlug:null,officialFeedbackModalVisible:!1,feedbackModalVisible:!1,articleSlug:"",articleTitle:""},t.onDelete=function(){t.state.deleteSlug&&t.props.deleteSolutionArticle({questionSlug:t.props.questionSlug,slug:t.state.deleteSlug,callback:function(){return t.props.getArticleList()}})},t.renderAdminMenu=function(e,t){return s.a.createElement(wr.a,{resourceId:e,article:t})},t.showOfficialFeedbackModal=function(e,n){return function(){return t.setState({officialFeedbackModalVisible:!0,articleSlug:e,articleTitle:n})}},t.hideOfficialFeedbackModal=function(){return t.setState({officialFeedbackModalVisible:!1})},t.showFeedbackModal=function(e,n){return function(){return t.setState({feedbackModalVisible:!0,articleSlug:e,articleTitle:n})}},t.hideFeedbackModal=function(){return t.setState({feedbackModalVisible:!1})},t.onCloseDeleteModal=function(){return t.setState({deleteModalVisible:!1})},t.onClickDelete=function(e){oi.a.questionDetail.solutionListClickDelete({questionSlug:t.props.questionSlug}),t.setState({deleteModalVisible:!0,deleteSlug:e.currentTarget.dataset.contentId})},t.genReactHandler=function(e){var n=e.byLeetcode,i=e.contentId,a=e.articleTitle;return function(e){var r=e.reactedWith,o=e.articleId,s=e.prevReactedWith,l=e.extraData.articleSlug;r===s?(oi.a.questionDetail.solutionListRemoveReaction({questionSlug:t.props.questionSlug}),t.props.removeReaction({articleSlug:l,articleId:o,reactionType:r})):(oi.a.questionDetail.solutionListAddReaction({questionSlug:t.props.questionSlug,reactionType:r}),t.props.addReaction({articleSlug:l,articleId:o,reactionType:r}),r===N.Ob.ThumbsDown&&(n?t.showOfficialFeedbackModal(i,a):t.showFeedbackModal(i,a))())}},t.onClickEdit=function(e){var n=e.currentTarget;oi.a.questionDetail.solutionListClickEdit({questionSlug:t.props.questionSlug}),n.dataset.contentId&&t.props.showSolutionEditorForEditingArticle(n.dataset.contentId)},t.onClickReport=function(e){var n=e.currentTarget;oi.a.questionDetail.solutionListClickReport({questionSlug:t.props.questionSlug}),t.setState({report:{visible:!0,resourceId:n.dataset.identifier||null}})},t.onClose=function(){t.setState({report:{visible:!1,resourceId:null}})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.state,n=e.report,i=e.deleteModalVisible,a=this.props.articles;return s.a.createElement(s.a.Fragment,null,s.a.createElement(xr.a,{searchWords:this.props.searchWords,renderAdminMenu:this.renderAdminMenu,articles:this.getDisplayedArticles(a)}),s.a.createElement(qr.a,{visible:n.visible,resourceId:n.resourceId,resourceType:t.reportType,onClose:this.onClose}),s.a.createElement(Cr.a,{type:"threat",visible:i,onOk:this.onDelete,onClose:this.onCloseDeleteModal},"\u60a8\u786e\u5b9a\u5220\u9664\u8be5\u9898\u89e3\u5417\uff1f"),s.a.createElement(Fr.a,{articleSlug:this.state.articleSlug,articleTitle:this.state.articleTitle,isActive:this.state.officialFeedbackModalVisible,onClose:this.hideOfficialFeedbackModal}),s.a.createElement(Tr.a,{articleTitle:this.state.articleTitle,articleSlug:this.state.articleSlug,isActive:this.state.feedbackModalVisible,onClose:this.hideFeedbackModal}))},t.prototype.renderReactionExtraMenu=function(e){var t=e.contentId,n=e.canEdit,i=e.identifier,a=e.articleTitle,r=e.byLeetcode;return s.a.createElement(zr,null,n&&s.a.createElement(Br,{size:"xs","data-content-id":t,"data-identifier":i,onClick:this.onClickDelete},"\u5220\u9664"),s.a.createElement(Mi.a,{size:"xs",type:"transparent","data-content-id":t,"data-identifier":i,onClick:n?this.onClickEdit:this.onClickReport},n?"\u7f16\u8f91":"\u4e3e\u62a5"),s.a.createElement(Mi.a,{size:"xs",type:"transparent",onClick:r?this.showOfficialFeedbackModal(t,a):this.showFeedbackModal(t,a)},"\u53cd\u9988"))},t.prototype.getDisplayedArticles=function(e){var t=this;return e.map((function(e){var n,a;return{article:e,relatedQuestion:{questionSlug:t.props.questionSlug},articleOperations:{contentId:e.slug,reactionV2:Object(i.__assign)({articleId:e.uuid,onReact:t.genReactHandler({contentId:e.slug,articleTitle:e.title,byLeetcode:e.byLeetcode}),extraData:{articleSlug:e.slug},reactedWith:e.reactionType?e.reactionType:null},function(){if(!e.reactionsV2||!e.reactionsV2.length)return{};var t=new Map;return e.reactionsV2.forEach((function(e){var n=e.reactionType,i=e.count;return t.set(n,i)})),{countMap:t}}()),hitCountSlim:{count:e.hitCount,to:Ua.a.main.paths.questionDetail.solutionDetail({articleSlug:e.slug,questionSlug:t.props.questionSlug})},commentSlim:{count:null!==(a=null===(n=e.topic)||void 0===n?void 0:n.commentCount)&&void 0!==a?a:0,to:Ua.a.main.paths.questionDetail.solutionDetail({articleSlug:e.slug,questionSlug:t.props.questionSlug})+"#comment"},extraMenu:t.renderReactionExtraMenu({contentId:e.slug,canEdit:e.canEdit,identifier:e.identifier,articleTitle:e.title,byLeetcode:e.byLeetcode})}}}))},t.reportType=N.Tb.Article,t}(s.a.PureComponent),$r=Object(l.l)(Hr);function Ur(e){var t=Object(i.__read)(Object(r.a)(E.a),1)[0].question,n=t.translatedTitle||t.title,a=t.questionFrontendId,o=e.articles.slice(0,3).map((function(e,t){var n=e.title,i=e.author,a=e.summary;return t+1+". \u6807\u9898: "+n+" \u4f5c\u8005:"+i.username+" \u6458\u8981:"+a})).join("; ");return n?s.a.createElement(Ct.a,{title:a+". "+n+" \u9898\u89e3",description:o}):null}var Kr,Gr=n("P4jA"),Yr=n("rF4R"),Jr=n("lVbi"),Xr=n("YUEC"),Zr={default:{name:"\u9ed8\u8ba4\u6392\u5e8f",value:"DEFAULT"},favorite:{name:"\u70b9\u8d5e\u6700\u591a",value:"MOST_UPVOTE"},popular:{name:"\u70ed\u5ea6\u6700\u9ad8",value:"HOT"},latest:{name:"\u6700\u65b0\u53d1\u5e03",value:"NEWEST_TO_OLDEST"},earliest:{name:"\u6700\u65e9\u53d1\u5e03",value:"OLDEST_TO_NEWEST"}},eo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={input:"",selectedKey:Zr.default.value,isShowSortDropdown:!1},t.onClickWriting=function(){Nr.a.ensurePhoneVerified(Object(Er.a)((function(){t.props.draftSlug?t.props.showSolutionEditorForEditingArticle(t.props.draftSlug):t.props.showSolutionEditorForCreatingArticle({questionSlug:t.props.questionSlug})}),t.context.bannedData),{user:t.context})()},t.onSearch=function(){t.props.onSearch(t.state.input)},t.onInput=function(e){var n=e.currentTarget;t.setState({input:n.value},(function(){return t.props.onSearch(t.state.input)}))},t.renderOrderMenu=function(){var e=s.a.createElement(Gr.a,{selectedKey:t.state.selectedKey,onSelect:t.onSelectOrder},Object.values(Zr).map((function(e){return s.a.createElement(Gr.a.Item,{key:e.value},e.name)})));return s.a.createElement(Yr.a,{content:e,placement:"bottom-start",offset:[0,10],trigger:"click",isActive:t.state.isShowSortDropdown,onChangeActive:t.updateIsShowSortDropdown},s.a.createElement(j.a,{kind:"transparent",size:"xs",prefixIcon:s.a.createElement(Jr.a,null)},"\u6392\u5e8f"))},t.updateIsShowSortDropdown=function(e){t.setState({isShowSortDropdown:e})},t.onSelectOrder=function(e){t.setState({selectedKey:e,isShowSortDropdown:!1},(function(){t.props.onChangeOrder(t.state.selectedKey)}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return s.a.createElement(Dr,null,s.a.createElement(Ar,{onClick:this.onSearch,size:18}),s.a.createElement(Qr,{placeholder:"\u641c\u7d22\u9898\u89e3",onInput:this.onInput}),this.renderOrderMenu(),!this.props.isEditing&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Lr,null),s.a.createElement(j.a,{kind:"primary",size:"xs",onClick:this.onClickWriting,disabled:this.props.disabled,prefixIcon:s.a.createElement(Xr.a,null)},this.props.draftSlug?"\u7ee7\u7eed\u5199\u9898\u89e3":"\u5199\u9898\u89e3")))},t.contextType=$e.c,t}(s.a.PureComponent),to=n("XoRX"),no=n("UmVR"),io={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"solutionTags"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"questionSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"solutionTags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"questionSlug"},value:{kind:"Variable",name:{kind:"Name",value:"questionSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameTranslated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"languageTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameTranslated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"otherTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameTranslated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"query solutionTags($questionSlug: String!) {\n  solutionTags(questionSlug: $questionSlug) {\n    allTags {\n      name\n      nameTranslated\n      slug\n    }\n\n    languageTags {\n      name\n      nameTranslated\n      slug\n    }\n\n    otherTags {\n      name\n      nameTranslated\n      slug\n    }\n  }\n}"}},operationName:"solutionTags",defName:"solutionTags"};!function(e){e.shrink="shrink",e.expanded="expanded"}(Kr||(Kr={}));var ao,ro=function(){return{displayKind:Kr.shrink,selectedTags:{},allTags:[],languageTags:[],otherTags:[]}},oo=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n.defaultState=ro(),n}var n,a,r,o,s;return Object(i.__extends)(t,e),t.prototype.updateDisplayKind=function(e,t){e.displayKind=t},t.prototype.toggleSelectTag=function(e,t){e.selectedTags[t.slug]?e.selectedTags[t.slug]=null:e.selectedTags[t.slug]=t},t.prototype.clearSelectedTags=function(e){e.selectedTags={}},t.prototype.fetchListTags=function(e){var t=this;return e.pipe(Object(tt.a)((function(e){return t.client.query({query:io,variables:{questionSlug:e}}).pipe(Object(nt.a)((function(e){var n=e.data;return t.getActions()._handleFetchListTagsResult(n.solutionTags)})),Object(hr.a)(t.getActions()._resetState()))})))},t.prototype._resetState=function(){return ro()},t.prototype._handleFetchListTagsResult=function(e,t){var n=t.allTags,i=t.languageTags,a=t.otherTags;e.selectedTags={},e.allTags=n,e.languageTags=i,e.otherTags=a},Object(i.__decorate)([Object(Je.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,String]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"updateDisplayKind",null),Object(i.__decorate)([Object(Je.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(n="undefined"!==typeof TagNode&&TagNode)?n:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"toggleSelectTag",null),Object(i.__decorate)([Object(Je.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"clearSelectedTags",null),Object(i.__decorate)([Object(Je.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(a="undefined"!==typeof et.a&&et.a)?a:Object]),Object(i.__metadata)("design:returntype","function"===typeof(r="undefined"!==typeof et.a&&et.a)?r:Object)],t.prototype,"fetchListTags",null),Object(i.__decorate)([Object(Je.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"_resetState",null),Object(i.__decorate)([Object(Je.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(o="undefined"!==typeof ct.SolutionTags&&ct.SolutionTags.SolutionTags)?o:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"_handleFetchListTagsResult",null),t=Object(i.__decorate)([Object(Ye.a)(),Object(i.__metadata)("design:paramtypes",["function"===typeof(s="undefined"!==typeof at.a&&at.a)?s:Object])],t)}(Xe.a),so=n("AbD5"),lo=Object(C.a)("div",{target:"ew7dgcn0"})({padding:"0px 10px",position:"relative",borderBottom:"1px solid "+x.a.grey(3)},"label:RootContainer;"),uo=Object(C.a)("div",{target:"ew7dgcn1"})({display:"flex",overflow:"hidden",padding:"4px 0px"},"label:NormalContainer;"),co=Object(C.a)("div",{target:"ew7dgcn2"})({margin:"4px 6px"},"label:TagContainer;"),po=function(e){return s.a.createElement(co,null,s.a.createElement(so.a,Object(i.__assign)({},e)))},mo=Object(C.a)("div",{target:"ew7dgcn3"})(((ao={position:"absolute",right:0,top:0,height:"100%",width:"80px",paddingRight:"16px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"flex-end",color:x.a.grey(6),backgroundImage:"linear-gradient(90deg, "+x.a.grey(0,0)+" 0%, "+x.a.grey(0)+" 50%)"})[x.c]={backgroundImage:"linear-gradient(90deg, "+x.a.grey(1,0)+" 0%, "+x.a.grey(1)+" 50%)"},ao),"label:ExpandActionContainer;"),fo=Object(C.a)("div",{target:"ew7dgcn4"})({display:"flex","> div:first-of-type":{marginTop:"4px"},"> div:not(:first-of-type)":{flex:"1 1 auto"}},"label:ExpandedContainer;"),bo=Object(C.a)("div",{target:"ew7dgcn5"})({display:"flex",flexWrap:"wrap",padding:"4px 0px","&:not(:first-of-type)":{borderTop:"1px solid "+x.a.grey(2)}},"label:ExpandedSectionContainer;"),go=Object(C.a)("div",{target:"ew7dgcn6"})({color:x.a.grey(6),display:"flex",alignItems:"flex-end",marginLeft:"auto",paddingLeft:"16px"},"label:ShrinkActionContainer;");function vo(e){var t=e.questionSlug,n=e.onSelectedTagsChanged,a=Object(i.__read)(Object(r.a)(oo),2),o=a[0],l=a[1],u=s.a.useMemo((function(){return Sn()(Object.keys(o.selectedTags).map((function(e){return o.selectedTags[e]})))}),[o.selectedTags]),c=u.length>0;s.a.useEffect((function(){return n(u)}),[n,u]),s.a.useEffect((function(){return l.fetchListTags(t)}),[l,t]);var d=function(e){return function(){return l.updateDisplayKind(e)}},p=function(e){return function(e,t){return Object(i.__spread)(t).sort((function(t,n){var i=!!e[t.slug];return i===!!e[n.slug]?0:i?-1:1}))}(o.selectedTags,e).map((function(e){return s.a.createElement(po,{key:e.slug,meta:e,content:e.nameTranslated||e.name,kind:o.selectedTags[e.slug]?"primary":"default",size:"xs",radius:"lg",onClick:l.toggleSelectTag})}))};if(o.allTags.length<1)return null;var m=o.languageTags.length>0,f=o.otherTags.length>0;return s.a.createElement(lo,null,o.displayKind===Kr.shrink&&s.a.createElement(s.a.Fragment,null,s.a.createElement(uo,null,s.a.createElement(po,{content:"\u4e0d\u9650",size:"xs",radius:"lg",kind:c?"default":"primary",onClick:l.clearSelectedTags}),p(o.allTags)),s.a.createElement(mo,null,s.a.createElement(j.a,{kind:"transparent",prefixIcon:s.a.createElement(to.a,null),onClick:d(Kr.expanded)}))),o.displayKind===Kr.expanded&&s.a.createElement(fo,null,s.a.createElement("div",null,s.a.createElement(po,{content:"\u4e0d\u9650",size:"xs",radius:"lg",kind:c?"default":"primary",onClick:l.clearSelectedTags})),s.a.createElement("div",null,m&&s.a.createElement(bo,null,p(o.languageTags),!f&&s.a.createElement(go,null,s.a.createElement(j.a,{kind:"transparent",prefixIcon:s.a.createElement(no.a,null),onClick:d(Kr.shrink)}))),f&&s.a.createElement(bo,null,p(o.otherTags),s.a.createElement(go,null,s.a.createElement(j.a,{kind:"transparent",prefixIcon:s.a.createElement(no.a,null),onClick:d(Kr.shrink)}))))))}var ho=n("88eL");function yo(e){return s.a.createElement(j.a,Object(i.__assign)({prefixIcon:s.a.createElement(ho.a,null)},e))}var ko,Oo=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={current:1,orderBy:Zr.default.value,input:"",selectedTags:[],searchedCurrent:1,searchedOrderBy:Zr.default.value},n.onClickWriting=Nr.a.ensureVerified(Object(Er.a)((function(){n.draftSlug?n.props.showSolutionEditorForEditingArticle(n.draftSlug):n.props.showSolutionEditorForCreatingArticle({questionSlug:n.props.questionSlug})}),n.context.bannedData),{user:n.context}),n.onSearch=function(e){n.setState({input:e,searchedCurrent:1},n.getArticleList)},n.onSelectedTagsChanged=function(e){0===n.state.selectedTags.length&&0===e.length||n.setState({selectedTags:e,searchedCurrent:1},n.getArticleList)},n.onChange=function(e){n.isSearching?n.state.searchedCurrent!==e&&n.setState({searchedCurrent:e},n.getArticleList):n.state.current!==e&&n.setState({current:e},n.getArticleList)},n.onChangeOrder=function(e){oi.a.questionDetail.changeSolutionListOrder({orderBy:e}),n.isSearching?n.setState({searchedOrderBy:e},n.getArticleList):n.setState({orderBy:e},n.getArticleList)},n.getArticleList=function(){n.isSearching?n.props.getSearchedArticleList({questionSlug:n.props.questionSlug,first:t.numPerPage,skip:(n.state.searchedCurrent-1)*t.numPerPage,orderBy:n.state.searchedOrderBy||void 0,tagSlugs:n.state.selectedTags.map((function(e){return e.slug})),userInput:n.state.input}):n.props.getArticleList({questionSlug:n.props.questionSlug,first:t.numPerPage,skip:(n.state.current-1)*t.numPerPage,orderBy:n.state.orderBy})},n}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"isSearching",{get:function(){return!!this.state.input||this.state.selectedTags.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalNum",{get:function(){return this.isSearching?this.props.solutions.searchedArticleList.totalNum:this.props.solutions.articleList.totalNum},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"articles",{get:function(){return(this.isSearching?this.props.solutions.searchedArticleList.articles:this.props.solutions.articleList.articles).map((function(e){return e.summary=e.summary.replace(/\xa7 /g,""),e}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"current",{get:function(){return this.isSearching?this.state.searchedCurrent:this.state.current},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"draft",{get:function(){return this.props.solutions.draftList.articles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loading",{get:function(){return(this.isSearching?this.props.solutions.searchedArticleList.loading:this.props.solutions.articleList.loading)||this.props.solutions.draftList.loading},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmptyList",{get:function(){return!this.loading&&0===this.props.solutions.articleList.totalNum},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"draftSlug",{get:function(){return this.draft.length?this.draft[0].slug:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEditing",{get:function(){return this.props.solutionAreaShownPart===Et.a.EDITOR||this.props.solutionAreaShownPart===Et.a.WILL_CLOSE_EDITOR},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchWords",{get:function(){return Object(i.__spread)([this.state.input],this.state.selectedTags.map((function(e){var t=e.name;return e.nameTranslated||t})))},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.getArticleList()},t.prototype.componentWillUnmount=function(){this.props.disposeArticleList$()},t.prototype.render=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ur,{articles:this.props.solutions.articleList.articles}),this.isEmptyList?this.renderEmpty():s.a.createElement("div",null,s.a.createElement(eo,{disabled:this.loading,questionSlug:this.props.questionSlug,onChangeOrder:this.onChangeOrder,onSearch:this.onSearch,draftSlug:this.draftSlug,showSolutionEditorForEditingArticle:this.props.showSolutionEditorForEditingArticle,showSolutionEditorForCreatingArticle:this.props.showSolutionEditorForCreatingArticle,isEditing:this.isEditing}),s.a.createElement(vo,{questionSlug:this.props.questionSlug,onSelectedTagsChanged:this.onSelectedTagsChanged}),this.loading?s.a.createElement(d.a,null):s.a.createElement(s.a.Fragment,null,s.a.createElement(jr,{questionSlug:this.props.questionSlug,userInput:this.state.input,selectedTags:this.state.selectedTags}),s.a.createElement($r,{articles:this.articles,questionSlug:this.props.questionSlug,userStatus:this.context,addFavoriteArticle:this.props.addFavoriteArticle,removeFavoriteArticle:this.props.removeFavoriteArticle,upvoteArticle:this.props.upvoteArticle,cancelUpvoteArticle:this.props.cancelUpvoteArticle,addReaction:this.props.addReaction,removeReaction:this.props.removeReaction,searchWords:this.searchWords,showSolutionEditorForEditingArticle:this.props.showSolutionEditorForEditingArticle,deleteSolutionArticle:this.props.deleteSolutionArticle,getArticleList:this.getArticleList}),s.a.createElement(Rr,null,s.a.createElement(Ha.a,{current:this.current,totalNum:this.totalNum,onChange:this.onChange,numPerPage:t.numPerPage})))))},t.prototype.renderEmpty=function(){return s.a.createElement(Mr,null,s.a.createElement(Vr,null,"\u5f53\u524d\u9898\u76ee\u6682\u65e0\u9898\u89e3"),s.a.createElement(yo,{onClick:this.onClickWriting},this.draftSlug?"\u7ee7\u7eed\u5199\u9898\u89e3":"\u5199\u9898\u89e3"))},t.contextType=$e.c,t.numPerPage=10,t}(s.a.PureComponent),_o=Object(_t.a)(Et.c)((function(e){return e.solution}))(Oo),So=Object(o.memo)((function(){var e=Object(l.j)().questionSlug;return s.a.createElement(_o,{questionSlug:e})})),jo=n("ttV/"),No=n("NLsq"),Eo=n("iaxv"),Co=Object(C.a)("div",{target:"e16vb3m60"})({fontSize:"13px",display:"flex",alignItems:"center",justifyContent:"space-between"},"label:Wrapper;"),xo=Object(C.a)("div",{target:"e16vb3m61"})({display:"flex",alignItems:"center"},"label:PanelWrapper;"),qo=Object(C.a)("span",{target:"e16vb3m62"})(Object(i.__assign)(Object(i.__assign)({},Ti.i),{maxWidth:"100%",marginRight:"10px"}),"label:Description;"),Fo=Object(C.a)("img",{target:"e16vb3m63"})({width:"45px",height:"60px",marginRight:"12px"},"label:BookImg;"),To=Object(C.a)("div",{target:"e16vb3m64"})({height:"60px",fontSize:"14px",lineHeight:"20px",color:x.a.grey(7)},"label:DescriptionWrapper;"),wo=Object(C.a)("img",{target:"e16vb3m65"})({height:"28px",marginRight:"10px"},"label:PressLogo;"),Io=Object(C.a)((function(e){return s.a.createElement(Eo.a,Object(i.__assign)({},e))}),{target:"e16vb3m66"})({borderTop:"none"},"label:StyledTogglePanel;"),Po=s.a.memo((function(e){var t=e.pressImgUrl,n=e.pressName,a=e.source,r=e.fullDescription,l=e.productUrl,u=e.bookImgUrl,c=Object(i.__read)(Object(o.useState)(!1),2),d=c[0],p=c[1],m=Object(o.useCallback)((function(){p((function(e){return!e}))}),[]),f=Object(o.useMemo)((function(){return s.a.createElement(Co,null,s.a.createElement(qo,null,a),s.a.createElement(pi.a,{content:n,placement:"top",portalContainer:null},l?s.a.createElement("a",{href:l,target:"_blank"},s.a.createElement(wo,{src:t})):s.a.createElement(wo,{src:t})))}),[a,n,t,l]);return s.a.createElement(Io,{autoScrollIntoView:!0,header:f,onPanelClick:m,isActive:d},s.a.createElement(xo,null,s.a.createElement(Fo,{src:u}),s.a.createElement(To,null,r)))})),Ro=n("MeeK"),Do=n.n(Ro),Ao=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseEnter=function(){var e=t.props;(0,e.onMouseEnter)(e.id)},t.onMouseLeave=function(){var e=t.props;(0,e.onMouseLeave)(e.id)},t.onClick=function(){var e=t.props;(0,e.onClick)(e.contributor.username)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.contributor,n=(e.onMouseEnterAndLeave,e.onClick,Object(i.__rest)(e,["contributor","onMouseEnterAndLeave","onClick"]));return s.a.createElement("a",Object(i.__assign)({},n,{target:"_blank",href:t.profileUrl,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick}),s.a.createElement("img",{className:Do.a.avatar,src:t.avatarUrl,alt:t.username}))},t.propTypes={id:nn.a.number,contributor:nn.a.shape({profileUrl:nn.a.string,username:nn.a.string,avatarUrl:nn.a.string}).isRequired,onMouseEnter:nn.a.func,onMouseLeave:nn.a.func,onClick:nn.a.func},t.defaultProps={onMouseEnter:function(){},onMouseLeave:function(){},onClick:function(){}},t}(o.PureComponent),Qo=n("YGLD"),Lo=n.n(Qo),Mo=function(e){function t(t){var n=e.call(this,t)||this;n.handleMouseEnter=function(e){n.setContributorsZIndices(e)},n.handleMouseLeave=function(){n.setContributorsZIndices()};var i=t.contributors.length;return n.state={zIndexs:n.getContributorsZIndex(i,0,i)},n}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"leetcodeContributor",{get:function(){return{username:"LeetCode",avatarUrl:"https://static.leetcode-cn.com/cn-legacy-assets/images/LeetCode_avatar.png"}},enumerable:!1,configurable:!0}),t.prototype.getContributorsZIndex=function(e,t,n){return new Array(n).fill(0).map((function(n,i){return e-Math.abs(i-t)}))},t.prototype.setContributorsZIndices=function(e){void 0===e&&(e=0);var t=this.props.contributors.length;this.setState({zIndexs:this.getContributorsZIndex(t,e,t)})},t.prototype.renderContributor=function(e,t){var n=s.a.createElement(Ao,{id:t,contributor:e,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,key:"img-"+e.username,style:{zIndex:this.state.zIndexs[t]}}),i=s.a.createElement(pi.a,{key:"tooltip-"+e.username,placement:"top",content:e.username},s.a.createElement("div",null,n));return Object(jt.i)()?n:i},t.prototype.renderContributors=function(){var e=this,t=this.props.contributors;return t.length||(t=[this.leetcodeContributor]),s.a.createElement("div",{className:Lo.a.contributors},t.map((function(t,n){return e.renderContributor(t,n)})))},t.prototype.render=function(){return s.a.createElement("div",{className:Lo.a.container},s.a.createElement("div",{className:Lo.a.label},"\u8d21\u732e\u8005",this.props.contributors.length>1?"\u4eec":""),this.renderContributors())},t}(s.a.PureComponent),Vo=n("O94r"),zo=n.n(Vo),Wo=n("5AeM"),Bo=n("ZRwv"),Ho=n("p29K"),$o=n("GOyE"),Uo=n("1hN9"),Ko={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getMoreCompanyTags"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"timeRange"}},type:{kind:"NamedType",name:{kind:"Name",value:"TagFreqRange"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"question"},arguments:[{kind:"Argument",name:{kind:"Name",value:"titleSlug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"companyTagStats"},arguments:[{kind:"Argument",name:{kind:"Name",value:"timeRange"},value:{kind:"Variable",name:{kind:"Name",value:"timeRange"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[]}]}}]}}],loc:{source:{body:"query getMoreCompanyTags ($slug: String!, $timeRange: TagFreqRange, $after: String) {\n  question(titleSlug: $slug) {\n    questionId\n    companyTagStats(timeRange: $timeRange, after: $after)\n  }\n}"}},operationName:"getMoreCompanyTags",defName:"question"},Go=n("DRjC"),Yo=n.n(Go),Jo=((ko={})[1]="SIX_MONTH",ko[2]="ONE_YEAR",ko[3]="TWO_YEAR",ko),Xo=function(e){function t(t){var n=e.call(this,t)||this;return n.loadMore$=new rn.a,n.query=Ye.b.getInstanceByToken(ta.e.provide),n.handleTimePeriodChange=function(e){n.setState({selectedTimePeriod:e})},n.handlePanelClicked=function(){n.context.isPremium?(oi.a.questionDetail.company.toggleCompanyTags(!0,!n.state.panelIsActive),n.setState((function(e){return{panelIsActive:!e.panelIsActive}}))):(oi.a.questionDetail.company.toggleCompanyTags(!1,!0),n.setState({subscribeModalVisible:!0}))},n.handleSubscribeModalClosed=function(){n.setState({subscribeModalVisible:!1})},n.onLoadMoreClick=function(){var e=n.state,t=e.moreCompanyTags,i=e.selectedTimePeriod;n.loadMore$.next({moreCompanyTags:t,selectedTimePeriod:i})},n.state=Object(i.__assign)({loadingMore:!1,panelIsActive:!1,subscribeModalVisible:!1},t),n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.loadMore$.pipe(Object(Zi.a)((function(e){return!!e.selectedTimePeriod})),Object(ln.a)((function(){return e.setState({loadingMore:!0})})),Object(tt.a)((function(t){var n=t.moreCompanyTags,a=t.selectedTimePeriod,r=Object(i.__spread)(e.props.companyTags[a].tags,n[a].tags),o={timeRange:Jo[a],after:r[r.length-1].name,slug:e.props.questionSlug};return e.query({query:Ko,variables:o}).pipe(Object(ln.a)((function(t){var r=t.data;try{if(r.question&&r.question.companyTagStats){var o=JSON.parse(r.question.companyTagStats),s=Object(i.__assign)({},n);s[a]={tags:Object(i.__spread)(n[a].tags,o.tags),hasMore:o.has_more},e.setState({loadingMore:!1,moreCompanyTags:s})}}catch(e){console.warn(e)}})))})),Object(ea.a)((function(e){return console.warn(e),Xi.a}))).subscribe()},t.prototype.componentDidUpdate=function(){var e=this.props,t=e.questionSlug,n=e.moreCompanyTags;t!==this.state.questionSlug&&this.setState({moreCompanyTags:n,questionSlug:t})},t.prototype.componentWillUnmount=function(){this.loadMore$.complete()},t.prototype.renderPremiumPanelIcon=function(){return s.a.createElement(pi.a,{content:"\u8be5\u9898\u4e8e\u5404\u65f6\u95f4\u6bb5\u5185\u5728\u76f8\u5173\u4f01\u4e1a\u9762\u8bd5\u4e2d\u51fa\u73b0\u7684\u6b21\u6570",placement:"top"},s.a.createElement(Ho.a,{size:14,className:Yo.a.lockIcon}))},t.prototype.renderFreePanelIcon=function(){return s.a.createElement(pi.a,{content:"\u5347\u7ea7\u529b\u6263 Plus \u4f1a\u5458\u540e\uff0c\u53ef\u67e5\u770b\u9762\u8bd5\u4e2d\u51fa\u73b0\u8be5\u9898\u76ee\u7684\u4f01\u4e1a",placement:"top"},s.a.createElement(er.a,{size:14,className:Yo.a.lockIcon}))},t.prototype.renderHeader=function(){return s.a.createElement("div",{className:Yo.a.header},s.a.createElement("span",null,"\u76f8\u5173\u4f01\u4e1a",s.a.createElement(xi.a,{type:"information",className:Yo.a.infoIcon})),this.context.isPremium?this.renderPremiumPanelIcon():this.renderFreePanelIcon())},t.prototype.renderTimePeriodButton=function(e,t){var n,i=this,a=this.state.selectedTimePeriod,r=this.props.availableTimePeriods.indexOf(e)<0,o=zo()(Yo.a.timePeriodButton,((n={})[Yo.a.selected]=a===e,n[Yo.a.disabled]=r,n));return s.a.createElement("button",{onClick:function(){return i.handleTimePeriodChange(e)},className:o,disabled:r},t)},t.prototype.renderPeriodRadios=function(){return s.a.createElement("span",{className:Yo.a.timePeriodButtonGroup},this.renderTimePeriodButton(1,"\u534a\u5e74\u5185"),this.renderTimePeriodButton(2,"\u534a\u5e74 ~ 1\u5e74"),this.renderTimePeriodButton(3,"1\u5e74 ~ 2\u5e74"))},t.prototype.renderCountOrIcon=function(e){var t=e.timesEncountered,n=e.taggedByAdmin;return t>0?s.a.createElement("span",{className:Yo.a.voteCount},t):n?s.a.createElement("span",{className:Yo.a.voteCount},s.a.createElement(pi.a,{content:"\u529b\u6263\u5b98\u65b9\u6807\u8bb0",placement:"top"},s.a.createElement($o.a,{className:Yo.a.authLogo,light:Wo.d,dark:Wo.g,alt:"LeetCode"}))):null},t.prototype.renderLoadMoreButton=function(){var e,t=this.state,n=t.selectedTimePeriod,i=t.moreCompanyTags,a=t.loadingMore;return null===n?null:(null===(e=i[n])||void 0===e?void 0:e.hasMore)?s.a.createElement(so.a,{size:"xs",onClick:this.onLoadMoreClick,content:a?"\u52a0\u8f7d\u4e2d...":"\u52a0\u8f7d\u66f4\u591a",className:Yo.a.companyTag}):void 0},t.prototype.renderCompanyTags=function(){var e,t,n,a,r=this,o=this.state,l=o.selectedTimePeriod,u=o.moreCompanyTags,c=this.props.companyTags;if(null===l)return null;var d=Object(i.__spread)(null!==(t=null===(e=c[l])||void 0===e?void 0:e.tags)&&void 0!==t?t:[],null!==(a=null===(n=u[l])||void 0===n?void 0:n.tags)&&void 0!==a?a:[]);if(!d||0===d.length)return null;var p=d.map((function(e){return s.a.createElement(so.a,{size:"xs",key:e.slug,className:Yo.a.companyTag,href:"/company/"+e.slug,content:s.a.createElement(s.a.Fragment,null,e.name,s.a.createElement("span",{className:Yo.a.separator},"|"),r.renderCountOrIcon(e))})}));return s.a.createElement("div",{className:Yo.a.companyTagWrapper},p,this.renderLoadMoreButton())},t.prototype.render=function(){var e=this.props.availableTimePeriods,t=this.context.isPremium;if(!this.props.feature.subscription||t&&(!e||0===e.length))return null;var n=t?s.a.createElement(s.a.Fragment,null,this.renderPeriodRadios(),this.renderCompanyTags()):s.a.createElement(Uo.a,{visible:this.state.subscribeModalVisible,onClose:this.handleSubscribeModalClosed,confirmLinkQueryObject:{source:"problem-related-company"}});return s.a.createElement(Eo.a,{autoScrollIntoView:!0,header:this.renderHeader(),onPanelClick:this.handlePanelClicked,isActive:this.state.panelIsActive},n)},t.contextType=$e.c,t.propTypes={companyTags:nn.a.object,questionSlug:nn.a.string},t}(s.a.PureComponent);function Zo(e){var t=Object(i.__read)(Object(r.a)(Bo.a),1)[0].globalData;return t?s.a.createElement(Xo,Object(i.__assign)({},e,{feature:t.feature})):null}var es=n("nIV7"),ts=n("GpFR"),ns=n.n(ts),is=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isCollapsed:!Object(jt.j)()},t.handleClick=function(){t.setState((function(e){return{isCollapsed:!e.isCollapsed}}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.topicTags,n=e.isRawContent;if(null===t||0===t.length)return null;var i=t.map((function(e){var t=e.slug,i=e.name,a=e.translatedName;return s.a.createElement(so.a,{size:"xs",key:t,href:xa.a.tag(t),className:ns.a.topicTag,content:n?i:a||Object(Ei.a)(i)})})),a=s.a.createElement("div",{className:ns.a.header},"\u76f8\u5173\u6807\u7b7e");return Object(jt.i)()?s.a.createElement(es.a,{collapse:!0,header:a,isActive:!this.state.isCollapsed,onPanelClick:this.handleClick,headerCls:ns.a.mobileHeader,panelCls:ns.a.mobilePanel},s.a.createElement("div",{className:ns.a.topicTags},i)):s.a.createElement(Eo.a,{autoScrollIntoView:!0,header:a,isActive:!this.state.isCollapsed,onPanelClick:this.handleClick},s.a.createElement("div",{className:ns.a.topicTags},i))},t.propTypes={topicTags:nn.a.arrayOf(nn.a.shape({name:nn.a.string.isRequired,slug:nn.a.string.isRequired,translatedName:nn.a.string})),isRawContent:nn.a.bool.isRequired},t.defaultProps={topicTags:[],isRawContent:!1},t}(s.a.PureComponent),as=n("E3UG"),rs=n.n(as),os=n("/w/G"),ss=n.n(os),ls=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isCollapsed:!Object(jt.j)()},t.handleClick=function(){t.setState((function(e){return{isCollapsed:!e.isCollapsed}}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.similarQuestions,n=e.isRawContent;if(null===t||0===t.length)return null;var i=t.map((function(e){var t=e.title,i=e.titleSlug,a=e.difficulty,r=e.translatedTitle;return s.a.createElement("div",{key:i,className:ss.a.question},s.a.createElement($a.a,{className:ss.a.title,to:xa.a.question(i)},n?t:r||t),s.a.createElement("div",{className:zo()(ss.a.difficulty,ss.a[rs()(a)])},Object(Ei.a)(a)))})),a=s.a.createElement("div",{className:ss.a.header},"\u76f8\u4f3c\u9898\u76ee");return Object(jt.i)()?s.a.createElement(es.a,{collapse:!0,header:a,isActive:!this.state.isCollapsed,onPanelClick:this.handleClick,headerCls:ss.a.mobileHeader,panelCls:ss.a.mobilePanel},i):s.a.createElement(Eo.a,{autoScrollIntoView:!0,header:a,isActive:!this.state.isCollapsed,onPanelClick:this.handleClick},i)},t.propTypes={similarQuestions:nn.a.arrayOf(nn.a.shape({title:nn.a.string.isRequired,titleSlug:nn.a.string.isRequired,difficulty:nn.a.string})),isRawContent:nn.a.bool.isRequired},t.defaultProps={similarQuestions:[],isRawContent:!1},t=Object(i.__decorate)([l.l],t)}(s.a.PureComponent),us=n("k6is"),cs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPanelClick=function(e){var n=t.props,i=n.idx;(0,n.onPanelClick)(i,e)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=(e.idx,e.onPanelClick,Object(i.__rest)(e,["idx","onPanelClick"]));return s.a.createElement(Eo.a,Object(i.__assign)({autoScrollIntoView:!0,onPanelClick:this.onPanelClick},t))},t}(s.a.PureComponent),ds=n("2ESd"),ps=n.n(ds),ms=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hintsShown:[]},t.onPanelClick=function(e,n){t.setState((function(t){var a=Object(i.__spread)(t.hintsShown);return a[e]=!n,{hintsShown:a}}))},t}return Object(i.__extends)(t,e),t.prototype.renderHints=function(){var e=this,t=this.props.hints,n=this.state.hintsShown;return t.map((function(t,i){var a=s.a.createElement("div",{className:ps.a.header},n[i]?"\u9690\u85cf\u63d0\u793a"+(i+1):"\u663e\u793a\u63d0\u793a"+(i+1));return s.a.createElement(cs,{key:i,idx:i,header:a,onPanelClick:e.onPanelClick},s.a.createElement(us.a,{html:t}))}))},t.prototype.render=function(){var e=this.props.hints;return e&&e.length>0?this.renderHints():null},t}(s.a.PureComponent),fs=n("uZih"),bs=n.n(fs),gs=n("97Jx"),vs=n.n(gs),hs=n("T0aG"),ys=n.n(hs),ks=n("ddV6"),Os=n.n(ks),_s=n("6Qj0"),Ss=n("MD6U"),js=n("tb/6"),Ns=n("f8ib"),Es=n("oFrK"),Cs=Vi.a.Option;function xs(e){return e&&e.type&&(e.type.isSelectOption||e.type.isSelectOptGroup)}var qs=function(e,t){var n,i=e.prefixCls,a=e.className,r=e.children,s=e.dataSource,l=Object(_s.a)(r);if(1===l.length&&Object(Es.b)(l[0])&&!xs(l[0])){var u=Os()(l,1);n=u[0]}var c,d=n?function(){return n}:void 0;return c=l.length&&xs(l[0])?r:s?s.map((function(e){if(Object(Es.b)(e))return e;switch(ys()(e)){case"string":return o.createElement(Cs,{key:e,value:e},e);case"object":var t=e.value;return o.createElement(Cs,{key:t,value:t},e.text);default:throw new Error("AutoComplete[dataSource] only supports type `string[] | Object[]`.")}})):[],o.useEffect((function(){Object(Ns.a)(!("dataSource"in e),"AutoComplete","`dataSource` is deprecated, please use `options` instead."),Object(Ns.a)(!n||!("size"in e),"AutoComplete","You need to control style self instead of setting `size` when using customize input.")}),[]),o.createElement(js.a,null,(function(n){var r=(0,n.getPrefixCls)("select",i);return o.createElement(Vi.a,vs()({ref:t},Object(Ss.default)(e,["dataSource"]),{prefixCls:r,className:zo()("".concat(r,"-auto-complete"),a),mode:Vi.a.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:d}),c)}))},Fs=o.forwardRef(qs);Fs.Option=Cs;var Ts,ws=Fs,Is=(n("nOVC"),n("OLCK"),n("qDJR")),Ps=n("ReCL"),Rs=n.n(Ps),Ds=ws.Option,As="0",Qs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={options:[],input:"",searching:!1,isNonexistentSelected:!1,selectedOption:null},t.searchInput$=new rn.a,t.fetchOptions=function(e){return t.props.search(e)},t.onOptionsSearch=function(e){t.searchInput$.next(e)},t.onOptionSelected=function(e,n){t.setState({selectedOption:n,input:e,isNonexistentSelected:n.key===As})},t.onClickAddTag=function(){var e=t.state,n=e.selectedOption,i=e.input,a=e.isNonexistentSelected;t.props.onOptionConfirm(n,i,a)},t.renderOption=function(e){return s.a.createElement(Ds,{key:e.key,value:e.value},e.label||e.value)},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.searchInput$.pipe(Object(nt.a)((function(e){return(e||"").trim()})),Object(ln.a)((function(t){return e.setState({input:t,searching:!0},(function(){return e.prepareSearchOptions()}))})),Object(cn.a)(500),Object(ln.a)((function(t){t||e.setState({options:[]})})),Object(Zi.a)((function(e){return!!e})),Object(tt.a)((function(t){return e.fetchOptions(t)})),Object(ln.a)((function(t){e.setState({searching:!1},(function(){e.prepareSearchOptions(t)}))}))).subscribe()},t.prototype.componentWillUnmount=function(){this.searchInput$.complete()},t.prototype.prepareSearchOptions=function(e){e=e||this.state.options;var t=this.state,n=t.input,i=t.searching,a=e.find((function(e){return e.value.toLowerCase()===n.toLowerCase()})),r={key:As,value:n,label:"\u6dfb\u52a0\uff1a"+n},o=e.length>0&&e[0].id===As?e.slice(1):e.slice(0);a||i||o.unshift(r),this.setState({options:o,selectedOption:a||o,isNonexistentSelected:!a})},t.prototype.renderPopconfirm=function(){return s.a.createElement(Is.a,{content:this.props.popconfirmContent,placement:"top",onConfirm:this.onClickAddTag},s.a.createElement(j.a,{kind:"primary",size:"xs",disabled:!this.state.input},this.props.buttonContent))},t.prototype.renderConfirm=function(){return s.a.createElement(j.a,{kind:"primary",size:"xs",onClick:this.onClickAddTag,disabled:!this.state.input},this.props.buttonContent)},t.prototype.render=function(){var e=this.state.options;return s.a.createElement("div",{className:Rs.a.autocompleteWrapper},s.a.createElement(ws,{placeholder:"\u641c\u7d22...",className:Rs.a.optionAutocomplete,onSearch:this.onOptionsSearch,onSelect:this.onOptionSelected,backfill:!0,size:"small"},e.map(this.renderOption)),this.state.isNonexistentSelected?this.renderPopconfirm():this.renderConfirm())},t.contextType=$e.c,t}(s.a.PureComponent),Ls=Yn({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"interviewOptions"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"interviewed"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"interviewedUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timeOptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stageOptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"popularCompanies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:"query interviewOptions {\n  interviewed {\n    interviewedUrl\n    timeOptions {\n      id\n      name\n    }\n    stageOptions {\n      id\n      name\n    }\n    popularCompanies {\n      id\n      name\n      slug\n    }\n  }\n}"}},operationName:"interviewOptions",defName:"interviewed"},{options:function(){return{fetchPolicy:"cache-first"}},props:function(e){var t=e.data;return{interviewOptions:t.interviewed,loadingInterviewOptions:t.loading}}}),Ms={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"interviewCompanyOptions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"interviewCompanyOptions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query interviewCompanyOptions($input: String!) {\n  interviewCompanyOptions(query: $input) {\n    id\n    name\n  }\n}"}},operationName:"interviewCompanyOptions",defName:"interviewCompanyOptions"},Vs={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"interviewPositionOptions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"interviewPositionOptions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameTranslated"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query interviewPositionOptions($input: String) {\n    interviewPositionOptions(query: $input) {\n        id\n        name\n        nameTranslated\n    }\n}\n"}},operationName:"interviewPositionOptions",defName:"interviewPositionOptions"},zs={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"interviewPopurlarPositions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"companyTagId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"interviewPopularPositions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"companyTagId"},value:{kind:"Variable",name:{kind:"Name",value:"companyTagId"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameTranslated"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query interviewPopurlarPositions($companyTagId: ID, $limit: Int) {\n    interviewPopularPositions(companyTagId: $companyTagId, limit: $limit) {\n        id\n        name\n        nameTranslated\n    }\n}"}},operationName:"interviewPopurlarPositions",defName:"interviewPopularPositions"},Ws={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"interviewedStatsPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"interviewedStats"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"InterviewedStatsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"interviewedStatsPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"interviewedStats"},value:{kind:"Variable",name:{kind:"Name",value:"interviewedStats"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interviewedStatsId"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation interviewedStatsPost($interviewedStats: InterviewedStatsInput!) {\n  interviewedStatsPost(interviewedStats: $interviewedStats) {\n    ok\n    error\n    interviewedStatsId\n  }\n}\n"}},operationName:"interviewedStatsPost",defName:"interviewedStatsPost"},Bs=n("43mT"),Hs=Object(Bs.a)({questionInterviewVoteViewQuestionExposure:function(e,t){return{gio:{data:{question_interview_vote_question_name:e,question_interview_vote_vote_question:t}}}},questionInterviewVoteSelectAnswerClick:function(e,t,n){return{gio:{data:{question_interview_vote_question_name:e,question_interview_vote_vote_question:t,question_interview_vote_vote_answer:n}}}}}),$s=n("TdFa"),Us=n.n($s),Ks=Object(Ht.renderWithSize)((function(e){return{fullWidth:!!e&&e.width<=500}}),Object(C.a)("div",{target:"enw8myh0"})({marginRight:"20px",color:x.a.grey(6),fontSize:"13px",lineHeight:"28px",display:"flex",alignItems:"center",marginLeft:"0"},(function(e){return{width:e.fullWidth?"100%":"auto"}}))),Gs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getPopularPositions=function(){var e=t.state.popularPositions;return e?e.map((function(e){return{id:e.id,name:e.nameTranslated||e.name}})):[]},t.searchCompanyOptions=function(e){return Ye.b.getInstanceByToken(ta.e.provide)({query:Ms,variables:{input:e},fetchPolicy:"no-cache"}).pipe(Object(ea.a)((function(e){return console.warn(e),Xi.a})),Object(nt.a)((function(e){var t=e.data;return t.interviewCompanyOptions?t.interviewCompanyOptions.map((function(e){return{key:e.id,value:e.name}})):Xi.a})))},t.searchPositionOptions=function(e){return Ye.b.getInstanceByToken(ta.e.provide)({query:Vs,variables:{input:e},fetchPolicy:"no-cache"}).pipe(Object(ea.a)((function(e){return console.warn(e),Xi.a})),Object(nt.a)((function(e){return e.data.interviewPositionOptions.map((function(e){return{key:e.id,value:e.name}}))})))},t.onCompanyOptionConfirm=function(e,n,i){var a=0;i||(a=parseInt(e.key,10)),t.setState({companyId:a,companyInput:e.value},(function(){t.nextStep(t.state.companyId,t.state.companyInput)}))},t.renderCompanyAutocomplete=function(){return s.a.createElement(Qs,{popconfirmContent:"\u786e\u8ba4\u6dfb\u52a0\u8fd9\u5bb6\u516c\u53f8\u5417\uff1f",buttonContent:"\u9009\u62e9\u516c\u53f8",search:t.searchCompanyOptions,onOptionConfirm:t.onCompanyOptionConfirm})},t.onPositionOptionConfirm=function(e,n,i){var a="";i||(a=e.key),t.setState({positionTagId:a,positionName:e.value},(function(){t.nextStep(t.state.positionTagId,t.state.positionName)}))},t.renderPositionAutocomplete=function(){return s.a.createElement(Qs,{popconfirmContent:"\u786e\u8ba4\u6dfb\u52a0\u8fd9\u7c7b\u5c97\u4f4d\u5417\uff1f",buttonContent:"\u9009\u62e9\u5c97\u4f4d",search:t.searchPositionOptions,onOptionConfirm:t.onPositionOptionConfirm})},t.state={step:0,isActive:!0,companyId:0,companyInput:"",timeOption:null,stageOption:null,companyOptions:[],positionOptions:[],isInterviewed:null,interviewedStatsId:0,popularPositions:null,getPopularPositions:t.getPopularPositions,positionName:"",positionTagId:"",interviewWay:N.Jb.Undefined,steps:null,renderCompanyAutocomplete:t.renderCompanyAutocomplete,renderPositionAutocomplete:t.renderPositionAutocomplete},t.onClickTagButton=function(e,n){return function(){var i="undefined"!==typeof e.value?e.value:e.id;t.nextStep(i,e.name),0===n&&oi.a.questionDetail.detail.interviewSurvey(t.props.questionSlug,e.value?"yes":"no")}},t}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){if(!t.steps&&!e.loadingInterviewOptions){if(!e.interviewOptions)return{steps:[]};var n=e.interviewOptions,a=n.timeOptions,r=n.popularCompanies,o=t.getPopularPositions,s=t.renderCompanyAutocomplete,l=t.renderPositionAutocomplete;return{steps:[{title:"\u8bf7\u95ee\u60a8\u5728\u54ea\u7c7b\u62db\u8058\u4e2d\u9047\u5230\u6b64\u9898\uff1f",buttons:[{name:"\u793e\u62db",value:N.Ib.Social},{name:"\u6821\u62db",value:N.Ib.School},{name:"\u5b9e\u4e60",value:N.Ib.Internship},{name:"\u672a\u9047\u5230",value:!1}],field:"interviewType"},{title:"\u8bf7\u95ee\u60a8\u5e94\u8058\u7684\u54ea\u5bb6\u516c\u53f8\uff1f",buttons:r.map((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{value:e.id})})),field:"companyId",renderAutocompleteFunc:s},{title:"\u8bf7\u95ee\u60a8\u5e94\u8058\u7684\u5c97\u4f4d\u7c7b\u578b\uff1f",buttons:o,field:"positionTagId",renderAutocompleteFunc:l},{title:"\u60a8\u662f\u5728\u4ec0\u4e48\u65f6\u5019\u9047\u5230\u8be5\u9898\u7684\uff1f",buttons:a,field:"timeOption"},{title:"\u8bf7\u95ee\u60a8\u8fdb\u884c\u4e86\u54ea\u79cd\u5f62\u5f0f\u7684\u9762\u8bd5\uff1f",buttons:[{name:"\u7b14\u8bd5\u6d4b\u8bc4",value:N.Jb.Written},{name:"\u7535\u8bdd\u9762\u8bd5",value:N.Jb.Phone},{name:"\u89c6\u9891\u9762\u8bd5",value:N.Jb.Online},{name:"\u73b0\u573a\u9762\u8bd5",value:N.Jb.Onsite},{name:"\u5176\u4ed6",value:N.Jb.Other}],field:"interviewWay"},{title:"\u8c22\u8c22\u60a8\u7684\u53cd\u9988\uff01",buttons:[]}]}}return null},t.prototype.componentDidMount=function(){Hs.questionInterviewVoteViewQuestionExposure(this.props.question.translatedTitle||this.props.question.title,"1. \u8bf7\u95ee\u60a8\u5728\u54ea\u7c7b\u62db\u8058\u4e2d\u9047\u5230\u6b64\u9898\uff1f")},t.prototype.fetchPopularPositions=function(e){var t=this;this.state.popularPositions||this.props.client.query({query:zs,variables:{companyTagId:e,limit:5},fetchPolicy:"no-cache"}).then((function(e){var n=e.data;t.setState({popularPositions:n.interviewPopularPositions.map((function(e){return{id:e.id,name:e.nameTranslated||e.name}}))})})).catch((function(e){console.warn(e)}))},t.prototype.nextStep=function(e,t){var n=this,a=Object(i.__assign)({},this.state),r=this.state.steps[this.state.step].field,o=a.step;a.step+=1,0===this.state.step?e?(a.isInterviewed=!0,a[r]=e):(a.step=this.state.steps.length-1,a.isInterviewed=!1):a[r]=e;var s=a.steps,l=a.step,u=(a.isActive,a.companyOptions,a.companyInput),c=(a.popularPositions,a.renderCompanyAutocomplete,a.renderPositionAutocomplete,a.positionOptions,Object(i.__rest)(a,["steps","step","isActive","companyOptions","companyInput","popularPositions","renderCompanyAutocomplete","renderPositionAutocomplete","positionOptions"])),d=function(e){return e&&e.title||""};Hs.questionInterviewVoteSelectAnswerClick(this.props.question.translatedTitle||this.props.question.title,o+1+". "+d(s[o]),t),l<s.length-1&&Hs.questionInterviewVoteViewQuestionExposure(this.props.question.translatedTitle||this.props.question.title,l+1+". "+d(s[l])),(a.companyInput||a.companyId)&&this.fetchPopularPositions(a.companyId),this.setState(bs()(a,["popularPositions"]),(function(){return n.props.client.mutate({mutation:Ws,variables:{interviewedStats:Object(i.__assign)({questionId:n.props.question.questionId,companyName:u},c)},update:function(e,t){var i=t.data;n.state.interviewedStatsId||n.setState({interviewedStatsId:i.interviewedStatsPost.interviewedStatsId})}})}))},t.prototype.surveyEnded=function(){var e=this;window.setTimeout((function(){return e.setState({isActive:!1})}),3e3)},t.prototype.renderTag=function(e,t){return s.a.createElement("div",{key:t+"_"+e.name,className:Us.a.btnWrapper},s.a.createElement(j.a,{minWidth:"40px",size:"xs",onClick:this.onClickTagButton(e,t)},Object(Ei.a)(e.name)))},t.prototype.renderAutocomplete=function(){var e=this.state.steps[this.state.step].renderAutocompleteFunc;return e?e(self):null},t.prototype.renderContent=function(){var e=this,t=this.state.step;if(!this.state.steps[t])return null;var n=this.state.steps[t].title,i=this.state.steps[t].buttons;return Object.keys(this.state.steps).length-1===t&&this.surveyEnded(),"function"===typeof i&&(i=i()),s.a.createElement("div",{key:"iv_header_"+t,className:Us.a.header},s.a.createElement(Ks,null,n),i.map((function(n){return e.renderTag(n,t)})),this.renderAutocomplete())},t.prototype.render=function(){return!this.context.isSignedIn||!this.state.isActive||this.props.loading||this.props.loadingInterviewOptions?null:(this.state.getPopularPositions(),this.renderContent())},t.contextType=$e.c,t=Object(i.__decorate)([Ls,Jn],t)}(s.a.PureComponent),Ys=n("aSGY"),Js=Object(C.a)("div",{target:"e1oinl1z0"})({textAlign:"left",lineHeight:1,margin:"24px 0 6px"},"label:Submission;"),Xs=Object(C.a)("div",{target:"e1oinl1z1"})({display:"inline-block",margin:"0 16px",width:1,height:"18px",background:x.a.grey(3),verticalAlign:"middle"},"label:Separator;"),Zs=Object(C.a)("span",{target:"e1oinl1z2"})({margin:0,color:x.a.grey(6),fontSize:"12px"},"label:Type;"),el=Object(C.a)("span",{target:"e1oinl1z3"})({margin:"0 0 0 8px",fontFamily:"FetteMittelschrift, sans-serif",color:x.a.grey(8)},"label:Count;"),tl=Object(o.memo)((function(e){if(!e.question||!e.question.stats)return null;var t=e.question.stats,n=t.totalAcceptedRaw,i=t.totalSubmissionRaw;return s.a.createElement(Js,null,s.a.createElement(Zs,null,"\u901a\u8fc7\u6b21\u6570"),s.a.createElement(el,null,n?Object(Ys.a)(n):0),s.a.createElement(Xs,null),s.a.createElement(Zs,null,"\u63d0\u4ea4\u6b21\u6570"),s.a.createElement(el,null,i?Object(Ys.a)(i):0))})),nl=Object(C.a)("div",{target:"eugt34i0"})(((Ts={margin:"16px 0 0 0"})["&[data-show-mask='true']::after"]={content:'""',position:"absolute",background:x.a.grey(0),top:0,right:0,left:0,bottom:0},Ts),"label:Container;"),il=Object(C.a)("h4",{target:"eugt34i1"})({margin:0,lineHeight:"16px",a:{color:x.a.grey(8),textDecoration:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"pre"}},"label:Title;");il.defaultProps=Object(i.__assign)(Object(i.__assign)({},il.defaultProps),{"data-cypress":"QuestionTitle"});var al=n("sYqU"),rl=n("rJKo"),ol=Object(C.a)("a",{target:"e167268t0"})({color:"inherit"},"label:Link;"),sl=Object(C.a)("button",{target:"e167268t1"})((function(e){var t,n;return(t={outline:0,border:0,lineHeight:"12px",background:"transparent",cursor:"pointer",transition:"0.18s color ease-in-out",color:x.a.grey(7)})["&:disabled"]={cursor:"not-allowed",color:""+Object(rl.a)(x.a.grey(6)).setAlpha(.3)},t.svg={margin:e.iconOnly?"0":"0 6px 0 0",width:14,height:14},t["&:not(:disabled)"]=((n={})["&:hover, &:focus, &:active"]={color:x.a.grey(9)},n["&:active"]={opacity:.9},n),t}),"label:Button;"),ll=s.a.forwardRef((function(e,t){var n=e.children,a=e.href,r=e.target,o=e.className,l=e.disabled,u=e.iconOnly,c=Object(i.__rest)(e,["children","href","target","className","disabled","iconOnly"]),d=s.a.createElement(sl,Object(i.__assign)({ref:t,className:o,disabled:l,iconOnly:u},c),n);return a&&!l?s.a.createElement(ol,{href:a,target:r},d):d})),ul=n("Y9Gt"),cl=n("/ZaN"),dl=Object(C.a)("div",{target:"e191khlj0"})({padding:"10px"},"label:ShareContainer;"),pl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(ul.a,{content:this.renderShare(),minWidth:"155px",placement:"bottom",trigger:"click",onChangeActive:this.props.onShareToggled},o.createElement(ll,{className:this.props.className,disabled:this.props.disabled,iconOnly:this.props.iconOnly},o.createElement(xi.a,{type:"share"}),!this.props.iconOnly&&o.createElement("span",null,"\u5206\u4eab")))},t.prototype.renderShare=function(){return o.createElement(dl,null,o.createElement(cl.a,{flatten:!1,onShareLinkClicked:this.props.onShareLinkClicked}))},t.defaultProps={onShareToggled:function(){},onShareLinkClicked:function(){},className:"",disabled:!1,iconOnly:!1},t}(o.PureComponent),ml=function(e){var t=e.iconOnly,n=Object(i.__read)(Object(r.a)(E.a),2),a=n[0].question,o=n[1].toggleSubscribed,l=a.isSubscribed;return s.a.createElement(pi.a,{placement:"top",content:l?"\u5173\u95ed\u63d0\u9192":"\u8be5\u9898\u6709\u65b0\u9898\u89e3\u65f6\u4f60\u5c06\u6536\u5230\u901a\u77e5",updateContentPositionOnEveryRender:!0},s.a.createElement(ll,{onClick:o,iconOnly:t},s.a.createElement(xi.a,{type:l?"unsubscribe":"notification-o"}),!t&&(l?"\u5173\u95ed\u63d0\u9192":"\u63a5\u6536\u52a8\u6001")))},fl=n("luml"),bl=n("W4kd"),gl=n("z2yo"),vl=n("gSzN"),hl=Object(C.a)("div",{target:"e1ues7oa0"})({display:"flex",flexWrap:"wrap","> span":{margin:"0 8px 8px 0"}},"label:CheckboxWrapper;"),yl=s.a.memo((function(e){var t=e.reasons,n=e.onReasonsChange,a=Object(i.__read)(Object(r.a)(fl.a),1)[0].feedbackReasons,l=Object(o.useCallback)((function(e){t.includes(e)?n(t.filter((function(t){return t!==e}))):n(a.map((function(e){return e.slug})).filter((function(n){return Object(i.__spread)(t,[e]).includes(n)})))}),[t,n,a]);return s.a.createElement(hl,null,a.map((function(e){var n=e.name,i=e.slug;return s.a.createElement(so.a,{key:i,size:"sm",kind:t.includes(i)?"green":"default",meta:i,onClick:l,content:n})})))})),kl=s.a.memo((function(e){var t=e.isActive,n=e.onClose,a=Object(i.__read)(Object(r.a)(fl.a),2),l=a[0].loading,u=a[1],c=u.sendQuestionFeedback,d=u.getFeedbackReasons,m=Object(i.__read)(Object(r.a)(E.a),1)[0],f=m.question,b=f.translatedTitle,g=f.title,v=m.questionSlug,h=Object(i.__read)(Object(o.useState)([]),2),y=h[0],k=h[1],O=Object(i.__read)(Object(o.useState)(""),2),_=O[0],S=O[1];Object(o.useEffect)((function(){d()}),[]);var j=Object(o.useCallback)((function(){_&&y.length?(c({slug:v,reasons:y,detail:_}),n()):(!y.length&&Ke.a.error("\u8bf7\u9009\u62e9\u53cd\u9988\u7c7b\u578b"),!_&&Ke.a.error("\u8bf7\u586b\u5199\u53cd\u9988\u5185\u5bb9"))}),[v,y,_,n]);return s.a.createElement(p.a,{type:"default",title:"\u8bf7\u586b\u5199\u53cd\u9988\u5185\u5bb9",isActive:!l&&t,onClose:n,onConfirm:j},s.a.createElement(bl.a,null,s.a.createElement(bl.e,null,s.a.createElement(bl.c,null,"\u9898\u76ee\uff1a"),s.a.createElement(bl.g,null,b||g)),s.a.createElement(bl.e,null,s.a.createElement(bl.d,null,"\u53cd\u9988\u7c7b\u578b\uff1a"),s.a.createElement(yl,{reasons:y,onReasonsChange:k})),s.a.createElement(bl.e,null,s.a.createElement(bl.d,null,"\u53cd\u9988\u5185\u5bb9\uff1a"),s.a.createElement(gl.a,{value:_,onValueChange:S})),s.a.createElement(vl.a,null)))}));function Ol(e){var t=e.iconOnly,n=Object(i.__read)(Object(Ue.a)(!1),3),a=n[0],r=n[1],o=n[2];return s.a.createElement(s.a.Fragment,null,s.a.createElement(pi.a,{placement:"top",content:t?"\u53cd\u9988":void 0,portalContainer:null},s.a.createElement(ll,{onClick:r,iconOnly:t},s.a.createElement(xi.a,{type:"feedback-o"}),!t&&"\u53cd\u9988")),a&&s.a.createElement(kl,{isActive:a,onClose:o}))}var _l,Sl,jl,Nl,El=n("DuHN"),Cl=(n("IJu9"),n("RwRN")),xl=n("Bj0B"),ql=n("TYRa"),Fl=n.n(ql),Tl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"removeQuestionFromFavorite"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"favoriteIdHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"questionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeQuestionFromFavorite"},arguments:[{kind:"Argument",name:{kind:"Name",value:"favoriteIdHash"},value:{kind:"Variable",name:{kind:"Name",value:"favoriteIdHash"}}},{kind:"Argument",name:{kind:"Name",value:"questionId"},value:{kind:"Variable",name:{kind:"Name",value:"questionId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"favoriteIdHash"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionId"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation removeQuestionFromFavorite($favoriteIdHash: String!, $questionId: String!) {\n  removeQuestionFromFavorite(\n    favoriteIdHash: $favoriteIdHash\n    questionId: $questionId\n  ) {\n    ok\n    error\n    favoriteIdHash\n    questionId\n  }\n}\n"}},operationName:"removeQuestionFromFavorite",defName:"removeQuestionFromFavorite"},wl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addQuestionToFavorite"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"favoriteIdHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"questionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addQuestionToFavorite"},arguments:[{kind:"Argument",name:{kind:"Name",value:"favoriteIdHash"},value:{kind:"Variable",name:{kind:"Name",value:"favoriteIdHash"}}},{kind:"Argument",name:{kind:"Name",value:"questionId"},value:{kind:"Variable",name:{kind:"Name",value:"questionId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"favoriteIdHash"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionId"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation addQuestionToFavorite($favoriteIdHash: String!, $questionId: String!) {\n  addQuestionToFavorite(\n    favoriteIdHash: $favoriteIdHash\n    questionId: $questionId\n  ) {\n    ok\n    error\n    favoriteIdHash\n    questionId\n  }\n}\n"}},operationName:"addQuestionToFavorite",defName:"addQuestionToFavorite"},Il=n("kPof"),Pl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addQuestionToNewFavorite"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isPublicFavorite"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"questionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addQuestionToNewFavorite"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"isPublicFavorite"},value:{kind:"Variable",name:{kind:"Name",value:"isPublicFavorite"}}},{kind:"Argument",name:{kind:"Name",value:"questionId"},value:{kind:"Variable",name:{kind:"Name",value:"questionId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPublicFavorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"favoriteIdHash"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionId"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation addQuestionToNewFavorite($name: String!, $isPublicFavorite: Boolean!, $questionId: String!) {\n  addQuestionToNewFavorite(\n    name: $name\n    isPublicFavorite: $isPublicFavorite\n    questionId: $questionId\n  ) {\n    ok\n    error\n    name\n    isPublicFavorite\n    favoriteIdHash\n    questionId\n  }\n}\n"}},operationName:"addQuestionToNewFavorite",defName:"addQuestionToNewFavorite"},Rl=n("qkQm"),Dl=Object(C.a)("div",{target:"exwqhmy0"})({margin:"10px 0"},"label:CreateFavoritePanel;"),Al=Object(C.a)(Rl.a,{target:"exwqhmy1"})({marginBottom:"10px"},"label:FavoriteNameInput;"),Ql=Object(C.a)("div",{target:"exwqhmy2"})({display:"flex",justifyContent:"space-between"},"label:CreateFavoriteBlock;"),Ll=Object(C.a)(j.a,{target:"exwqhmy3"})({width:"100%",display:"flex",justifyContent:"center",marginLeft:"15px"},"label:TagButton;"),Ml=Object(C.a)(xi.a,{target:"exwqhmy4"})({marginRight:5},"label:Icon;"),Vl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isPublic:!1},t.inputRef=s.a.createRef(),t.onChangeSelect=function(e){t.setState({isPublic:"public"===e})},t.onClickCreate=function(e){var n=t.props,a=n.questionId,r=n.resetState;return function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,n,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return(t=this.inputRef.current.value).trim()?[4,e({variables:{questionId:a,isPublicFavorite:this.state.isPublic,name:t},optimisticResponse:{addQuestionToNewFavorite:{ok:!0,error:null,favoriteIdHash:"fake",isPublicFavorite:this.state.isPublic,questionId:a,name:t,__typename:"AddQuestionToNewFavorite"}}})]:(El.b.warning("\u8bf7\u8f93\u5165\u5217\u8868\u6807\u9898!"),[2]);case 1:return(n=i.sent())&&n.data&&((o=n.data.addQuestionToNewFavorite.error)&&El.b.error(o),r(o)),[2]}}))}))}},t.updateAfterAddQuestionToNewFavorite=function(e,t){var n=t.data.addQuestionToNewFavorite;if(n.ok){var a=e.readQuery({query:Xn}),r=a.favoritesLists.allFavorites,o={idHash:n.favoriteIdHash,isPublicFavorite:n.isPublicFavorite,name:n.name,questions:[{questionId:n.questionId,__typename:"QuestionNode"}],__typename:"FavoriteNode"};r.push(o),e.writeQuery({query:Xn,data:{favoritesLists:Object(i.__assign)(Object(i.__assign)({},a.favoritesLists),{allFavorites:r})}})}},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this;return s.a.createElement(Dl,null,s.a.createElement(Al,{ref:this.inputRef,width:"100%",maxLength:25,placeholder:"\u8bf7\u8f93\u5165\u5217\u8868\u6807\u9898"}),s.a.createElement(Ql,null,s.a.createElement(Il.a,{defaultValue:"private",onSelect:this.onChangeSelect,value:this.state.isPublic?"public":"private",width:"100%",minWidth:"calc((100% - 15px) / 2)",portalContainer:null,size:"sm"},s.a.createElement(Il.a.Option,{value:"private",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(Ml,{type:"lock"}),"\u79c1\u6709")}),s.a.createElement(Il.a.Option,{value:"public",label:s.a.createElement(s.a.Fragment,null,s.a.createElement(Ml,{type:"earth"}),"\u516c\u5f00")})),s.a.createElement(Wn,{mutation:Pl,update:this.updateAfterAddQuestionToNewFavorite},(function(t){return s.a.createElement(Ll,{size:"sm",onClick:e.onClickCreate(t)},"\u521b\u5efa")}))))},t}(s.a.PureComponent),zl=n("txck"),Wl=n("dxiE"),Bl=Object(C.a)("div",{target:"egi5gqu0"})({border:"1px solid "+x.a.grey(4),padding:5,overflowY:"auto",userSelect:"none",WebkitOverflowScrolling:"touch"},"label:Favorites;"),Hl=Object(C.a)("div",{target:"egi5gqu1"})(((_l={width:210})["& > "+Bl]={maxHeight:290},_l),"label:Desktop;"),$l=Object(C.a)("div",{target:"egi5gqu2"})(((Sl={width:"100%"})["& > "+Bl]={maxHeight:140},Sl),"label:Mobile;"),Ul=Object(C.a)("div",{target:"egi5gqu3"})(Object(i.__assign)({},Ti.i),"label:FavoriteName;"),Kl=Object(C.a)("div",{target:"egi5gqu4"})({display:"flex",flex:"1 1 0",overflow:"hidden",alignItems:"center"},"label:FavoriteNameWrapper;"),Gl=Object(a.b)(zl.a.secondary,{display:"flex",fontSize:12,width:"100%",height:"30px",alignItems:"center",cursor:"pointer",padding:"0px 5px","&:not(:nth-last-child(2))":{marginBottom:5}},"label:FavoriteItem;"),Yl=Object(C.a)("div",{target:"egi5gqu5"})(Object(Wl.a)({opacity:1,top:0,left:0,right:0,bottom:0}),Gl,"label:FavoriteSelected;"),Jl=Object(C.a)("div",{target:"egi5gqu6"})(Object(Wl.a)({top:0,left:0,right:0,bottom:0}),Gl,"label:FavoriteUnSelected;"),Xl=Object(C.a)(j.a,{target:"egi5gqu7"})({width:"100%",display:"flex",marginTop:10,justifyContent:"center",":nth-last-type":{marginTop:0}},"label:FavoriteButton;"),Zl=Object(C.a)("a",{target:"egi5gqu8"})({display:"block",margin:"15px auto 5px",textAlign:"center",color:x.a.grey(6),"&:hover":{color:x.a.grey(9)}},"label:OpenMyListButton;"),eu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isTyping:!1},t.client=Ye.b.getInstanceByToken(hn.a.provide),t.favoritesEndRef=s.a.createRef(),t.onToggleFavoriteListItem=function(e,n,a){var r=a?"removeQuestionFromFavorite":"addQuestionToFavorite";return function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,o,s;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.client.mutate({mutation:a?Tl:wl,variables:{favoriteIdHash:e,questionId:n},optimisticResponse:(s={},s[r]={ok:!0,error:null,favoriteIdHash:e,questionId:n,__typename:Fl()(r)},s),update:this.updateAfterFavoriteOperation})];case 1:return(t=i.sent().data)&&t[r]&&(o=t[r].error)&&El.b.error(o),a||oi.a.questionDetail.topbar.collectQuestion(this.props.questionSlug),[2]}}))}))}},t.onTriggerCreatePanel=function(){t.setState({isTyping:!0})},t.onClickDone=function(){t.props.hidePopover()},t.onClickOpenMyList=function(){location.href="/list"},t.updateAfterFavoriteOperation=function(e,t){var n=t.data,a=n.addQuestionToFavorite||n.removeQuestionFromFavorite;if(a.ok){var r=e.readQuery({query:Xn}),o=r.favoritesLists.allFavorites,s=o.find((function(e){return e.idHash===a.favoriteIdHash})).questions;n.addQuestionToFavorite?s.push({questionId:a.questionId,__typename:"QuestionNode"}):n.removeQuestionFromFavorite&&s.splice(s.findIndex((function(e){return e.questionId===a.questionId})),1),e.writeQuery({query:Xn,data:{favoritesLists:Object(i.__assign)(Object(i.__assign)({},r.favoritesLists),{allFavorites:o})}})}},t.scrollToListBottom=function(){t.favoritesEndRef.current.scrollIntoView({behavior:"smooth"})},t.resetState=function(e){t.setState((function(){return{isTyping:!1}})),e||t.scrollToListBottom()},t}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e){return e.popoverVisible?null:{isTyping:!1}},t.prototype.render=function(){var e,t=(void 0===(e=this.props.mobile)&&(e=!1),e?$l:Hl);return s.a.createElement(t,null,this.renderFavoriteLists(),this.state.isTyping?this.renderCreatePanel():this.renderCreateButton(),this.renderDoneButton(),this.renderOpenMyListButton())},t.prototype.isFavorite=function(e){var t=this;return e.questions.some((function(e){return e.questionId===t.props.questionId}))},t.prototype.renderItem=function(e){var t=e.isPublicFavorite,n=e.idHash,i=e.name,a=t?"earth":"lock",r=this.isFavorite(e),o=r?Yl:Jl;return s.a.createElement(o,{key:n,onClick:this.onToggleFavoriteListItem(n,this.props.questionId,r)},s.a.createElement(Kl,null,s.a.createElement(xi.a,{type:a,style:{marginRight:"5px",flex:"0 0 auto"}}),s.a.createElement(Ul,null,i)),r?s.a.createElement(xi.a,{type:"check",style:{flex:"0 0 auto"}}):null)},t.prototype.renderCreateButton=function(){return s.a.createElement(Xl,{size:"sm",prefixIcon:s.a.createElement(Xr.a,null),onClick:this.onTriggerCreatePanel},"\u521b\u5efa\u65b0\u5217\u8868")},t.prototype.renderDoneButton=function(){return this.props.mobile?null:s.a.createElement(Xl,{size:"sm",kind:"primary",onClick:this.onClickDone},"\u5b8c\u6210")},t.prototype.renderOpenMyListButton=function(){return s.a.createElement(Zl,{onClick:this.onClickOpenMyList},"\u6211\u7684\u5217\u8868")},t.prototype.renderCreatePanel=function(){return s.a.createElement(Vl,{resetState:this.resetState,questionId:this.props.questionId})},t.prototype.renderFavoriteLists=function(){var e=this,t=this.props.favorites.map((function(t){return e.renderItem(t)}));return s.a.createElement(Bl,null,t,s.a.createElement("div",{ref:this.favoritesEndRef}))},t}(s.a.PureComponent),tu=Object(C.a)("div",{target:"e1fxxsdl0"})({padding:"10px"},"label:FavoriteContainer;"),nu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={popoverVisible:!1},t.favoriteRef=s.a.createRef(),t.onToggleFavoriteTab=Nr.a.ensureSignedIn((function(){var e=t.props,n=e.disabled,i=e.questionId;t.context.isSignedIn?!n&&t.favoriteRef.current&&t.defaultFavoriteList&&t.favoriteRef.current.onToggleFavoriteListItem(t.defaultFavoriteList.idHash,i,t.hasFavorited())():El.b.error("You must be logged in to add this question to favorite.")}),{user:t.context}),t.onHoverChange=function(e){var n=t.props.disabled;t.context.isSignedIn&&!n&&t.setState({popoverVisible:e})},t.onFavoritesClicked=function(){t.props.disabled||t.onToggleFavoriteTab()},t.hideFavoritePopover=function(){t.setState({popoverVisible:!1})},t}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"defaultFavoriteList",{get:function(){return this.props.favorites.find((function(e){return"Favorite"===e.name}))},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.buttonClassName,n=e.disabled,i=e.iconOnly;return s.a.createElement(ul.a,{content:this.renderFavoritesLists(),placement:"bottom",trigger:"hover",isActive:this.state.popoverVisible,onChangeActive:this.onHoverChange},s.a.createElement(ll,{className:t,disabled:n,onClick:this.onFavoritesClicked,iconOnly:i},this.hasFavorited()?s.a.createElement(Cl.a,null):s.a.createElement(xl.a,null),!i&&s.a.createElement("span",null,"\u6536\u85cf")))},t.prototype.hasFavorited=function(){var e=this.props.questionId;return!(!this.defaultFavoriteList||!this.defaultFavoriteList.questions)&&this.defaultFavoriteList.questions.some((function(t){return!(!t||!t.questionId)&&t.questionId===e}))},t.prototype.renderFavoritesLists=function(){var e=this.props,t=e.favorites,n=e.questionId,i=e.questionSlug;return s.a.createElement(tu,null,s.a.createElement(eu,{ref:this.favoriteRef,favorites:t,popoverVisible:this.state.popoverVisible,questionId:n,questionSlug:i,hidePopover:this.hideFavoritePopover}))},t.contextType=$e.c,t.defaultProps={buttonClassName:"",disabled:!1,iconOnly:!1},t}(o.PureComponent),iu=Zn(nu),au=x.a.green(5),ru=x.a.yellow(5),ou=x.a.red(5),su=Object(C.a)("div",{target:"e1o5n5iy0"})(((jl={display:"flex",alignItems:"center",color:x.a.grey(6),marginTop:12,fontSize:12,lineHeight:"12px",userSelect:"none",padding:"0 0 16px 0",borderBottom:"1px solid "+x.a.grey(3)}).button={marginRight:6,display:"flex",alignItems:"center",padding:"0 10px"},jl),"label:Tools;"),lu=Object(C.a)("span",{target:"e1o5n5iy1"})(((Nl={color:x.a.grey(7),marginRight:15})["&[data-small-spacing='true']"]={marginRight:10},Nl["&[data-degree='easy']"]={color:au},Nl["&[data-degree='medium']"]={color:ru},Nl["&[data-degree='hard']"]={color:ou},Nl),"label:Difficulty;"),uu={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"questionLikes"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"QuestionNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isLiked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dislikes"},arguments:[],directives:[]}]}}],loc:{source:{body:"fragment questionLikes on QuestionNode {\n  questionId\n  isLiked\n  likes\n  dislikes\n}"}},operationName:"questionLikes",defName:"questionId,isLiked,likes,dislikes"},cu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"likeQuestion"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"titleSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLike"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"like"},arguments:[{kind:"Argument",name:{kind:"Name",value:"titleSlug"},value:{kind:"Variable",name:{kind:"Name",value:"titleSlug"}}},{kind:"Argument",name:{kind:"Name",value:"isLike"},value:{kind:"Variable",name:{kind:"Name",value:"isLike"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likeResult"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation likeQuestion($titleSlug: String!, $isLike: Boolean!) {\n  like(titleSlug: $titleSlug, isLike: $isLike) {\n    ok\n    error\n    likeResult\n  }\n}"}},operationName:"likeQuestion",defName:"like"},du=function(e,t){return!(e&&!t)&&(!(e||!t)||null)},pu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.updateAfterLike=function(e,n){var i=n.data,a=t.props.question.questionId,r=i.like;if(r.ok){var o="QuestionNode:"+a,s=e.readFragment({id:o,fragment:uu}),l=s.isLiked,u=s.likes,c=s.dislikes;if(r.likeResult!==l){var d=u,p=c;l?d-=1:!1===l&&(p-=1),r.likeResult?d+=1:!1===r.likeResult&&(p+=1),e.writeFragment({id:o,fragment:uu,data:{questionId:a,isLiked:r.likeResult,likes:d,dislikes:p,__typename:"QuestionNode"}})}}},t.handleLikeClick=function(e,n){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,a,r,o,s,l;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return t=this.props.question,a=t.titleSlug,r=t.isLiked,a?(o=n?"\u559c\u6b22":"\u4e0d\u559c\u6b22",this.context.isSignedIn?(s=du(r,n),[4,e({variables:{titleSlug:a,isLike:n},optimisticResponse:{like:{ok:!0,error:null,likeResult:s,__typename:"Like"}}})]):(El.b.error("\u60a8\u5fc5\u987b\u767b\u5f55\u624d\u80fd"+o+"\u8fd9\u9053\u9898"),[2])):[2];case 1:return(l=i.sent())&&l.data.like.error&&El.b.error(l.data.like.error),oi.a.questionDetail.topbar.likeQuestion(a,n?"yes":"no"),[2]}}))}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this;return s.a.createElement(Wn,{mutation:cu,update:this.updateAfterLike},(function(t){return e.renderButton(t,!0)}))},t.prototype.renderButton=function(e,t){var n=this,i=this.props,a=i.disabled,r=i.question,o=this.context.isSuperuser?r.dislikes:"",l=t?"thumb-up":"thumb-down";return r.isLiked!==t&&(l+="-o"),s.a.createElement(ll,{disabled:a,onClick:Nr.a.ensureSignedIn((function(){n.handleLikeClick(e,t)}),{user:this.context})},s.a.createElement(xi.a,{type:l}),s.a.createElement("span",null,t?r.likes:o))},t.contextType=$e.c,t.defaultProps={disabled:!1},t}(o.PureComponent),mu=Ua.a.main.paths,fu=Object(o.memo)((function(e){var t=Object(o.useContext)($e.c),n=Object(i.__read)(Object(r.a)(Bo.a),2)[1],a=e.question,l=e.questionSlug,u=e.isQuestionLocked,c=e.toolsCompactMode,d=t.useTranslation,p=t.isSuperuser,m=Object(o.useCallback)((function(){n.updateTranslation(!d)}),[n,d]),f=Object(o.useCallback)((function(){oi.a.questionDetail.topbar.shareQuestion(l)}),[l]);return a.difficulty?s.a.createElement(su,null,s.a.createElement(lu,{"data-small-spacing":!0},"\u96be\u5ea6"),s.a.createElement(lu,{"data-degree":a.difficulty.toLowerCase()},Object(Ei.a)(a.difficulty)),s.a.createElement(pu,{disabled:u,question:a}),s.a.createElement(iu,{questionId:a.questionId,questionSlug:l,iconOnly:c}),s.a.createElement(pl,{onShareLinkClicked:f,iconOnly:c}),function(e){var t=!!a.translatedTitle,n=null,i=null;if(p){var r=a.ugcQuestionId,o=r?mu.repo.detail({ugcQuestionId:r}):al.a.admin.translateQuestion(l);i=s.a.createElement(ll,{href:o,target:"_blank",disabled:e,iconOnly:c},s.a.createElement(xi.a,{type:"translate"}),!c&&"\u7ba1\u7406\u5458\u7ffb\u8bd1")}return n=t?s.a.createElement(ll,{onClick:m,disabled:e,iconOnly:c},s.a.createElement(xi.a,{type:"translate"}),!c&&"\u5207\u6362\u4e3a"+(d?"\u82f1\u6587":"\u4e2d\u6587")):!p&&s.a.createElement(ll,{href:al.a.translateQuestion(l),target:"_blank",iconOnly:c},s.a.createElement(xi.a,{type:"translate"}),!c&&"\u8d21\u732e\u7ffb\u8bd1"),s.a.createElement(s.a.Fragment,null,n,i)}(u),s.a.createElement(ml,{iconOnly:c}),s.a.createElement(Ol,{iconOnly:c})):null}));fu.defaultProps={toolsCompactMode:!1};var bu=Object(o.memo)((function(e){var t=Object(i.__read)(Object(r.a)(E.a),1)[0],n=Object(o.useContext)($e.c),a=n.useTranslation,l=n.isSuperuser,u=t.question,c=t.questionSlug,d=t.isQuestionLocked,p=t.loading,m=e.isSourceQuestion,f=e.resizeWidth,b=a&&u.translatedTitle?u.translatedTitle:u.title,g=l?f<707:f<588,v=s.a.createElement(il,null,s.a.createElement($a.a,{to:xa.a.question(c)},u.questionFrontendId,". ",b));return s.a.createElement(nl,{"data-show-mask":p},v,s.a.createElement(fu,{questionSlug:c,question:u,isSourceQuestion:m,toggleShowSourceQuestion:e.toggleShowSourceQuestion,isQuestionLocked:d,toolsCompactMode:g}))})),gu=_(Object(Ht.renderWithSize)((function(e){return{resizeWidth:e?e.width:0}}),bu)),vu=n("L+x5"),hu=n("X4a2"),yu=n("e7Ho"),ku=Object(C.a)("div",{target:"e1fq47gt0"})({display:"flex",alignItems:"center",flexDirection:"column",marginTop:"110px"},"label:Container;"),Ou=Object(C.a)(xi.a,{target:"e1fq47gt1"})({width:"60px",height:"60px",marginBottom:"10px",color:x.a.grey(4)},"label:Icon;"),_u=Object(C.a)("span",{target:"e1fq47gt2"})({color:x.a.grey(6),fontSize:"14px",fontWeight:500,marginBottom:"20px"},"label:Content;"),Su=function(e){var t=Object(o.useCallback)((function(){oi.a.questionDetail.paidOnly.gotoPremiumPage(e.questionSlug),yu.a.push(Object(vu.a)(hu.a.premium.home,{source:"problem-detail-upgrade",questionSlug:e.questionSlug}))}),[e.questionSlug]);return s.a.createElement(ku,null,s.a.createElement(Ou,{type:"lock"}),s.a.createElement(_u,null,"\u5347\u7ea7\u529b\u6263 Plus \u4f1a\u5458\u89e3\u9501\u9898\u76ee"),s.a.createElement(j.a,{kind:"premium",size:Ci.c,onClick:t},"\u5347\u7ea7 Plus \u4f1a\u5458"))},ju=[1,2,3],Nu=Object(o.memo)((function(e){var t=Object(o.useContext)($e.c).useTranslation,n=e.question,a=n.questionFrontendId,r=n.titleSlug,l=n.topicTags,u=n.companyTagStats,c=n.similarQuestions,d=n.hints,p=n.contributors,m=n.book,f=Object(jo.a)([e.question],(function(e){return"\u6765\u6e90\uff1a\u529b\u6263\uff08LeetCode\uff09\n\u94fe\u63a5\uff1ahttps://leetcode-cn.com/problems/"+Object(i.__read)(e,1)[0].titleSlug+"\n\u8457\u4f5c\u6743\u5f52\u9886\u6263\u7f51\u7edc\u6240\u6709\u3002\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u8054\u7cfb\u5b98\u65b9\u6388\u6743\uff0c\u975e\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002"})),b=Object(o.useMemo)((function(){var e,t,n=null,a=[],r=[];if(u)try{for(var o=Object(i.__values)(ju),s=o.next();!s.done;s=o.next()){var l=s.value;u[l]&&u[l].tags.length>0&&(n||(n=l),r[l]={tags:[],hasMore:u[l].has_more},a.push(l))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return{moreCompanyTags:r,availableTimePeriods:a,selectedTimePeriod:n}}),[u]);return a?s.a.createElement(No.a,{question:n,isRawContent:!t,onCopy:f,descriptionHeader:s.a.createElement(gu,null)},s.a.createElement(tl,{question:n}),s.a.createElement(Gs,{question:n,key:n.questionId}),m?s.a.createElement(Po,Object(i.__assign)({},m)):s.a.createElement(Mo,{contributors:p}),s.a.createElement(Zo,Object(i.__assign)({questionSlug:r,companyTags:u},b)),s.a.createElement(is,{topicTags:l,isRawContent:!t}),s.a.createElement(ls,{similarQuestions:JSON.parse(c),isRawContent:!t}),s.a.createElement(ms,{hints:d})):null})),Eu=_(Object(o.memo)((function(e){var t=Object(i.__read)(Object(r.a)(E.a),1)[0],n=t.question,a=t.questionSlug;return t.isQuestionLocked?s.a.createElement(Su,{questionSlug:a}):s.a.createElement(Nu,{question:n,isSourceQuestion:e.isSourceQuestion})}))),Cu=n("60w7"),xu=n("Y+c1"),qu=function(e){function t(t){var n=e.call(this,t)||this;return n.generateDescription=function(e){var t=e.commentsSelection.slice(0,3).map((function(e,t){var n=e.post,i=n.content,a=n.author,r=Object(St.f)(i);return t+1+". "+(a&&a.profile.realName||"\u7528\u6237")+"\u8bf4: "+r})).join("; "),i=n.props.question,a=i.translatedTitle||i.title,r=i.translatedContent||i.content;return{description:a+"\u7684\u8bc4\u8bba: "+t,ogDescription:(e.totalNum?"("+e.totalNum+" \u6761\u8bc4\u8bba) ":"")+Object(St.e)(r)}},n.tracker={cancelComment:function(){return oi.a.questionDetail.comment.cancelComment(n.questionSlug)},deleteComment:function(e){return oi.a.questionDetail.comment.deleteComment(n.questionSlug,e)},cancelDeleteComment:function(e){return oi.a.questionDetail.comment.cancelDeleteComment(n.questionSlug,e)},confirmDeleteComment:function(e){return oi.a.questionDetail.comment.confirmDeleteComment(n.questionSlug,e)},submitComment:function(e,t){return oi.a.questionDetail.comment.submitComment(e,t,n.questionSlug)}},n}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"questionSlug",{get:function(){return this.props.question.titleSlug},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sharedCommentId",{get:function(){var e=location.href.match(/\/problems\/[^/]+\/comments\/(\d+)/);return e?e[1]:null},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props.question.boundTopicId;return e?s.a.createElement(xu.a,{generateDescription:this.generateDescription,topicId:e,sharedCommentId:this.sharedCommentId,isActive:this.props.isActive,generateShareUrl:this.props.generateShareUrl,tracker:this.tracker,userStatus:this.context}):null},t.contextType=$e.c,t}(s.a.Component),Fu=n("xxSs"),Tu=Qt.b.CN_COMMENTS,wu=Object(C.a)("div",{target:"e6070rm0"})({padding:"0 20px"},"label:Container;"),Iu=Object(Ht.renderWithSize)((function(e){return{size:e?Fu.d.getSize(e.width):Fu.a.REGULAR}}),(function(e){var t=e.size,n=e.commentNum;switch(t){case Fu.a.SMALL:return null;case Fu.a.COMPACT:return"\u8bc4\u8bba";default:return n?"\u8bc4\u8bba ("+Object(Cu.b)(n)+")":"\u8bc4\u8bba"}})),Pu={key:Tu,Title:function(){var e=Object(i.__read)(Object(r.a)(E.a),2),t=e[0],n=e[1];return Object(o.useEffect)((function(){var e=t.question.boundTopicId;e&&n.getCommentNum(e)}),[t.question,t.question.boundTopicId]),s.a.createElement(Iu,{commentNum:t.commentNum})},icon:"chat-o",premiumSensitive:!0,Component:Object(o.memo)((function(e){var t=Object(i.__read)(Object(r.a)(E.a),1)[0],n=Object(o.useCallback)((function(e){var n=window.location,i=n.origin,a=n.host,r=n.protocol;return(i||r+"//"+a)+"/problems/"+t.questionSlug+"/comments/"+e}),[t.questionSlug]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(wu,null,s.a.createElement(qu,{isActive:e.isActive||!1,question:t.question,generateShareUrl:n})))})),track:function(e){return oi.a.questionDetail.detail.comment(e)}},Ru=n("WWwk"),Du=Object(o.memo)((function(){var e=Object(i.__read)(Object(r.a)(E.a),2),t=e[0],n=e[1];Object(o.useEffect)((function(){t.questionSlug&&n.getSolutionCount()}),[t.questionSlug,n]);var a="\u9898\u89e3"+(t.solutionCount?" ("+Object(Cu.b)(t.solutionCount)+")":""),l=Object(Fu.c)(a,"\u9898\u89e3");return s.a.createElement(s.a.Fragment,null,s.a.createElement(xi.a,{type:"bottle"}),s.a.createElement(l,null))})),Au=Object(C.a)("div",{target:"ewttcgv0"})({display:"flex",flexDirection:"column",alignItems:"center",lineHeight:"20px",fontSize:"12px",width:"196px",padding:"10px"},"label:PopoverContentContainer;"),Qu=Object(C.a)("div",{target:"ewttcgv1"})({display:"flex"},"label:ButtonGroups;"),Lu=Object(C.a)(j.a,{target:"ewttcgv2"})({marginRight:"10px"},"label:StyledButton;"),Mu=Object(C.a)("div",{target:"ewttcgv3"})({"> svg":{verticalAlign:"bottom"}},"label:StyledTitleContainer;"),Vu="is-hide-new-feature-popover";var zu=n("udAK"),Wu=n.n(zu),Bu=n("q4vt"),Hu=Ua.a.legacy.paths;var $u,Uu=Object(o.memo)((function(e){var t,n,a,l,u,c,d=e.isActive,p=e.showSolutionEditorForCreatingArticle,m=e.showSolutionEditorForEditingArticle,f=e.solutions,b=Object(i.__read)(Object(r.a)(E.a),2),g=b[0],v=b[1],h=g.questionSlug,y=g.submission,k=g.nextChallengePairs,O=g.submitResult,_=O.submissionId?Hu.submission.testcase({id:O.submissionId}):"";t=O.status,n=g.question,a=n.translatedTitle,l=n.title,u=n.isDailyQuestion,c=a||l,Object(o.useEffect)((function(){t===Ge.a.AC&&c&&S.a.dailyQuestionSubmitSuccessPageExposure(c,String(u))}),[t,c,u]);var j=Object(o.useContext)($e.c),N=y.loading,C=y.fetchingMore,x=Object(o.useCallback)((function(){h&&v.getSubmissionList(h)}),[v,h]),q=Object(o.useCallback)((function(){if(!N){var e=y.submissionList,t=e.submissions,n=e.hasNext,i=e.lastKey;n&&d&&!C&&v.loadMoreSubmissonList({questionSlug:h,offset:t.length,lastKey:i})}}),[v,h,N,y,C]),F=Object(o.useCallback)((function(){v.getNextChallengePairs(h)}),[v,h]),T=Object(o.useCallback)((function(e){var t=e.submissionId;t&&window.open(Ua.a.main.paths.submissionDetail.home({submissionId:t}))}),[]),w=(y.submissionList&&y.submissionList.submissions||[]).filter((function(e){return e})).map((function(e){var t=e,n=t.id,a=t.lang,r=t.runtime,o=t.memory,s=t.statusDisplay,l=t.timestamp,u=t.url,c=t.isPending,d=Object(i.__rest)(t,["id","lang","runtime","memory","statusDisplay","timestamp","url","isPending"]);return Object(i.__assign)({id:n||"",lang:a||"",runtime:r||"",memory:o||"",statusDisplay:s||"",timestamp:l||0,url:u||"",isPending:c||"Not Pending"},d)})),I=Object(o.useCallback)((function(e){var t=f.draftList.articles,n=t.length?t[0].slug:null;if(n)m(n);else{var i=e.code,a=e.lang;p({questionSlug:h,content:"### \u89e3\u9898\u601d\u8def\n\u6b64\u5904\u64b0\u5199\u89e3\u9898\u601d\u8def\n\n### \u4ee3\u7801\n\n```"+a+"\n"+i+"\n```"})}oi.a.questionDetail.writeAcSolution()}),[f.draftList.articles]);return s.a.createElement(Bu.a,{isActive:d,isAuthenticated:!!j.isSignedIn,getSubmissions:x,getMoreSubmissions:q,submissions:w,loading:N,submitResult:O,fetchingMore:C,nextChallengePairs:k,getNextChallengePairs:F,onClickResultDetail:T,writeAcSolution:I,testcaseLink:_})})),Ku=Object(_t.a)(Et.c)((function(e){return e.solution}))(Uu),Gu=Qt.b.DESCRIPTION,Yu=Qt.b.SOLUTION,Ju=Qt.b.SUBMISSIONS,Xu=Qt.b.CN_COMMENTS,Zu=[Gu,Xu,Yu,Ju],ec=(($u={})[Gu]={key:Gu,Title:Object(Fu.c)("\u9898\u76ee\u63cf\u8ff0","\u63cf\u8ff0"),icon:"subtitles",premiumSensitive:!1,Component:Eu,track:function(e){return oi.a.questionDetail.detail.description(e)}},$u[Xu]=Pu,$u[Yu]={key:Yu,Title:function(e){var t=Object(o.useMemo)((function(){return Object(g.a)(v.k)}),[]),n=Object(i.__read)(Object(o.useState)(!0),2),a=n[0],r=n[1],l=Object(o.useCallback)((function(){t.set(Vu,!0),r(!0)}),[r]),u=Object(o.useCallback)((function(e){e.stopPropagation(),l()}),[l]);Object(Ru.a)((function(){setTimeout((function(){!Object(jt.j)()&&!t.get(Vu,e.isActive)&&r(!1)}),1500)}),[]),Object(Ru.a)((function(){!a&&e.isActive&&l()}),[a,e.isActive]);var c=s.a.createElement(Au,null,s.a.createElement("p",null,"\u9898\u89e3\u65b0\u529f\u80fd\u4e0a\u7ebf\u5566\uff01\u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u64b0\u5199\u4f60\u7684\u89e3\u9898\u601d\u8def\u4e0e\u5927\u5bb6\u4e00\u540c\u4ea4\u6d41\u5206\u4eab\u3002"),s.a.createElement(Qu,null,s.a.createElement(Lu,{minWidth:"60px",onClick:u,size:"xs"},"\u5173\u95ed"),s.a.createElement(Lu,{minWidth:"60px",onClick:l,size:"xs",kind:"primary"},"\u67e5\u770b")));return s.a.createElement(ul.a,{isActive:!a,content:c,placement:"bottom"},s.a.createElement(Mu,null,s.a.createElement(Du,null)))},Component:So,premiumSensitive:!0},$u[Ju]={key:Ju,Title:Object(Fu.c)("\u63d0\u4ea4\u8bb0\u5f55","\u5386\u53f2"),icon:"clock",premiumSensitive:!0,Component:Ku,track:function(e){return oi.a.questionDetail.detail.submissions(e)}},$u),tc=Object(o.memo)((function(e){var t=Object(i.__read)(Object(r.a)(E.a),1)[0],n=t.question,a=t.questionSlug,l=t.isQuestionLocked,u=t.userIsAuthor,d=Object(o.useCallback)((function(t){e.changeTab(t);var n=ec[t].track;null===n||void 0===n||n(a)}),[e.changeTab]);return Object(o.useEffect)((function(){l&&(oi.a.questionDetail.paidOnly.visitPaidOnlyQuestion(n.titleSlug),!1===u&&d(Gu))}),[l,u]),s.a.createElement(Ba.a,{className:(e.className||"")+" notranslate",id:"question-detail-main-tabs",tabPosition:"top",iconPosition:"left",activeKey:e.activeTab,width:"100%",tabWidth:120,isFluid:!0,onChange:d},function(e,t,n,i){return Va()(La()(ec),(function(e){var t=e.key;return Wa()(Zu,t)})).map((function(a){var r="",o=!0,l=i&&a.premiumSensitive;l?r="\u8bf7\u5148\u8ba2\u9605":o=!1;var u=a.key===t,d=s.a.createElement(Fu.b,{isActive:u,Title:a.Title,icon:a.icon,toolTipTitle:r}),p=xa.a.question(e,a.key);return s.a.createElement(Ba.a.Tab,{size:"sm",className:Wu.a.tabPane,disabled:o,title:d,key:a.key,link:p},n&&u&&!l&&s.a.createElement(c.a,null,s.a.createElement(a.Component,{key:"tab_"+a.key,isActive:u})))}))}(a,e.activeTab,e.showComponents,l))})),nc=Qt.b.DESCRIPTION;var ic,ac,rc=Object(o.memo)((function(e){var t=Object(i.__read)(Object(r.a)(E.a),1)[0],n=Bt()(Zu,e.tab)?e.tab:nc,a=e.changeTab,l=t.questionSlug,u=t.questionListName,d=t.question,p=Object(o.useCallback)((function(e){var t;(t=document.activeElement)&&t.blur(),a(e)}),[a]);return s.a.createElement(Ht.ResizeProvider,null,s.a.createElement("div",{className:Aa.a.sideTools},s.a.createElement("div",{className:Aa.a.wrapper},s.a.createElement(c.a,{className:Aa.a.errorWrap},s.a.createElement(tc,{showComponents:!0,activeTab:n,changeTab:p}))),s.a.createElement("div",{className:Aa.a.bottomContainer},s.a.createElement(c.a,null,s.a.createElement(Ra,{questionSlug:l,question:d,questionListName:u,device:$t})))))})),oc=function(e){return s.a.createElement(Lt.a,null,(function(t){return s.a.createElement(rc,Object(i.__assign)({},e,t))}))},sc=n("CbLq"),lc=function(e){var t,a,u=Object(i.__read)(Object(r.a)(E.a),2),d=u[0],p=u[1],m=Object(o.useContext)($e.c),f=Object(l.j)().tab,b=Object(l.h)(),g=m.isSignedIn,v=m.completedFeatureGuides,h=m.username,y=d.question,k=d.questionSlug,O=e.getDraftList,_=e.solutionDetail,S=e.isFeatureGuidesCompleted,j=function(e,t){return!(!e.isPaidOnly||t.isPremium)}(y,m),N=null===(t=_.article)||void 0===t?void 0:t.slug,C=null===(a=_.article)||void 0===a?void 0:a.author.username;Object(Nt.b)((function(){var e=!(null===v||void 0===v?void 0:v.includes(Qt.a));g&&e&&!S&&n.e(61).then(n.bind(null,"npnF")).then((function(e){var t=e.getSteps;sc.a.show({index:0,steps:t(),name:Qt.a,onUpdate:function(e,t){e&&"function"===typeof e.onExit&&e.onExit(),t&&"function"===typeof t.onEnter&&t.onEnter()},onFinish:function(){}})}))}),[g,v,S]),Object(o.useEffect)((function(){p.setQuestionLockedState({isQuestionLocked:j})}),[j]),Object(o.useEffect)((function(){k&&O(k)}),[k]),Object(o.useEffect)((function(){var e=null;C&&(e=C===h,p.setUserIsAuthor({userIsAuthor:e}))}),[h,C]),j&&N&&h===C&&"solution"===f&&b.push("/problems/"+k+"/my-solution/"+N);var x=y.title,q=y.translatedTitle,F=y.questionFrontendId,T=y.translatedContent,w=y.content,I=d.loading?"Loading Question...":q||x;d.loading||(I=F+". "+(q||x));var P=[T?Object(St.e)(T)+"\u3002":"",F+". "+x+": ",Object(St.e)(w)].filter(Boolean).join("");return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ct.a,{title:I,description:P}),s.a.createElement(xt.a,{Left:s.a.createElement(oc,null),Right:s.a.createElement(s.a.Fragment,null,s.a.createElement(c.a,null,Object(jt.j)()?s.a.createElement(Vt,null):s.a.createElement(zt,null)),s.a.createElement(c.a,null,s.a.createElement(At,{isQuestionLocked:j})))}))},uc=Object(_t.a)(Et.c)((function(e){return e.solution}))((function(e){return s.a.createElement(Lt.a,null,(function(t){var n=t.changeTab;return s.a.createElement(lc,Object(i.__assign)({},e,{changeTab:n}))}))})),cc=Ft()({loader:function(){return Promise.all([n.e(46),n.e(80)]).then(n.bind(null,"dgNK"))},loading:function(){return s.a.createElement(d.a,null)},webpack:function(){return["dgNK"]},modules:["main-note-pad"]}),dc=n("r7Gw"),pc=n.n(dc),mc=Object(C.a)("div",{target:"e1t1fzqp0"})(((ic={marginTop:0,transition:"margin-top 0.3s ease-in-out",background:x.a.grey(0),flex:"0 0 auto",zIndex:1})["&[data-status='exited']"]={display:"none"},ic["&[data-status='exiting'], &[data-status='entering']"]={marginTop:-40},ic["&[data-is-loading='true']"]={boxShadow:"none"},ic),"label:HeaderCn;"),fc=Object(a.b)({flexDirection:"row"},"label:errorWrap;"),bc=n("a9yc"),gc=Object(a.b)(bc.h,{body:(ac={overflow:"hidden"},ac["@media (max-width: "+wi.f+")"]={overflow:"auto"},ac),"::-webkit-scrollbar":{width:"10px",height:"10px"},"::-webkit-scrollbar-track":{background:"transparent"},"::-webkit-scrollbar-thumb":{background:x.a.grey(5,.3),borderRadius:0,outline:"none",border:"2px solid transparent",backgroundClip:"padding-box"}},"label:globalStyle;"),vc={".modal-container":{transform:"scale(-1.2, 1.2)"}},hc=n("lXyA"),yc=n.n(hc),kc=Object(g.a)(v.b,{expiredTime:2592e5});var Oc,_c=(Oc=uc,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e){return e.location!==this.props.location},t.prototype.render=function(){return s.a.createElement(Oc,Object(i.__assign)({},this.props))},t}(s.a.Component)),Sc=function(e){return s.a.createElement(u.a,{in:!e.fullScreen,timeout:{enter:0,exit:300}},(function(t){return s.a.createElement(mc,{"data-status":t,"data-is-loading":e.loading},s.a.createElement(c.a,{css:fc},s.a.createElement(m.a,{fluid:!0})))}))},jc=function(){return s.a.createElement(l.d,null,s.a.createElement(l.b,{path:"/problems/:questionSlug/:tab?",component:_c}))},Nc=function(e){return e.loading?s.a.createElement("div",{className:pc.a.loading},s.a.createElement(d.a,{isBlocking:!0})):null};var Ec=function(e){return function(t){function n(e){var n=t.call(this,e)||this;return n.handleToggleShowSourceQuestion=function(){n.setState((function(e){return{isSourceQuestion:!e.isSourceQuestion}}),(function(){h.set(v.d,n.state.isSourceQuestion)}))},n.state={isSourceQuestion:!!h.get(v.d,!1)},n}return Object(i.__extends)(n,t),n.prototype.render=function(){var t={isSourceQuestion:this.state.isSourceQuestion,toggleShowSourceQuestion:this.handleToggleShowSourceQuestion};return s.a.createElement(k,{value:t},s.a.createElement(e,Object(i.__assign)({},this.props)))},n}(o.Component)}((function(){var e,t,n,u,c,d=Object(i.__read)(Object(r.a)(E.a),2),m=d[0],f=d[1],b=Object(l.j)().questionSlug,g=Object(i.__read)(function(e){var t=Object(i.__read)(Object(o.useState)(!1),2),n=t[0],a=t[1],r=Object(i.__read)(Object(o.useState)(!1),2),s=r[0],l=r[1];Object(o.useEffect)((function(){var t=new Date,n=3===t.getMonth()&&1===t.getDate(),i="FOOL_DAY_SURPRISE_SHOWN_"+e;n&&e.match(/reverse|mirror/)&&!kc.get(i)&&(a(!0),oi.a.activity.foolDayClick(),kc.set(i,!0))}),[e]);var u=Object(o.useCallback)(yc()((function(){l(!0)})),[]);return Object(o.useEffect)((function(){n?(document.body.style.transform="scaleX(-1)",window.addEventListener("click",u)):(document.body.style.transform="initial",window.removeEventListener("click",u))}),[n]),[s,Object(o.useCallback)((function(){l(!1),a(!1)}),[])]}(b),2),v=g[0],h=g[1];return e=m.question,t=e.translatedTitle,n=e.title,u=e.isDailyQuestion,c=t||n,Object(o.useEffect)((function(){c&&S.a.dailyQuestionQuestionDetailPageExposure(c,String(u))}),[c,u]),Object(o.useEffect)((function(){f.updateQuestionSlug(b),f.getQuestionDetail()}),[b]),m.loading||m.question?s.a.createElement(s.a.Fragment,null,s.a.createElement(a.a,{styles:gc}),s.a.createElement("div",{className:pc.a.layout},s.a.createElement(Sc,{fullScreen:m.fullScreen,loading:m.loading}),s.a.createElement("div",{className:pc.a.main},s.a.createElement(jc,null),s.a.createElement(cc,{questionSlug:m.questionSlug,isQuestionLocked:m.isQuestionLocked}),s.a.createElement(Nc,{loading:m.loading}))),!m.loading&&m.question.isDailyQuestion&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Be,null),s.a.createElement(ft,null)),m.submitResult.submissionId&&!m.question.isDailyQuestion&&s.a.createElement(yt,null),s.a.createElement(Ot,null),v&&s.a.createElement(a.a,{styles:vc}),s.a.createElement(p.a,{type:"success",title:"\u611a\u4eba\u8282\u5feb\u4e50",isActive:v,cancelText:"\u5173\u95ed",confirmText:"\u5f00\u59cb\u505a\u9898",onClose:h,onConfirm:h,onCancel:h,className:pc.a.reversedModal},"\u5f00\u59cb\u5237\u9898\u5566\uff01")):s.a.createElement(l.a,{to:"/404"})}));t.default=Ec},GpFR:function(e,t,n){e.exports={header:"header__22S7","mobile-panel":"mobile-panel__18NH",mobilePanel:"mobile-panel__18NH","mobile-header":"mobile-header__3BXX",mobileHeader:"mobile-header__3BXX","topic-tags":"topic-tags__1S89",topicTags:"topic-tags__1S89","topic-tag":"topic-tag__1z4-",topicTag:"topic-tag__1z4-"}},H2Uy:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m}));var i,a=n("D57K"),r=n("f7k3"),o=n("TMWK"),s=n("fgAA"),l=Object(r.d)(i||(i=Object(a.__makeTemplateObject)(["\n  0% {\n    bottom: 0;\n  }\n  100% {\n    bottom: -800%;\n  }\n"],["\n  0% {\n    bottom: 0;\n  }\n  100% {\n    bottom: -800%;\n  }\n"]))),u=Object(o.a)("div",{target:"evbxuw60"})({width:"100%",boxSizing:"border-box",display:"flex"},"label:SkeletonWrap;"),c=Object(o.a)("div",{target:"evbxuw61"})({backgroundColor:s.a.grey(4),position:"relative",overflow:"hidden","&:before":{content:'""',borderRadius:"3px",position:"absolute",width:"100%",height:"900%",background:"red",bottom:0,backgroundImage:"linear-gradient(-5deg, "+s.a.grey(1)+" 30%, "+s.a.grey(0)+" 50%, "+s.a.grey(1)+" 70%)",animation:"1.4s "+l+" linear infinite"}},"label:SkeletonItem;"),d=Object(o.a)(c,{target:"evbxuw62"})({width:"80px",height:"80px",marginRight:"15px"},"label:Avatar;"),p=Object(o.a)("div",{target:"evbxuw63"})({flexGrow:1},"label:ParagraphWrap;"),m=Object(o.a)(c,{target:"evbxuw64"})({width:"100%",height:"20px",borderRadius:"4px",boxSizing:"border-box","& + &":{marginTop:"10px"},"&:last-of-type":{width:"60%"}},"label:ParagraphItem;")},IQPx:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i,a=n("ERkP"),r=n.n(a),o=n("bGPS"),s=n("TMWK"),l=n("fgAA"),u=n("IDXw"),c=Object(s.a)("div",{target:"e5m8sk90"})(((i={padding:"20px",marginTop:"130px",textAlign:"center",webkitFontSmoothing:"antialiased"})["@media (max-width: "+u.l+")"]={margin:"20px 0"},i),"label:Placeholder;"),d=Object(s.a)("h4",{target:"e5m8sk91"})({marginBottom:"40px",color:l.a.grey(4)},"label:PlaceholderTitle;"),p=function(e){var t=e.title,n=e.className,i=e.style,a=e.children;return r.a.createElement(o.a,null,r.a.createElement(c,{className:n,style:i},r.a.createElement(d,null,t),a))};p.defaultProps={className:"",style:{},children:null}},"L+TT":function(e,t){e.exports="https://static.leetcode-cn.com/cn-mono-assets/production/assets/bottom_Left.1abe4fb1.png"},MeeK:function(e,t,n){e.exports={avatar:"avatar__3dBl"}},"N+KC":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("D57K"),a=n("ERkP"),r=n.n(a),o=n("GG6d"),s=r.a.forwardRef((function(e,t){return r.a.createElement(o.a,Object(i.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),r.a.createElement("path",{fillRule:"evenodd",d:"M7.913 19.071l7.057-7.078-7.057-7.064a1 1 0 011.414-1.414l7.764 7.77a1 1 0 010 1.415l-7.764 7.785a1 1 0 01-1.414-1.414z",clipRule:"evenodd"}))}))},Nrjr:function(e,t){e.exports="https://static.leetcode-cn.com/cn-mono-assets/production/assets/dot.3befca7f.png"},OLCK:function(e,t,n){},OPGP:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n("TMWK"),a=n("fgAA"),r=Object(i.a)("div",{target:"ekjm8nw0"})((function(e){return{display:"inline-block","> span + span":{marginLeft:e.radioSpacing}}}),"label:StyledRadioGroup;"),o=Object(i.a)("div",{target:"ekjm8nw1"})({display:"inline-block",height:"100%","> span":{":first-of-type":{borderRadius:"4px 0 0 4px"},":last-of-type":{borderRadius:"0 4px 4px 0"},":not(:first-of-type)":{borderLeftWidth:0,"&:hover":{boxShadow:"-1px 0 0 0 "+a.a.primary(5)}},"&[disabled]":{"+ span":{boxShadow:"-1px 0 0 0 "+a.a.primary(5)}}}},"label:StyledRadioButtonGroup;")},PQvM:function(e,t){e.exports="https://static.leetcode-cn.com/cn-mono-assets/production/assets/recheck_in_rule_03.7dfbdd59.png"},Pggp:function(e,t,n){e.exports={"question-fast-picker-wrapper":"question-fast-picker-wrapper__3JMn",questionFastPickerWrapper:"question-fast-picker-wrapper__3JMn","picker-pagination-handlers":"picker-pagination-handlers__3dWm",pickerPaginationHandlers:"picker-pagination-handlers__3dWm","question-fast-picker":"question-fast-picker__3qGP",questionFastPicker:"question-fast-picker__3qGP","space-filler":"space-filler__2E6x",spaceFiller:"space-filler__2E6x","handler-text":"handler-text__1FDD",handlerText:"handler-text__1FDD","picker-menu-handler":"picker-menu-handler__1qoy",pickerMenuHandler:"picker-menu-handler__1qoy","picker-handlers":"picker-handlers__2tMY",pickerHandlers:"picker-handlers__2tMY","shuffle-handler":"shuffle-handler__3i8W",shuffleHandler:"shuffle-handler__3i8W","pagination-screen":"pagination-screen__DnGE",paginationScreen:"pagination-screen__DnGE","icon-bug":"icon-bug__2FGz",iconBug:"icon-bug__2FGz"}},R6Jx:function(e,t,n){"use strict";t.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"toggleQuestionPicker"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isOpen"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"toggleQuestionPicker"},arguments:[{kind:"Argument",name:{kind:"Name",value:"isOpen"},value:{kind:"Variable",name:{kind:"Name",value:"isOpen"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{source:{body:"mutation toggleQuestionPicker($isOpen: Boolean!) {\n  toggleQuestionPicker(isOpen: $isOpen) @client\n}\n"}},operationName:"toggleQuestionPicker",defName:"toggleQuestionPicker"}},RVaT:function(e,t,n){e.exports={panel:"panel__3FsF",header:"header__x00I","icon-wrapper":"icon-wrapper__1s7Q",iconWrapper:"icon-wrapper__1s7Q",closable:"closable__2o6u",toggle:"toggle__3urg",active:"active__3k9J",collapse:"collapse__1pfX","content-wrapper":"content-wrapper__1P69",contentWrapper:"content-wrapper__1P69",entering:"entering__133H",exiting:"exiting__xpXF",exited:"exited__3JKH",content:"content__1WdM",warn:"warn__3hpv panel__3FsF",warning:"warning__34ov panel__3FsF","header-content":"header-content__tYzu",headerContent:"header-content__tYzu"}},"RY/G":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("0Wfq");var i=n("BLmU"),a=n("g1oq"),r="/problems/:questionSlug",o=r+"/discuss/:topicId/:topicSlug",s=(Object(i.b)(r),Object(i.b)(o),Object(i.b)("/problems/:questionSlug/discuss/:topicId/:topicSlug/:commentId/"),a.b.DESCRIPTION),l="/problems",u={question:function(e,t){var n=t;return t===s&&(n=""),n?Object(i.a)(l,e,n,"/"):Object(i.a)(l,e,"/")},discuss:function(e,t,n,a){return t&&n&&a?Object(i.a)(l,e,"discuss",t,n,a):t&&n?Object(i.a)(l,e,"discuss",t,n):t?Object(i.a)(l,e,"discuss",t):Object(i.a)(l,e,"discuss")},comments:function(e){return Object(i.a)(l,e,"comments")},tag:function(e){return"/tag/"+e+"/"},submission:function(e){return"/submissions/detail/"+e+"/"},submissionTestCase:function(e){return"/submissions/detail/"+e+"/testcase"},profile:function(){return"/profile/account/"},premium:function(){return"/premium"}}},ReCL:function(e,t,n){e.exports={"option-autocomplete":"option-autocomplete__3-dT",optionAutocomplete:"option-autocomplete__3-dT"}},RpkY:function(e,t){e.exports="https://static.leetcode-cn.com/cn-mono-assets/production/assets/recheck_in_rule_01.0ef75b06.png"},"T+5a":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("43mT"),a=Object(i.a)({dailyQuestionQuestionTitleExposure:function(){return{gio:{data:{}}}},dailyQuestionQuestionTitleClick:function(){return{gio:{data:{}}}},dailyQuestionGoSolveQuestionExposure:function(){return{gio:{data:{}}}},dailyQuestionGoSolveQuestionClick:function(){return{gio:{data:{}}}},dailyQuestionFinishExposure:function(){return{gio:{data:{}}}},dailyQuestionRuleExposure:function(){return{gio:{data:{}}}},dailyQuestionRuleClick:function(){return{gio:{data:{}}}},dailyQuestionCompleteModalExposure:function(){return{gio:{data:{}}}},dailyQuestionReceiveScoreClick:function(){return{gio:{data:{}}}},dailyQuestionCloseModalClick:function(){return{gio:{data:{}}}},dailyQuestionScanQrcodeExposure:function(){return{gio:{data:{}}}},dailyQuestionRemarkModalExposure:function(){return{gio:{data:{}}}},dailyQuestionUseRemarkCardClick:function(){return{gio:{data:{}}}},dailyQuestionAbandonRemarkClick:function(){return{gio:{data:{}}}},dailyQuestionCloseRemarkModalClick:function(){return{gio:{data:{}}}},dailyQuestionRemarkCurrentMonthExposure:function(){return{gio:{data:{}}}},dailyQuestionRemarkMonthCompleteExposure:function(){return{gio:{data:{}}}},dailyQuestionRemarkMonthNotCompleteExposure:function(){return{gio:{data:{}}}},dailyQuestionCheckMedalClick:function(){return{gio:{data:{}}}},dailyQuestionQuestionDetailPageExposure:function(e,t){return{gio:{data:{daily_question_title:e,daily_question_is_daily_question:t}}}},dailyQuestionSubmitButtonClick:function(e,t){return{gio:{data:{daily_question_title:e,daily_question_is_daily_question:t}}}},dailyQuestionSubmitSuccessPageExposure:function(e,t){return{gio:{data:{daily_question_title:e,daily_question_is_daily_question:t}}}}})},"TO/R":function(e,t,n){e.exports={"result-container":"result-container__ADcY",resultContainer:"result-container__ADcY",container:"container__1yCt",submissions:"submissions__1CMU","load-more":"load-more__1hlY",loadMore:"load-more__1hlY",loading:"loading__1jo2",ac:"ac__g_mU",pending:"pending__EbGu",error:"error__2ul_",table:"table__1_IV","status-column":"status-column__2fhn",statusColumn:"status-column__2fhn","time-column":"time-column__yRxK",timeColumn:"time-column__yRxK","lang-column":"lang-column__1J97",langColumn:"lang-column__1J97","memory-column":"memory-column__3--q",memoryColumn:"memory-column__3--q","runtime-column":"runtime-column__3F_8",runtimeColumn:"runtime-column__3F_8","custom-td":"custom-td__1SeH",customTd:"custom-td__1SeH"}},TZ8k:function(e,t){e.exports="https://static.leetcode-cn.com/cn-mono-assets/production/assets/bottom_right.c6b56b73.png"},TdFa:function(e,t,n){e.exports={header:"header__2ao3","btn-wrapper":"btn-wrapper__PZW-",btnWrapper:"btn-wrapper__PZW-"}},UahQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("MAWP");var i=function(e){switch(e.response?e.response.status:e.message){case 403:return"\u60a8\u5fc5\u987b\u767b\u5f55\u540e\u624d\u80fd\u63d0\u4ea4\u89e3\u7b54\uff01";case 429:return"\u4f60\u7684\u63d0\u4ea4\u8fc7\u4e8e\u9891\u7e41\uff0c\u8bf7\u7a0d\u5019\u91cd\u8bd5";case 503:return"\u6b64\u670d\u52a1\u76ee\u524d\u65e0\u6cd5\u4f7f\u7528\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5";default:return"\u53d1\u751f\u672a\u77e5\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff0c\u5982\u679c\u6b64\u9519\u8bef\u4ecd\u7136\u5b58\u5728\uff0c\u8bf7\u4e0e\u6211\u4eec\u8054\u7cfb"}}},"Wfj/":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("D57K"),a=n("ERkP"),r=n.n(a),o=n("zCf4"),s=n("g1oq"),l=n("RY/G"),u=s.b.DESCRIPTION,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.changeTab=function(e,n){void 0===e&&(e=""),void 0===n&&(n=!1);var i=t.props.match.params,a=i.questionSlug;e!==i.tab&&(n?t.props.history.replace(l.a.question(a,e)):t.props.history.push(l.a.question(a,e)))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.children;return e?e({tab:this.props.match.params.tab||u,changeTab:this.changeTab}):null},t}(r.a.PureComponent),d=Object(o.l)(c)},XExS:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i=n("D57K"),a=n("K/af"),r=n("ERkP"),o=n.n(r),s=n("ZRwv"),l=n("34li"),u=n("DuHN"),c=(n("IJu9"),n("1l9P")),d=n("nPqx"),p=n("Y9Gt"),m=n("b+y+"),f=n("zRE0"),b=n("htYk"),g=n("/usP"),v=n("TMWK"),h=n("fgAA"),y=n("/NrN"),k=Object(v.a)("ul",{target:"e1hi8yt10"})({width:"110px",margin:"0",padding:"0",listStyle:"none","& li":{fontSize:"12px",lineHeight:"30px",color:h.a.red(5),background:h.a.grey(0),textAlign:"center",cursor:"pointer","&:hover":{background:h.a.grey(1)}}},"label:AdminMenu;"),O=Object(v.a)(y.a,{target:"e1hi8yt11"})({padding:"0px",margin:"0 8px",height:"auto",color:h.a.red(5),"&:hover:not([disabled])":{color:h.a.red(5)}},"label:AdminButton;"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={withdrawVisible:!1,deleteConfirmVisible:!1},t.onWithdrawOk=function(){t.props.setSolutionArticleAsWithdrawed(t.props.article.slug)},t.renderEditorsPick=function(){var e=t.props.article.isEditorsPick;return o.a.createElement("li",{onClick:t.onClickEditorPick},e?"\u53d6\u6d88\u7cbe\u9009":"\u8bbe\u4e3a\u7cbe\u9009")},t.onClickEditorPick=function(){return t.props.setSolutionArticleAsEditorsPick({slug:t.props.article.slug,value:!t.props.article.isEditorsPick})},t.renderOfficialPick=function(){var e=t.props.article.byLeetcode;return o.a.createElement("li",{onClick:t.onClickOfficialPick},e?"\u53d6\u6d88\u5b98\u65b9":"\u8bbe\u4e3a\u5b98\u65b9")},t.onClickOfficialPick=function(){return t.props.setSolutionArticleAsOfficial({slug:t.props.article.slug,value:!t.props.article.byLeetcode})},t.renderDelete=function(){var e=t.props.article.status===l.m.Removed;return o.a.createElement("li",{onClick:t.onClickDelete},e?"\u6062\u590d\u5220\u9664":"\u5220\u9664")},t.onDelete=function(){t.props.setSolutionArticleAsRemoved({slug:t.props.article.slug,value:t.props.article.status!==l.m.Removed}),t.onCloseDelete()},t.renderSink=function(){var e=t.props.article,n=e.sunk,i=e.byLeetcode,a=e.isEditorsPick;return i||a?null:o.a.createElement("li",{onClick:t.onClickSink},n?"\u53d6\u6d88\u4e0b\u6c89":"\u4e0b\u6c89")},t.renderRemove=function(){return o.a.createElement("li",{onClick:t.onShowWithdraw},"\u4e0b\u7ebf")},t.renderMute=function(){return o.a.createElement("li",null,o.a.createElement(b.a,{contentType:l.n.Solution,uuid:t.props.article.uuid}))},t.onClickSink=function(){t.props.setSolutionArticleSink({slug:t.props.article.slug,sunk:!t.props.article.sunk})},t.onClickDelete=function(){return t.setState({deleteConfirmVisible:!0})},t.onCloseDelete=function(){return t.setState({deleteConfirmVisible:!1})},t.renderMenu=function(){return o.a.createElement(k,null,t.renderEditorsPick(),t.renderOfficialPick(),t.renderMute(),t.renderDelete(),t.renderSink(),t.renderRemove())},t.onShowWithdraw=function(){return t.setState({withdrawVisible:!0})},t.onCloseWithdraw=function(){return t.setState({withdrawVisible:!1})},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){!e.adminOperationResult.message&&this.props.adminOperationResult.message&&this.props.adminOperationResult.slug===this.props.article.slug&&(u.b.error(this.props.adminOperationResult.message),this.props.resetAdminOperationResult())},t.prototype.render=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{trigger:"click",content:this.renderMenu(),placement:"bottom"},o.a.createElement(O,{kind:"transparent",prefixIcon:o.a.createElement(m.a,null)})),o.a.createElement(g.a,{visible:this.state.withdrawVisible,warningText:"\u6587\u7ae0\u4e0b\u7ebf\u540e\u5c06\u9000\u56de\u81f3\u7528\u6237\u8349\u7a3f",resourceType:t.resourceType,resourceId:this.props.article.identifier,onClose:this.onCloseWithdraw,onOk:this.onWithdrawOk,uuid:this.props.article.uuid}),o.a.createElement(d.a,{visible:this.state.deleteConfirmVisible,type:"threat",onOk:this.onDelete,onClose:this.onCloseDelete},"\u60a8\u786e\u8ba4\u8981",this.props.article.status===l.m.Removed?"\u6062\u590d":"\u5220\u9664","\u8fd9\u7bc7\u9898\u89e3\u5417\uff1f"))},t.resourceType=l.Tb.Article,t}(o.a.PureComponent),S=Object(c.a)(f.c)((function(e){return{adminOperationResult:e.solution.adminOperationResult}}))(_),j=function(e){var t=Object(i.__read)(Object(a.a)(s.a),1)[0].globalData;return(null===t||void 0===t?void 0:t.commonNojPermissionTypes.includes(l.Bb.ColumnsReview))?o.a.createElement(S,Object(i.__assign)({},e)):null}},YGLD:function(e,t,n){e.exports={container:"container__35eI",label:"label__1TJ4",contributors:"contributors__1Ef7"}},ZB2O:function(e,t,n){e.exports={"question-picker-detail":"question-picker-detail__2A9V",questionPickerDetail:"question-picker-detail__2A9V",show:"show__GfjG"}},Zz61:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("ERkP"),a=n.n(i),r=n("fSLP"),o=n("OPGP"),s=function(e){var t=e.options,n=e.onValueChange,i=e.checkedValue,s=e.radioSpacing,l=void 0===s?"8px":s,u=e.className,c=e.disabled,d=void 0!==c&&c;return a.a.createElement(o.b,{role:"radiogroup",radioSpacing:l,className:u},t.map((function(e){var t=e.label,o=e.value,s=e.disabled,l=void 0!==s&&s;return a.a.createElement(r.a,{key:o,value:o,checked:i===o,disabled:d||l,onValueChange:n},t)})))}},aH7E:function(e,t,n){"use strict";n.d(t,"a",(function(){return Q}));var i=n("D57K"),a=n("5Nzd"),r=n("u3dr"),o=n("2wT7"),s=n("9EWH"),l=n("pN2L"),u=n("0cIN"),c=n("d9YI"),d=n("HnWI"),p=n("eb+u"),m=n("AouM"),f=n("Jg5f"),b=n("W/Ou"),g=n("4HYP"),v=n("IMYO"),h=n("3n3h"),y=n("rzNM"),k=n("wUZp"),O=n("B07F"),_=n("l8fx"),S=n("0E3S"),j=n("7J95"),N=n("UahQ"),E=n("2DAU"),C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"questionData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"titleSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"question"},arguments:[{kind:"Argument",name:{kind:"Name",value:"titleSlug"},value:{kind:"Variable",name:{kind:"Name",value:"titleSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionFrontendId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"categoryTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boundTopicId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedContent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPaidOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"difficulty"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dislikes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isLiked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"similarQuestions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"langToValidPlayground"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topicTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"companyTagStats"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"codeSnippets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lang"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"langSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stats"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"solution"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canSeeDetail"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sampleTestCase"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"metaData"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"judgerAvailable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"judgeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mysqlSchemas"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enableRunCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"envInfo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"book"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pressName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortDescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullDescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookImgUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pressImgUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isSubscribed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDailyQuestion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dailyRecordStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editorType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ugcQuestionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"style"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exampleTestcases"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query questionData($titleSlug: String!) {\n  question(titleSlug: $titleSlug) {\n    questionId\n    questionFrontendId\n    categoryTitle\n    boundTopicId\n    title\n    titleSlug\n    content\n    translatedTitle\n    translatedContent\n    isPaidOnly\n    difficulty\n    likes\n    dislikes\n    isLiked\n    similarQuestions\n    contributors {\n      username\n      profileUrl\n      avatarUrl\n    }\n    langToValidPlayground\n    topicTags {\n      name\n      slug\n      translatedName\n    }\n    companyTagStats\n    codeSnippets {\n      lang\n      langSlug\n      code\n    }\n    stats\n    hints\n    solution {\n      id\n      canSeeDetail\n    }\n    status\n    sampleTestCase\n    metaData\n    judgerAvailable\n    judgeType\n    mysqlSchemas\n    enableRunCode\n    envInfo\n    book {\n      id\n      bookName\n      pressName\n      source\n      shortDescription\n      fullDescription\n      bookImgUrl\n      pressImgUrl\n      productUrl\n    }\n    isSubscribed\n    isDailyQuestion\n    dailyRecordStatus\n    editorType\n    ugcQuestionId\n    style\n    exampleTestcases\n  }\n}\n"}},operationName:"questionData",defName:"question"},x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"submissions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"lastKey"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"questionSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submissionList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"lastKey"},value:{kind:"Variable",name:{kind:"Name",value:"lastKey"}}},{kind:"Argument",name:{kind:"Name",value:"questionSlug"},value:{kind:"Variable",name:{kind:"Name",value:"questionSlug"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"connection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"submissionList",block:!1}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"questionSlug",block:!1}]}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lastKey"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasNext"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statusDisplay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lang"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"runtime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPending"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memory"},arguments:[],directives:[]}]}}]}}]}}],loc:{source:{body:'query submissions(\n  $offset: Int!\n  $limit: Int!\n  $lastKey: String\n  $questionSlug: String!\n) {\n  submissionList(\n    offset: $offset\n    limit: $limit\n    lastKey: $lastKey\n    questionSlug: $questionSlug\n  ) @connection(key: "submissionList", filter: ["questionSlug"]) {\n    lastKey\n    hasNext\n    submissions {\n      id\n      statusDisplay\n      lang\n      runtime\n      timestamp\n      url\n      isPending\n      memory\n    }\n  }\n}\n'}},operationName:"submissions",defName:"submissionList"},q={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"nextChallengePairs"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"titleSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"question"},arguments:[{kind:"Argument",name:{kind:"Name",value:"titleSlug"},value:{kind:"Variable",name:{kind:"Name",value:"titleSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"questionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nextChallengePairs"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"query nextChallengePairs($titleSlug: String!) {\n  question(titleSlug: $titleSlug) {\n    questionId\n    nextChallengePairs\n  }\n}\n"}},operationName:"nextChallengePairs",defName:"question"},F=n("Vw2C"),T=n("SYvJ"),w={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"unsubscribeQuestion"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"questionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unsubscribeQuestion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"questionId"},value:{kind:"Variable",name:{kind:"Name",value:"questionId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation unsubscribeQuestion($questionId: String!) {\n  unsubscribeQuestion(questionId: $questionId) {\n    ok\n  }\n}"}},operationName:"unsubscribeQuestion",defName:"unsubscribeQuestion"},I={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"subscribeQuestion"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"questionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscribeQuestion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"questionId"},value:{kind:"Variable",name:{kind:"Name",value:"questionId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ok"},arguments:[],directives:[]}]}}]}}],loc:{source:{body:"mutation subscribeQuestion($questionId: String!) {\n  subscribeQuestion(questionId: $questionId) {\n    ok\n  }\n}"}},operationName:"subscribeQuestion",defName:"subscribeQuestion"},P=n("L6nh"),R=S.a.defaultJudgerState,D=S.a.defaultSubmitResult,A=S.a.defaultInterpretResult,Q=function(e){function t(t,n,a){var r=e.call(this)||this;return r.client=t,r.judger=n,r.rxAxios=a,r.defaultState=Object(i.__assign)({questionSlug:"",questionListName:"",fullScreen:!1,question:{},loading:!0,submission:{loading:!1,fetchingMore:!1,submissionList:{lastKey:"",hasNext:!1,submissions:[]}},commentNum:null,solutionCount:0,nextChallengePairs:[],fetchingCode:!1,isQuestionLocked:!1,userIsAuthor:null},R),r}var n,o,Q,L,M,V,z,W,B,H,$,U,K,G,Y,J,X,Z,ee,te,ne,ie,ae,re,oe,se,le,ue,ce,de,pe,me,fe;return Object(i.__extends)(t,e),t.prototype.noop=function(e){return e},t.prototype.updateQuestionSlug=function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{questionSlug:t})},t.prototype.updateFullScreen=function(e){return Object(i.__assign)(Object(i.__assign)({},e),{fullScreen:!e.fullScreen})},t.prototype.updateLoading=function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{loading:t})},t.prototype.updateQuestion=function(e,t){var n=t.question,a=t.loading;return Object(i.__assign)(Object(i.__assign)({},e),{question:Object(i.__assign)(Object(i.__assign)({},n),{stats:JSON.parse(n.stats),metaData:JSON.parse(n.metaData),langToValidPlayground:JSON.parse(n.langToValidPlayground),companyTagStats:JSON.parse(n.companyTagStats)}),loading:a})},t.prototype.updateSubmission=function(e,t){var n=t.submission||e.submission,a=t.submitResult||e.submitResult,r=n.submissionList.submissions||[],o=a.submissionId,s=a.lang,l=a.runtime,u=a.memory,c=a.statusMsg;if(o){var d={id:o,isPending:"Not Pending",lang:s||"",runtime:l||"",memory:u||"",statusDisplay:c||"",url:"/submissions/detail/"+o+"/",timestamp:""+(new Date).getTime()/1e3},p=Object(i.__spread)(r);return p.length&&p[0]&&p[0].id===d.id?p[0]=d:p.unshift(d),Object(i.__assign)(Object(i.__assign)({},e),{submission:Object(i.__assign)(Object(i.__assign)({},n),{submissionList:Object(i.__assign)(Object(i.__assign)({},n.submissionList),{submissions:p})})})}return Object(i.__assign)(Object(i.__assign)({},e),{submission:n})},t.prototype.updateCommentNum=function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{commentNum:t})},t.prototype.updateSolutionCount=function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{solutionCount:t})},t.prototype.updateFetchingCode=function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{fetchingCode:t})},t.prototype.updateStatus=function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{status:t})},t.prototype.updateSubmitResult=function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{submitResult:t,status:t.status})},t.prototype.updateInterpretResult=function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{interpretResult:t,status:t.status})},t.prototype.cleanInterpretResult=function(e){return Object(i.__assign)(Object(i.__assign)({},e),{interpretResult:A,status:null})},t.prototype.cleanSubmitResult=function(e){return Object(i.__assign)(Object(i.__assign)({},e),{submitResult:D,status:null})},t.prototype.setNextChallenge=function(e,t){if(t.question&&t.question.nextChallengePairs)try{var n=JSON.parse(t.question.nextChallengePairs);return Object(i.__assign)(Object(i.__assign)({},e),{nextChallengePairs:n})}catch(t){return e}return e},t.prototype.setQuestionLockedState=function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{isQuestionLocked:t.isQuestionLocked})},t.prototype.setUserIsAuthor=function(e,t){return Object(i.__assign)(Object(i.__assign)({},e),{userIsAuthor:t.userIsAuthor})},t.prototype.getQuestionDetail=function(e,t){var n=this;return e.pipe(Object(p.a)(t),Object(m.a)((function(e){var t=Object(i.__read)(e,2)[1];return n.client.watchQuery({query:C,variables:{titleSlug:t.questionSlug}}).pipe(Object(f.a)((function(e){var t=e.data.question;return t?n.getActions().updateQuestion({question:t,loading:!1}):n.getActions().noop()})),Object(b.a)(n.getActions().updateLoading(!0)))})))},t.prototype.getSubmissionList=function(e,t){var n=this;return e.pipe(Object(p.a)(t),Object(m.a)((function(e){var t=Object(i.__read)(e,2),a=t[0],r=t[1];return n.client.query({query:x,variables:{offset:0,limit:40,lastKey:null,questionSlug:a},fetchPolicy:"no-cache"}).pipe(Object(f.a)((function(e){var t=e.data.submissionList;return t?n.getActions().updateSubmission({submission:Object(i.__assign)(Object(i.__assign)({},r.submission),{submissionList:t,loading:!1})}):n.getActions().noop()})),Object(b.a)(n.getActions().updateSubmission({submission:Object(i.__assign)(Object(i.__assign)({},r.submission),{loading:!0})})))})))},t.prototype.loadMoreSubmissonList=function(e,t){var n=this;return e.pipe(Object(p.a)(t),Object(m.a)((function(e){var t=Object(i.__read)(e,2),a=t[0],r=a.questionSlug,o=a.offset,s=a.lastKey,l=t[1];return n.client.query({query:x,variables:{offset:o,limit:20,lastKey:s,questionSlug:r},fetchPolicy:"no-cache"}).pipe(Object(f.a)((function(e){var t,a,r=e.data.submissionList;if(!r)return n.getActions().noop();var o=l.submission.submissionList,s=r.submissions,u=r.lastKey;if(u===o.lastKey)return n.getActions().noop();var c=s?Object(i.__spread)(null!==(t=o.submissions)&&void 0!==t?t:[],s):Object(i.__spread)(null!==(a=o.submissions)&&void 0!==a?a:[]);return n.getActions().updateSubmission({submission:{loading:!1,fetchingMore:!1,submissionList:{submissions:c,lastKey:u,hasNext:r.hasNext}}})})),Object(b.a)(n.getActions().updateSubmission({submission:Object(i.__assign)(Object(i.__assign)({},l.submission),{fetchingMore:!0,loading:!0})})))})))},t.prototype.getNextChallengePairs=function(e){var t=this;return e.pipe(Object(m.a)((function(e){return t.client.query({query:q,variables:{titleSlug:e}}).pipe(Object(k.a)("\u83b7\u53d6\u4e0b\u4e00\u4e2a\u6311\u6218\u5931\u8d25"),Object(f.a)((function(e){var n=e.data;return t.getActions().setNextChallenge(n)})))})))},t.prototype.getCommentNum=function(e,t){var n=this;return e.pipe(Object(p.a)(t),Object(m.a)((function(e){var t=Object(i.__read)(e,1)[0];return n.client.query({query:F.a,variables:{topicId:t}}).pipe(Object(f.a)((function(e){var t=e.data;return t.topic?n.getActions().updateCommentNum(t.topic.commentCount):n.getActions().noop()})),Object(b.a)(n.getActions().updateCommentNum(null)))})))},t.prototype.getSolutionCount=function(e,t){var n=this;return e.pipe(Object(p.a)(t),Object(m.a)((function(e){var t=Object(i.__read)(e,2)[1];return n.client.query({query:T.a,variables:{questionSlug:t.questionSlug}}).pipe(Object(f.a)((function(e){var t=e.data;return n.getActions().updateSolutionCount(t.solutionNum)})))})))},t.prototype.submitCode=function(e,t){var n=this;return e.pipe(Object(p.a)(t),Object(m.a)((function(e){var t=Object(i.__read)(e,2),a=t[0],r=t[1];return n.rxAxios.post("/problems/"+r.questionSlug+"/submit/",{data:JSON.stringify(a),headers:{"content-type":"application/json"}}).pipe(Object(m.a)((function(e){return n.judger.submitCode(Object(i.__assign)(Object(i.__assign)({},a),{submissionId:e.submission_id}))})),Object(g.b)((function(e){return"number"===typeof e?Object(l.a)(n.getActions().updateStatus(e)):Object(l.a)(n.getActions().updateSubmitResult(e),n.getActions().updateSubmission({submitResult:e}))})),Object(b.a)(n.getActions().updateSubmitResult(Object(i.__assign)(Object(i.__assign)({},D),{status:j.a.PD}))),Object(v.a)((function(e,t){var a;return 429===(null===(a=null===e||void 0===e?void 0:e.response)||void 0===a?void 0:a.status)?Object(u.a)(2e3).pipe(Object(h.a)(t)):Object(l.a)(n.getActions().updateSubmitResult(Object(i.__assign)(Object(i.__assign)({},D),{error:Object(N.a)(e)})))})))})))},t.prototype.interpretCode=function(e){var t=this;return e.pipe(Object(m.a)((function(e){var n=e.questionSlug,a=Object(i.__rest)(e,["questionSlug"]);return t.rxAxios.post("/problems/"+n+"/interpret_solution/",{data:JSON.stringify(a),headers:{"content-type":"application/json"}}).pipe(Object(g.b)((function(e){return t.judger.interpretCode(e)})),Object(f.a)((function(e){return"number"===typeof e?t.getActions().updateStatus(e):t.getActions().updateInterpretResult(e)})),Object(b.a)(t.getActions().updateInterpretResult(Object(i.__assign)(Object(i.__assign)({},A),{status:j.a.PD}))),Object(v.a)((function(e){return Object(l.a)(t.getActions().updateInterpretResult(Object(i.__assign)(Object(i.__assign)({},A),{error:Object(N.a)(e)})))})))})))},t.prototype.setIsSubscribed=function(e,t){e.question.isSubscribed=t},t.prototype.toggleSubscribed=function(e,t){var n=this;return e.pipe(Object(p.a)(t),Object(y.a)((function(e){var t=Object(i.__read)(e,2)[1].question,a=t.isSubscribed,r=t.questionId,o=a?w:I,s=a?"\u53d6\u6d88\u5173\u6ce8\u9898\u76ee\u5931\u8d25":"\u5173\u6ce8\u9898\u76ee\u5931\u8d25";return r?n.client.mutate({mutation:o,variables:{questionId:r}}).pipe(Object(k.a)(s),Object(f.a)((function(){return n.getActions().setIsSubscribed(!a)}))):c.a})))},Object(i.__decorate)([Object(r.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"noop",null),Object(i.__decorate)([Object(r.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,String]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"updateQuestionSlug",null),Object(i.__decorate)([Object(r.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"updateFullScreen",null),Object(i.__decorate)([Object(r.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,Boolean]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"updateLoading",null),Object(i.__decorate)([Object(r.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,Object]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"updateQuestion",null),Object(i.__decorate)([Object(r.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,Object]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"updateSubmission",null),Object(i.__decorate)([Object(r.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,Object]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"updateCommentNum",null),Object(i.__decorate)([Object(r.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,Number]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"updateSolutionCount",null),Object(i.__decorate)([Object(r.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,Boolean]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"updateFetchingCode",null),Object(i.__decorate)([Object(r.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(n="undefined"!==typeof j.a&&j.a)?n:Object]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"updateStatus",null),Object(i.__decorate)([Object(r.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(o="undefined"!==typeof E.UISubmitResult&&E.UISubmitResult)?o:Object]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"updateSubmitResult",null),Object(i.__decorate)([Object(r.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(Q="undefined"!==typeof E.UIInterpretResult&&E.UIInterpretResult)?Q:Object]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"updateInterpretResult",null),Object(i.__decorate)([Object(r.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"cleanInterpretResult",null),Object(i.__decorate)([Object(r.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object]),Object(i.__metadata)("design:returntype",Object)],t.prototype,"cleanSubmitResult",null),Object(i.__decorate)([Object(r.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,"function"===typeof(L="undefined"!==typeof P.NextChallengePairs&&P.NextChallengePairs.Query)?L:Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setNextChallenge",null),Object(i.__decorate)([Object(r.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setQuestionLockedState",null),Object(i.__decorate)([Object(r.d)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",[Object,Object]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setUserIsAuthor",null),Object(i.__decorate)([Object(r.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(M="undefined"!==typeof d.a&&d.a)?M:Object,"function"===typeof(V="undefined"!==typeof d.a&&d.a)?V:Object]),Object(i.__metadata)("design:returntype","function"===typeof(z="undefined"!==typeof d.a&&d.a)?z:Object)],t.prototype,"getQuestionDetail",null),Object(i.__decorate)([Object(r.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(W="undefined"!==typeof d.a&&d.a)?W:Object,"function"===typeof(B="undefined"!==typeof d.a&&d.a)?B:Object]),Object(i.__metadata)("design:returntype","function"===typeof(H="undefined"!==typeof d.a&&d.a)?H:Object)],t.prototype,"getSubmissionList",null),Object(i.__decorate)([Object(r.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof($="undefined"!==typeof d.a&&d.a)?$:Object,"function"===typeof(U="undefined"!==typeof d.a&&d.a)?U:Object]),Object(i.__metadata)("design:returntype","function"===typeof(K="undefined"!==typeof d.a&&d.a)?K:Object)],t.prototype,"loadMoreSubmissonList",null),Object(i.__decorate)([Object(r.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(G="undefined"!==typeof d.a&&d.a)?G:Object]),Object(i.__metadata)("design:returntype","function"===typeof(Y="undefined"!==typeof d.a&&d.a)?Y:Object)],t.prototype,"getNextChallengePairs",null),Object(i.__decorate)([Object(r.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(J="undefined"!==typeof d.a&&d.a)?J:Object,"function"===typeof(X="undefined"!==typeof d.a&&d.a)?X:Object]),Object(i.__metadata)("design:returntype","function"===typeof(Z="undefined"!==typeof d.a&&d.a)?Z:Object)],t.prototype,"getCommentNum",null),Object(i.__decorate)([Object(r.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(ee="undefined"!==typeof d.a&&d.a)?ee:Object,"function"===typeof(te="undefined"!==typeof d.a&&d.a)?te:Object]),Object(i.__metadata)("design:returntype","function"===typeof(ne="undefined"!==typeof d.a&&d.a)?ne:Object)],t.prototype,"getSolutionCount",null),Object(i.__decorate)([Object(r.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(ie="undefined"!==typeof d.a&&d.a)?ie:Object,"function"===typeof(ae="undefined"!==typeof d.a&&d.a)?ae:Object]),Object(i.__metadata)("design:returntype","function"===typeof(re="undefined"!==typeof d.a&&d.a)?re:Object)],t.prototype,"submitCode",null),Object(i.__decorate)([Object(r.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(oe="undefined"!==typeof d.a&&d.a)?oe:Object]),Object(i.__metadata)("design:returntype","function"===typeof(se="undefined"!==typeof d.a&&d.a)?se:Object)],t.prototype,"interpretCode",null),Object(i.__decorate)([Object(r.c)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(le="undefined"!==typeof s.Draft&&s.Draft)?le:Object,Boolean]),Object(i.__metadata)("design:returntype",void 0)],t.prototype,"setIsSubscribed",null),Object(i.__decorate)([Object(r.b)(),Object(i.__metadata)("design:type",Function),Object(i.__metadata)("design:paramtypes",["function"===typeof(ue="undefined"!==typeof d.a&&d.a)?ue:Object,"function"===typeof(ce="undefined"!==typeof d.a&&d.a)?ce:Object]),Object(i.__metadata)("design:returntype","function"===typeof(de="undefined"!==typeof d.a&&d.a)?de:Object)],t.prototype,"toggleSubscribed",null),t=Object(i.__decorate)([Object(a.a)(),Object(i.__metadata)("design:paramtypes",["function"===typeof(pe="undefined"!==typeof O.a&&O.a)?pe:Object,"function"===typeof(me="undefined"!==typeof S.a&&S.a)?me:Object,"function"===typeof(fe="undefined"!==typeof _.a&&_.a)?fe:Object])],t)}(o.a)},bGPS:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("D57K"),a=n("O94r"),r=n.n(a),o=n("RNvQ"),s=n.n(o),l=n("uZih"),u=n.n(l),c=n("ERkP"),d=n.n(c),p=n("bRUR"),m=n.n(p);function f(e){"function"===typeof e&&e()}var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onScroll=s()((function(){if(t.props.innerRef&&t.props.innerRef.current){var e=t.props.innerRef.current,n=e.scrollTop,i=e.scrollLeft,a=e.clientHeight,r=e.clientWidth,o=e.scrollHeight,s=e.scrollWidth;0===n?f(t.props.onYReachStart):n+a-o===0&&f(t.props.onYReachEnd),0===i?f(t.props.onXReachStart):i+r-s===0&&f(t.props.onXReachEnd)}}),30),t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=u()(this.props,["onYReachStart","onXReachStart","onYReachEnd","onXReachEnd"]),t=e.overflowX,n=e.overflowY,a=e.style,o=e.className,s=e.innerRef,l=Object(i.__rest)(e,["overflowX","overflowY","style","className","innerRef"]);return d.a.createElement("div",Object(i.__assign)({},l,{ref:s,style:Object(i.__assign)(Object(i.__assign)({},a),{overflowX:t,overflowY:n}),className:r()(m.a.container,o),onScroll:this.onScroll}),this.props.children)},t.defaultProps={innerRef:d.a.createRef()},t}(d.a.PureComponent)},bRUR:function(e,t,n){e.exports={container:"container__1_WK"}},brrL:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("D57K"),a=n("ERkP"),r=n.n(a),o=n("GG6d"),s=r.a.forwardRef((function(e,t){return r.a.createElement(o.a,Object(i.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),r.a.createElement("path",{fillRule:"evenodd",d:"M20 12.005v-.828a1 1 0 112 0v.829a10 10 0 11-5.93-9.14 1 1 0 01-.814 1.826A8 8 0 1020 12.005zM8.593 10.852a1 1 0 011.414 0L12 12.844l8.293-8.3a1 1 0 011.415 1.413l-9 9.009a1 1 0 01-1.415 0l-2.7-2.7a1 1 0 010-1.414z",clipRule:"evenodd"}))}))},ccKo:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("D57K"),a=n("ERkP"),r=n.n(a),o=n("GG6d"),s=r.a.forwardRef((function(e,t){return r.a.createElement(o.a,Object(i.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),r.a.createElement("path",{fillRule:"evenodd",d:"M15.877 6.994a4 4 0 10-7.75 0h7.75zM18 15v1c0 .768-.144 1.503-.408 2.178l2.115 2.115.083.094a1 1 0 01-1.497 1.32l-1.767-1.767A5.986 5.986 0 0112 22a5.993 5.993 0 01-4.9-2.536L4.684 21.73a1 1 0 01-1.454-1.368l.086-.091 2.89-2.71a5.994 5.994 0 01-.202-1.336L6 16v-1H3a1 1 0 01-.117-1.993L3 13h3V9.414L3.293 6.707l-.083-.094a1 1 0 011.497-1.32L7.414 8h8.99l2.912-2.73a1 1 0 011.454 1.368l-.086.092L18 9.246V13h3a1 1 0 01.117 1.993L21 15h-3z",clipRule:"evenodd"}))}))},fSLP:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("TMWK"),a=n("fgAA"),r=n("4j/N"),o=Object(i.a)(r.a,{target:"er56ft30"})({"&::before":{content:'""',display:"inline-block",width:"16px",height:"16px",marginRight:"4px",border:"2px solid "+a.a.grey(5),boxSizing:"border-box",flex:"0 0 auto",borderRadius:"100%",background:a.a.grey(0)},"&:hover":{"&::before":{borderColor:""+a.a.primary(5)}}},(function(e){return e.checked?{"&::before":{border:"5px solid "+a.a.primary(5)},"&:hover":{"&::before":{borderColor:""+a.a.primary(6)}}}:{}}),(function(e){return e.disabled?{color:""+a.a.grey(6),"&::before":{background:a.a.grey(3),borderColor:a.a.grey(4)},"&:hover":{"&::before":{borderColor:a.a.grey(4)}}}:{}}))},g1oq:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var i,a=n("34li").Q.QuestionDetailTour;!function(e){e.DESCRIPTION="description",e.SUBMISSIONS="submissions",e.SOLUTION="solution",e.CN_COMMENTS="comments"}(i||(i={}))},iaxv:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var i,a=n("D57K"),r=n("ERkP"),o=n.n(r),s=n("JFCy"),l=n("TMWK"),u=n("fgAA"),c=Object(l.a)("div")(i||(i=Object(a.__makeTemplateObject)(["\n  border-top: 1px solid ",";\n  overflow: hidden;\n"],["\n  border-top: 1px solid ",";\n  overflow: hidden;\n"])),u.a.grey(2)),d=n("uZih"),p=n.n(d);function m(e){var t=e.visible,n=e.defaultHeight;return"height: "+(t?n:0)+"px;"}function f(e){return"opacity: "+(e.visible?1:0)+";"}var b,g,v,h=Object(l.a)((function(e){var t=e.forwardedRef,n=Object(a.__rest)(e,["forwardedRef"]);return o.a.createElement("div",Object(a.__assign)({ref:t},p()(n,"visible","defaultHeight")))}))(b||(b=Object(a.__makeTemplateObject)(["\n  "," ","\n  transition: height .3s, opacity .15s;\n  overflow: hidden;\n  &::after {\n    content: '';\n    display: block;\n    margin-bottom: 15px;\n  }\n"],["\n  "," ","\n  transition: height .3s, opacity .15s;\n  overflow: hidden;\n  &::after {\n    content: '';\n    display: block;\n    margin-bottom: 15px;\n  }\n"])),m,f),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={defaultHeight:0},t._forwardedRef=o.a.createRef(),t}return Object(a.__extends)(t,e),Object.defineProperty(t.prototype,"forwardedRef",{get:function(){return this.props.forwardedRef||this._forwardedRef},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.updateDefaultHeightIfNeed()},t.prototype.componentDidUpdate=function(){this.updateDefaultHeightIfNeed()},t.prototype.updateDefaultHeightIfNeed=function(){if(this.props.visible){var e=this.forwardedRef.current?this.forwardedRef.current.scrollHeight:0;this.state.defaultHeight!==e&&this.setState({defaultHeight:e})}},t.prototype.render=function(){return o.a.createElement(h,{visible:this.props.visible,defaultHeight:this.state.defaultHeight,forwardedRef:this.forwardedRef},this.props.children)},t}(o.a.PureComponent),k=n("5ZzG"),O=Object(l.a)((function(e){return o.a.createElement(k.a,Object(a.__assign)({type:"angle-down"},p()(e,"isActive")))}))(g||(g=Object(a.__makeTemplateObject)(["\n  width: 18px;\n  height: 18px;\n  flex: 0 0 auto;\n  transform: rotate(","deg);\n  transition: transform 0.3s;\n"],["\n  width: 18px;\n  height: 18px;\n  flex: 0 0 auto;\n  transform: rotate(","deg);\n  transition: transform 0.3s;\n"])),(function(e){return e.isActive?180:0})),_=Object(l.a)("div")(v||(v=Object(a.__makeTemplateObject)(["\n  flex: 1 1 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"],["\n  flex: 1 1 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),S=n("f7k3"),j=Object(S.b)({display:"flex",alignItems:"center",cursor:"pointer",transition:"padding .3s, color .3s",userSelect:"none",color:u.a.grey(6),"> svg":{transition:"color .3s",color:u.a.grey(4)},"&:hover":{"&, > svg":{color:u.a.grey(9)}}},"label:baseHeaderStyle;"),N=Object(l.a)("div",{target:"elxju5k0"})((function(e){var t,n=e.size,i=e.isActive;return(t={},t[s.d.SM]=Object(S.b)(j,{minHeight:"40px",padding:(i?21:0)+"px 0"}),t[s.d.XS]=Object(S.b)(j,{minHeight:"32px",padding:(i?19:0)+"px 0"}),t)[n]})),E=function(e){var t=e.size,n=e.isActive,i=e.children,a=e.onClick;return o.a.createElement(N,{size:t,isActive:n,onClick:a},o.a.createElement(_,null,i),o.a.createElement(O,{isActive:n}))},C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isActive:!1},t.containerRef=o.a.createRef(),t.contentRef=o.a.createRef(),t.toggleOpen=function(){"function"===typeof t.props.onPanelClick&&t.props.onPanelClick(t.state.isActive),void 0===t.props.isActive&&t.setState((function(e){return{isActive:!e.isActive}}))},t.scrollContainerIntoViewIfNeed=function(e){var n=t.contentRef.current,i=t.containerRef.current;if((!e||!e.isActive)&&n&&i&&t.state.isActive&&t.props.autoScrollIntoView){var a=function(e){"height"===e.propertyName&&(i.scrollIntoView({behavior:"smooth"}),n.removeEventListener("transitionend",a))};n.addEventListener("transitionend",a)}},t}return Object(a.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.isActive;return{isActive:"boolean"===typeof n?n:t.isActive}},t.prototype.componentDidUpdate=function(e,t){this.scrollContainerIntoViewIfNeed(t)},t.prototype.render=function(){var e=this.props,t=e.size,n=void 0===t?s.d.SM:t,i=e.header,a=e.children,r=e.className,l=this.state.isActive;return o.a.createElement(c,{ref:this.containerRef,className:r},o.a.createElement(E,{size:n,isActive:l,onClick:this.toggleOpen},i),o.a.createElement(y,{forwardedRef:this.contentRef,visible:l},a))},t.defaultProps={size:s.d.SM},t}(o.a.PureComponent)},jYA5:function(e,t,n){e.exports={"question-list":"question-list__1Kev",questionList:"question-list__1Kev",question:"question__3lUu",active:"active__2qli","question-row-left":"question-row-left__3GJe",questionRowLeft:"question-row-left__3GJe","question-status":"question-status__3eE7",questionStatus:"question-status__3eE7","question-row-icon":"question-row-icon__1hmF",questionRowIcon:"question-row-icon__1hmF","question-row-right":"question-row-right__D_cf",questionRowRight:"question-row-right__D_cf","paid-only-status":"paid-only-status__13fo",paidOnlyStatus:"paid-only-status__13fo","paid-only-icon":"paid-only-icon__hiYO",paidOnlyIcon:"paid-only-icon__hiYO"}},lJpC:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("D57K"),a=n("ERkP"),r=n.n(a),o=n("GG6d"),s=r.a.forwardRef((function(e,t){return r.a.createElement(o.a,Object(i.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),r.a.createElement("path",{fillRule:"evenodd",d:"M18.48 17.5h-2.204a5 5 0 01-4.31-2.466l-.625-1.061-.624 1.061a5 5 0 01-4.31 2.466H2.661a1 1 0 110-2h3.746a3 3 0 002.586-1.48L10.181 12 8.993 9.98A3 3 0 006.407 8.5H2.661a1 1 0 110-2h3.746a5 5 0 014.31 2.466l.624 1.061.624-1.061a5 5 0 014.31-2.466h2.205V4.315a.5.5 0 01.874-.332l2.536 2.853a1 1 0 010 1.328l-2.536 2.853a.5.5 0 01-.874-.332V8.5h-2.204a3 3 0 00-2.587 1.48L12.501 12l1.188 2.02a3 3 0 002.587 1.48h2.204v-2.185a.5.5 0 01.874-.332l2.83 3.185a.5.5 0 010 .664l-2.83 3.185a.5.5 0 01-.874-.332V17.5z",clipRule:"evenodd"}))}))},"mWj+":function(e,t){e.exports="https://static.leetcode-cn.com/cn-mono-assets/production/assets/check_in_rule_02.e6a513a6.png"},nIV7:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("D57K"),a=n("o44P"),r=n.n(a),o=n("aWzz"),s=n.n(o),l=n("ERkP"),u=n.n(l),c=n("sypB"),d=n("5ZzG"),p=n("RVaT"),m=n.n(p),f=r.a.bind(m.a),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isActive:!1},t.onEntering=function(e){t.setState({height:e.scrollHeight})},t.onEntered=function(){t.setState({height:null})},t.onExit=function(e){t.setState({height:e.scrollHeight})},t.onExiting=function(e){e.offsetHeight;t.setState({height:0})},t.onExited=function(){t.setState({height:null})},t.onPanelClick=function(e){t.props.onPanelClick&&null!==t.props.isActive?t.props.onPanelClick(e):t.setState((function(e){return{isActive:!e.isActive}}))},t.getHeaderProps=function(){var e=t.props;e.header,e.isActive,e.onPanelClick,e.headerCls,e.contentWrapperCls,e.contentCls,e.collapse,e.panelCls;return Object(i.__rest)(e,["header","isActive","onPanelClick","headerCls","contentWrapperCls","contentCls","collapse","panelCls"])},t}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.isActive;return{isActive:"boolean"===typeof n?n:t.isActive}},t.prototype.render=function(){var e=this,t=f("panel","toggle")+" "+this.props.panelCls,n=f("header",{active:this.state.isActive,collapse:this.props.collapse},this.props.headerCls);return u.a.createElement("div",{className:t},u.a.createElement("button",Object(i.__assign)({onClick:this.onPanelClick,className:n,"aria-expanded":this.state.isActive,tabIndex:"-1"},this.getHeaderProps()),u.a.createElement("div",{className:m.a.headerContent},this.props.header),u.a.createElement("div",{className:m.a.iconWrapper},u.a.createElement(d.a,{type:"angle-down"}))),u.a.createElement(c.a,{in:this.state.isActive,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited,timeout:300},(function(t){var n,i=f("contentWrapper",((n={})[t]="entered"!==t,n.collapse=e.props.collapse,n),e.props.contentWrapperCls),a=f("content",e.props.contentCls);return u.a.createElement("div",{style:{height:e.state.height},className:i},u.a.createElement("div",{className:a},e.props.children))})))},t.propTypes={header:s.a.oneOfType([s.a.string,s.a.number,s.a.node]),headerCls:s.a.string,isActive:s.a.bool,onPanelClick:s.a.func,panelCls:s.a.string,contentWrapperCls:s.a.string,contentCls:s.a.string,collapse:s.a.bool},t.defaultProps={header:"",headerCls:null,isActive:null,onPanelClick:null,panelCls:"",contentWrapperCls:"",contentCls:"",collapse:!1},t}(l.PureComponent)},p29K:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("D57K"),a=n("ERkP"),r=n.n(a),o=n("GG6d"),s=r.a.forwardRef((function(e,t){return r.a.createElement(o.a,Object(i.__assign)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),r.a.createElement("path",{fillRule:"evenodd",d:"M6.793 3C4.635 3 2.737 4.35 2.055 6.325a1 1 0 101.89.652C4.349 5.81 5.489 5 6.794 5c1.663 0 3 1.3 3 2.889V10H6a3 3 0 00-3 3v6a3 3 0 003 3h12a3 3 0 003-3v-6a3 3 0 00-3-3h-6.207V7.889c0-2.707-2.244-4.889-5-4.889zM12 14a2 2 0 100 4 2 2 0 000-4z",clipRule:"evenodd"}))}))},pxZ7:function(e,t,n){"use strict";t.a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"allQuestions"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allQuestionsBeta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"questionSummaryFields"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"questionSummaryFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"QuestionNode"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questionFrontendId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"difficulty"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPaidOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"categoryTitle"},arguments:[],directives:[]}]}}],loc:{source:{body:"#import '../fragments/question.graphql'\n\nquery allQuestions{\n  allQuestionsBeta {\n    ...questionSummaryFields\n  }\n}\n"}},operationName:"allQuestions",defName:"allQuestionsBeta"}},q4vt:function(e,t,n){"use strict";n.d(t,"a",(function(){return K}));var i=n("nnm9"),a=n.n(i),r=n("ERkP"),o=n.n(r),s=n("Tr4L"),l=n("zCf4"),u=n("JFCy"),c=n("ildc"),d=n("IQPx"),p=n("v31z"),m=n("5ZzG"),f=n("l1SX"),b=n("r8f/"),g=n("bGPS"),v=n("UqMZ"),h=n("nCMh"),y=n("7J95"),k=n("BLmU"),O=function(e){return Object(k.a)("/problems",e,"/")},_=n("D57K"),S=n("f7k3"),j=n("dVZ9"),N=(n("YdMF"),n("BQ33")),E=n.n(N),C=n("vm2h"),x=n.n(C),q=n("h++M"),F=n.n(q),T=n("daAW"),w=n("YnR9"),I=n("AAfO"),P=n("kCEr"),R=Object(S.b)(P.d,"label:globalStyles;"),D=n("TO/R"),A=n.n(D),Q=n("LjK2"),L=j.a.Column;E.a.extend(x.a);var M=Object(r.memo)((function(e){return o.a.createElement("td",Object(_.__assign)({},e,{className:A.a.customTd}))})),V={body:{row:Object(r.memo)((function(e){return o.a.createElement("tr",Object(_.__assign)({},e,{className:A.a.customTr}))})),cell:M}},z=Object(r.memo)((function(e){var t=e.submissions,n=Object(s.a)("submission").t,i=function(e,t){return"Not Pending"===e?t:e},a=Object(r.useMemo)((function(){return t.map((function(e){var t=e.isPending,n=e.statusDisplay,a=e.timestamp,r=Object(_.__rest)(e,["isPending","statusDisplay","timestamp"]);return Object(_.__assign)(Object(_.__assign)({},r),{status:i(t||"Not Pending",n||""),time:E.a.unix(Number(a)||0).fromNow(),timestamp:a})}))}),[t]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(S.a,{styles:R}),o.a.createElement(j.a,{dataSource:a,className:A.a.table,pagination:!1,components:V,rowKey:"id"},o.a.createElement(L,{className:A.a.timeColumn,title:n("submit_time"),dataIndex:"time",key:"time"}),o.a.createElement(L,{className:A.a.statusColumn,title:n("submit_result"),dataIndex:"status",key:"status",render:function(e,t){return t.id?o.a.createElement(T.a,{to:w.a.main.paths.submissionDetail.home({submissionId:t.id}),className:(i=t.status,a={Pending:"pending",Accepted:"ac"}[i]||"error",A.a[a]),target:"_blank"},Object(Q.a)(t.status,n)):Object(Q.a)(t.status,n);var i,a}}),o.a.createElement(L,{className:A.a.runtimeColumn,title:n("runtime"),dataIndex:"runtime",key:"runtime"}),o.a.createElement(L,{className:A.a.memoryColumn,title:n("memory"),dataIndex:"memory",key:"memory"}),o.a.createElement(L,{className:A.a.langColumn,title:n("lang"),dataIndex:"lang",key:"lang",render:function(e){return I.a[e]?I.a[e]:F()(e)}})))})),W=function(){var e=Object(r.useCallback)((function(){v.a.signIn()}),[]);return o.a.createElement(d.a,{title:"\u767b\u5f55\u4ee5\u67e5\u770b\u60a8\u7684\u63d0\u4ea4\u8bb0\u5f55"},o.a.createElement(p.a,{size:u.a,onClick:e},"\u767b\u5f55 ",o.a.createElement(m.a,{type:"caret-right"})))},B=function(){return o.a.createElement("div",{className:A.a.loading},o.a.createElement(f.a,{isBlocking:!1}))},H=Object(r.memo)((function(e){return e.isFetchingMore?o.a.createElement("div",{className:A.a.loadMore},o.a.createElement(f.a,{isBlocking:!1})):null})),$=Object(r.memo)((function(e){var t=e.isFetchingMore,n=e.loading,i=e.submissions;return n&&!i?o.a.createElement(B,null):o.a.createElement("div",null,o.a.createElement(z,{submissions:i}),o.a.createElement(H,{isFetchingMore:t}))})),U=Object(r.memo)((function(e){var t=Object(l.h)(),n=e.submitResult,i=e.nextChallengePairs,a=e.getNextChallengePairs,s=e.testcaseLink,u=Object(r.useCallback)((function(e){t.push(O(e))}),[]),d=Object(r.useCallback)((function(e){var t=Object(c.h)()?e.metaKey:e.ctrlKey;e.shiftKey||t||(e.preventDefault(),u(e.currentTarget.dataset.questionTitleSlug))}),[u]),p=Object(r.useCallback)((function(e){return O(e)}),[]);return n&&(n.status||n.error)?o.a.createElement("div",{className:A.a.resultContainer},n.status===y.a.PD?o.a.createElement(b.a,null):o.a.createElement(h.a,{simpleMode:e.simpleMode,result:n,onNextChallengeClick:d,nextChallengeHref:p,nextChallengePairs:i,getNextChallengePairs:a,onClickResultDetail:e.onClickResultDetail,testcaseLink:s,writeAcSolution:e.writeAcSolution})):null})),K=Object(r.memo)((function(e){var t=Object(s.a)("submission").t,n=Object(r.useRef)(null),i=e.submissions,l=e.loading,u=e.fetchingMore,c=e.isAuthenticated,p=e.getNextChallengePairs,m=e.nextChallengePairs,f=e.onClickResultDetail,b=e.simpleMode,v=e.submitResult,h=e.getSubmissions,k=void 0===h?a.a:h,O=e.getMoreSubmissions,_=void 0===O?a.a:O,S=e.writeAcSolution,j=e.testcaseLink;Object(r.useEffect)((function(){return k()}),[k]),Object(r.useEffect)((function(){if(v&&n.current&&v.status===y.a.PD&&v.status!==y.a.PD){var e=n.current;e.scrollTop=0,e.scrollLeft=0}}),[v]);var N=Object(r.useCallback)((function(){return _()}),[_]);return c?l&&!i.length?o.a.createElement(B,null):0!==i.length||v&&(v.status||v.error)?o.a.createElement(g.a,{innerRef:n,className:A.a.container,onYReachEnd:N},o.a.createElement("div",{className:A.a.submissions},o.a.createElement(U,{submitResult:v,nextChallengePairs:m,getNextChallengePairs:p,onClickResultDetail:f,simpleMode:!!b,writeAcSolution:S,testcaseLink:j}),o.a.createElement($,{isFetchingMore:!!u,loading:!!l,submissions:i}))):o.a.createElement(d.a,{title:t("no_submission_records")}):o.a.createElement(W,null)}))},qDJR:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("D57K"),a=n("cdBm"),r=n("ERkP"),o=n.n(r),s=n("Y9Gt"),l=n("pI2m"),u=n("fgAA"),c={defaultScheme:"default",schemes:{default:{fontColor:u.a.grey(8),backgroundColor:u.a.grey(0),borderColor:u.a.grey(3),darkBackgroundColor:u.a.grey(3),darkBorderColor:u.a.grey(4)}}},d=n("TMWK"),p=n("/NrN"),m=Object(d.a)("div",{target:"e1pcz1oz0"})({display:"flex",alignItems:"center",justifyContent:"flex-end",marginTop:"20px"},"label:ButtonWrapper;"),f=Object(d.a)(p.a,{target:"e1pcz1oz1"})({marginLeft:"12px"},"label:ButtonComponent;"),b=Object(d.a)("div",{target:"e1pcz1oz2"})({padding:"16px",minWidth:"200px",maxWidth:"240px",boxSizing:"border-box"},"label:Wrapper;"),g=Object(a.combine)({colorScheme:c},(function(e){var t=e.isActive,n=e.onChangeActive,a=e.content,u=e.placement,c=e.trigger,d=e.children,p=e.onConfirm,g=e.onCancel,v=e.confirmText,h=void 0===v?"\u786e\u8ba4":v,y=e.cancelText,k=void 0===y?"\u53d6\u6d88":y,O=Object(i.__rest)(e,["isActive","onChangeActive","content","placement","trigger","children","onConfirm","onCancel","confirmText","cancelText"]),_=Object(i.__read)(Object(l.a)({defaultState:!1,propState:t,onStateChange:n}),2),S=_[0],j=_[1],N=Object(r.useCallback)((function(){p(),j(!1)}),[p]),E=Object(r.useCallback)((function(){g&&g(),j(!1)}),[g]),C=o.a.createElement(b,null,a,o.a.createElement(m,null,o.a.createElement(f,{onClick:N,size:"xs",text:h,kind:"primary"}),o.a.createElement(f,{onClick:E,size:"xs",text:k})));return o.a.createElement(s.a,Object(i.__assign)({isActive:S,onChangeActive:j,content:C,placement:u,trigger:c},O),d)}))},r7Gw:function(e,t,n){e.exports={layout:"layout__3dXm",header:"header__3nWb",main:"main__1pRE",loading:"loading__8z6l","reversed-modal":"reversed-modal__31Wv",reversedModal:"reversed-modal__31Wv"}},"r8f/":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ERkP"),a=n.n(i),r=n("H2Uy"),o=Object(i.memo)((function(){return a.a.createElement(r.e,null,a.a.createElement(r.a,null),a.a.createElement(r.c,null,a.a.createElement(r.b,null),a.a.createElement(r.b,null),a.a.createElement(r.b,null)))}))},"rP/O":function(e,t){e.exports="https://static.leetcode-cn.com/cn-mono-assets/production/assets/check_in_rule_01.e551c714.png"},udAK:function(e,t,n){e.exports={"tab-pane":"tab-pane__1SHj",tabPane:"tab-pane__1SHj"}},xxSs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m}));var i,a=n("ERkP"),r=n.n(a),o=n("1szP"),s=n("5ZzG"),l=n("nXSc"),u=n("TMWK"),c=Object(u.a)("div",{target:"e13xme9p0"})({display:"flex",justifyContent:"center",svg:{marginRight:"2px"}},"label:TabHeader;");!function(e){e[e.SMALL=340]="SMALL",e[e.COMPACT=440]="COMPACT",e.REGULAR="regular"}(i||(i={}));var d={isSmall:function(e){return e<=i.SMALL},isCompact:function(e){return e<=i.COMPACT&&!this.isSmall(e)},getSize:function(e){switch(!0){case this.isSmall(e):return i.SMALL;case this.isCompact(e):return i.COMPACT;default:return i.REGULAR}}},p=function(e,t){return Object(o.renderWithSize)((function(e){return{size:e?d.getSize(e.width):i.REGULAR}}),(function(n){switch(n.size){case i.SMALL:return null;case i.COMPACT:return t;default:return e}}))};function m(e){var t=e.icon,n=e.Title,i=e.toolTipTitle,a=e.isActive,o=r.a.createElement(c,null,t&&r.a.createElement(s.a,{type:t}),r.a.createElement(n,{isActive:a}));return i?r.a.createElement(l.a,{content:i,placement:"bottom"},o):o}}}]);